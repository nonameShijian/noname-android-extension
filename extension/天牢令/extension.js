game.import("extension",function(lib,game,ui,get,ai,_status){return {name:"å¤©ç‰¢ä»¤",content:function(config,pack){
    
	lib.arenaReady.push(() => {
                let name = "å¤©ç‰¢ä»¤";
                delete lib.extensionMenu[`extension_${name}`].delete;
	});
    // ---------------------------------------å¤©ç‰¢æ ‡ç­¾------------------------------------------//æ„Ÿè°¢äº‘å°†ä½œè€…æŸšä½¬çš„ä»£ç 
    
                lib.arenaReady.push(function (){
                if (lib.config.extensions&&lib.config.extensions.contains('åå‘¨å¹´UI')&&lib.config['extension_åå‘¨å¹´UI_enable']) {
                    if (lib.config['extension_åå‘¨å¹´UI_showJieMark']) {
                        lib.tl_player_init=lib.element.player.init;
                        lib.element.player.init=function(character,character2,skill){
                            var lao={
                                JX_zhangliang:"Â§å¼ æ¢",
		                        JX_yanjun:"Â§ä¸¥ç•¯",
                                JX_xuezong:"Â§è–›ç»¼",
                                JX_xushu:"Â§å¾åº¶",
                                JX_sunqian:"Â§å­™ä¹¾",
                                JX_guanqiujian:"Â§æ¯Œä¸˜ä¿­",
                                JX_caohong:"Â§æ›¹æ´ª",
                                JX_caiyong:"Â§è”¡é‚•",
                                JX_hanfu:"Â§éŸ©é¦¥",
                                JX_yanyan:"Â§ä¸¥é¢œ",
                                JX_quancong:"Â§å…¨ç®",
                                JX_jiling:"Â§çºªçµ",
                                JX_wenpin:"Â§æ–‡è˜",
                                JX_kuailiangkuaiyue:"Â§è’¯è‰¯è’¯è¶Š",
                                JX_shen_zhangliao:"Â§ç¥å¼ è¾½",
                                JX_taishici:"Â§å¤ªå²æ…ˆ",
                                JX_chendao:"Â§é™ˆåˆ°",
                                JX_xiahouba:"Â§å¤ä¾¯éœ¸",
                                JX_zhugejin:"Â§è¯¸è‘›ç‘¾",
                                JX_zumao:"Â§ç¥–èŒ‚",
                                JX_shenlvmeng:"Â§ç¥å•è’™",
                                JX_shenguanyu:"Â§ç¥å…³ç¾½",
                                JX_shenlvbu:"Â§ç¥å•å¸ƒ",
                                JX_shenzhugeliang:"Â§ç¥è¯¸è‘›äº®",
                                JX_wangcan:"Â§ç‹ç²²",
                                JX_SPpangtong:"Â§åºç»Ÿ",
                                JX_xiahoushi:"Â§å¤ä¾¯æ°",
                                JX_lidian:"Â§æå…¸",
                                JX_yanbaihu:"Â§ä¸¥ç™½è™",
                                JX_zhugeguo:"Â§è¯¸è‘›æœ",
                                JX_dingfeng:"Â§ä¸å¥‰",
                                JX_shenliubei:"Â§ç¥åˆ˜å¤‡",
                                JX_liuye:"Â§åˆ˜æ™”",
                                JX_xiangchong:"Â§å‘å® ",
                                JX_zhoutai:"Â§å‘¨æ³°",
                                JX_sp_machao:"Â§é©¬è¶…",
                                JX_spjiangwei:"Â§å§œç»´",
                                JX_xiahouyuan:"Â§å¤ä¾¯æ¸Š",
                                JX_zhujun:"Â§æœ±å„",
                                JX_caozhang:"Â§æ›¹å½°",
                                JX_yuanshao:"Â§è¢ç»",
                                JX_dianwei:"Â§å…¸éŸ¦",
                                JX_shenluxun:"Â§ç¥é™†é€Š",
                                JX_simazhao:"Â§å¸é©¬æ˜­",
		                   	    JX_boss_simazhao:"Â§å¸é©¬æ˜­",
		                   	    JX_wei_simazhao:"Â§å¸é©¬æ˜­",
                                JX_huangyueying:"Â§é»„æœˆè‹±",
                                JX_sundengzhoufei:"Â§å­™ç™»å‘¨å¦ƒ",
                                JX_lukang:"Â§é™†æŠ—",
                                JX_retaishici:"Â§å¤ªå²æ…ˆ",
                                JX_xingdaorong:"Â§é‚¢é“è£",
                                JX_miganfuren:"Â§ç”˜å¤«äººç³œå¤«äºº",
                                JX_chenlin:"Â§é™ˆç³",
                                JX_xunyou:"Â§è€æ”¸",
                                JX_wutugu:"Â§å…€çªéª¨",
                                JX_liuzan:"Â§ç•™èµ",
                                JX_sunchen:"Â§å­™ç¶",
                                JX_zhangbao:"Â§å¼ å®",
                                JX_cheliji:"Â§å½»é‡Œå‰",
                                JX_zhuhuan:"Â§æœ±æ¡“",
                                JX_dongzhuo:"Â§è‘£å“",
                                JX_heqi:"Â§è´ºé½",
                                JX_yujin:"Â§äºç¦",
                                JX_fuqian:"Â§å‚…ä½¥",
                                JX_zhanghe:"Â§å¼ éƒƒ",
                                JX_gongsunzan:"Â§å…¬å­™ç“’",
                                JX_jiayu:"Â§è´¾è¯©",
                                JX_caoang:"Â§æ›¹æ˜‚",
                                JX_yanliangwenchou:"Â§é¢œè‰¯æ–‡ä¸‘",
                                JX_liuchen:"Â§åˆ˜è°Œ",
                                JX_zhugeke:"Â§è¯¸è‘›æª",
                                JX_gaoshun:"Â§é«˜é¡º",
                                JX_zhaotongzhaoguang:"Â§èµµç»Ÿèµµå¹¿",
                                JX_zhangzhaozhanghong:"Â§å¼ æ˜­å¼ çº®",
                                JX_tadun:"Â§è¹‹é¡¿",
                                JX_dengai:"Â§é‚“è‰¾",
		                   	    JX_hetaihou:"Â§ä½•å¤ªå",
		                   	    JX_liuyao:"Â§åˆ˜ç¹‡",
		                   	    JX_huangzhong:"Â§é»„å¿ ",
		                    	JX_liubei:"Â§åˆ˜å¤‡",
		                   	    JX_wangji:"Â§ç‹åŸº",
		                   	    JX_zhonghui:"Â§é’Ÿä¼š",
		                   	    JX_hanhaoshihuan:"Â§éŸ©æµ©å²æ¶£",
		                   	    JX_yl_luzhi:"Â§å¢æ¤",
		                   	    JX_chendong:"Â§é™ˆæ­¦è‘£è¢­",
			                    JX_xujingxushao:"Â§è®¸é–è®¸é‚µ",
			                    JX_gongsunyuan:"Â§å…¬å­™æ¸Š",
			                    JX_dingyuan:"Â§ä¸åŸ",
			                    JX_wangyi:"Â§ç‹å¼‚",
			                    JX_zhugedan:"Â§è¯¸è‘›è¯",
			                    JX_liufeng:"Â§åˆ˜å°",
			                    JX_ganning:"Â§ç”˜å®",
			                    JX_sp_zhugeliang:"Â§å§é¾™è¯¸è‘›",
			                    JX_luxun:"Â§é™†é€Š",
			                    JX_zhugeliang:"Â§è¯¸è‘›äº®",
			                    JX_sunziliufang:"Â§å­™èµ„åˆ˜æ”¾",
			                    JX_zhangrangzhaozhong:"Â§å¼ è®©èµµå¿ ",
			                    JX_sunquan:"Â§å­™æƒ",
			                    JX_fazheng:"Â§æ³•æ­£",
			                    JX_shen_zhouyu:"Â§ç¥å‘¨ç‘œ",
			                    JX_fanjiangzhangda:"Â§èŒƒç–†å¼ è¾¾",
			                    JX_lvmeng:"Â§å•è’™",
			                    JX_zhangji:"Â§å¼ æµ",
			                    JX_daxiaoqiao:"Â§å¤§å°ä¹”",
			                    JX_sp_jiangwan:"Â§è’‹ç¬",
			                    JX_cuiyan:"Â§å´”ç°",
			                    JX_zhouqun:"Â§å‘¨ç¾¤",
			                    JX_zhangliao:"Â§å¼ è¾½",
			                    JX_lingtong:"Â§å‡Œç»Ÿ",
			                    JX_xuyou:"Â§è®¸æ”¸",
								JX_lvbu:"Â§å•å¸ƒ",
								JX_guosi:"Â§éƒ­æ±œ",
								JX_lingju:"Â§çµé›",
								JX_sp_pangde:"Â§åºå¾·",
								db_yuji:"Â§äºå‰",
								JX_huaxiong:"Â§åé›„",
								JX_jianggan:"Â§è’‹å¹²",
								JX_haozhao:"Â§éƒæ˜­",
								JX_zhangxingcai:"Â§å¼ æ˜Ÿå½©",
								JX_guanyinping:"Â§å…³é“¶å±",
								JX_mayunlu:"Â§é©¬äº‘ç¦„",
								JX_qinghegongzhu:"Â§æ¸…æ²³å…¬ä¸»",
								JX_sunluban:"Â§å…¨å…¬ä¸»",
								JX_xuhuang:"Â§å¾æ™ƒ",
								JX_xuangongzhu:"Â§å®£å…¬ä¸»",
								JX_caojinyu:"Â§é‡‘ä¹¡å…¬ä¸»",
								JX_liru:"Â§æå„’",
								JX_jianyong:"Â§ç®€é›",
								JX_sunce:"Â§å­™ç­–",
								JX_wangyun:"Â§ç‹å…",
								JX_caoying:"Â§æ›¹å©´",
								JX_baosanniang:"Â§é²ä¸‰å¨˜",
								JX_caochun:"Â§æ›¹çº¯",
								JX_xiahoudun:"Â§å¤ä¾¯æƒ‡",
								JX_litong:"Â§æé€š",
								JX_zhaoyun:"Â§èµµäº‘",
								JX_jin_yanghu:"Â§ç¾Šç¥œ",
								JX_lvlingqi:"Â§å•ç²ç»®",
								JX_machao:"Â§é©¬è¶…",
								JX_cenhun:"Â§å²‘æ˜",
								JX_caifuren:"Â§è”¡å¤«äºº",
								JX_wangshuang:"Â§ç‹åŒ",
								JX_chengyu:"Â§ç¨‹æ˜±",
								JX_shen_simayi:"Â§ç¥å¸é©¬æ‡¿",
								JX_caoxiu:"Â§æ›¹ä¼‘",
								JX_lvdai:"Â§å•å²±",
								JX_shen_machao:"Â§ç¥é©¬è¶…",
								JX_zhangchangpu:"Â§å¼ æ˜Œè’²",
								JX_shen_jiangwei:"Â§ç¥å§œç»´",
								JX_zhangfei:"Â§å¼ é£",
								JX_guanyu:"Â§å…³ç¾½",
								JX_shen_xunyu:"Â§ç¥è€å½§",
								JX_wangyuanji:"Â§ç‹å…ƒå§¬",
								JX_shen_taishici:"Â§ç¥å¤ªå²æ…ˆ",
								JX_xurong:"Â§å¾è£",
								JX_zhenji:"Â§ç”„å§¬",
								JX_shen_sunquan:"Â§ç¥å­™æƒ",
								JX_jikang:"Â§åµ‡åº·",
								JX_caopicaozhi:"Â§æ›¹ä¸•æ›¹æ¤",
								JX_xusheng:"Â§å¾ç››",
								JX_shamoke:"Â§æ²™æ‘©æŸ¯",
								JX_simashi:"Â§å¸é©¬å¸ˆ",
								JX_guanping:"Â§å…³å¹³",
								JX_panjun:"Â§æ½˜æ¿¬",
								JX_caocao:"Â§æ›¹æ“",
								JX_zhouyu:"Â§å‘¨ç‘œ",
								JX_zhoufang:"Â§å‘¨é²‚",
								JX_luji:"Â§é™†ç»©",
								JX_zhangyÃ¬:"Â§å¼ ç¿¼",
								JX_zhouchu:"Â§å‘¨å¤„",
								JX_guohuai:"Â§éƒ­æ·®",
								JX_lijue:"Â§æå‚•",
								JX_zhangyi:"Â§å¼ å¶·",
								JX_shen_zhaoyun:"Â§ç¥èµµäº‘",
								JX_zhangjiao:"Â§å¼ è§’",
								JX_miheng:"Â§ç¥¢è¡¡",
								JX_huanggai:"Â§é»„ç›–",
								JX_shen_ganning:"Â§ç¥ç”˜å®",
								JX_huangzu:"Â§é»„ç¥–",
								JX_zhangning:"Â§å¼ å®",
								JX_lingcao:"Â§å‡Œæ“",
								JX_zhuzhi:"Â§æœ±æ²»",
								db_DIY_wenyang:"Â§æ–‡é¸¯",
								JX_chenqun:"Â§é™ˆç¾¤",
								JX_jiangqing:"Â§è’‹é’¦",
								JX_weiwenzhugezhi:"Â§å«æ¸©è¯¸è‘›ç›´",
								JX_sunjian:"Â§å­™åš",
                            };
							var yin={
								gai_shensunce:"â–¼ç¥å­™ç­–",
								yin_xunyou:"â™‹è€æ”¸",
								yin_liubei:"â™‹åˆ˜å¤‡",
								yin_weiwenzhugezhi:"â™‹å«æ¸©è¯¸è‘›ç›´",
								yin_zhoutai:"â™‹å‘¨æ³°",
								yin_zhangliao:"â™‹å¼ è¾½",
								yin_caishi:"â™‹è”¡æ°",
								yin_chendao:"â™‹é™ˆåˆ°",
								yin_liuxie:"â™‹åˆ˜å",
								yin_guanlu:"â™‹ç®¡è¾‚",
								yin_dingfeng:"â™‹ä¸å¥‰",
								yin_mateng:"â™‹é©¬è…¾",
								yin_dengzhi:"â™‹é‚“èŠ",
								yin_sunxiu:"â™‹å­™ä¼‘",
								gai_xushao:"â–¼è®¸åŠ­",
								yin_chunyuqiong:"â™‹æ·³äºç¼",
								gai_zhangfei:"â–¼å¼ é£",
								yin_caocao:"â™‹æ›¹æ“",
								gai_lingtong:"â–¼å‡Œç»Ÿ",
								yin_mouhuangzhong:"â™‹é»„å¿ ",
								yin_yuanshu:"â™‹è¢å…¬è·¯",
								yin_caoang:"â™‹æ›¹æ˜‚",
								yin_mouxusheng:"â™‹è°‹å¾ç››",
								gai_mouxusheng:"â–¼è°‹å¾ç››",
								yin_machao:"â™‹é©¬è¶…",
								yin_wenchu:"â™‹æ–‡ä¿¶",
								gai_shenlvbu:"â–¼ç¥å•å¸ƒ",
								yin_fazheng:"â™‹æ³•æ­£",
								yin_lvbuyihao:"â™‹å•å¸ƒä¸€å·",
								yin_lvbuerhao:"â™‹å•å¸ƒäºŒå·",
								yin_lvbusanhao:"â™‹å•å¸ƒä¸‰å·",
								gai_huangzhong:"â–¼è°‹é»„å¿ ",
								yin_manchong:"â™‹æ»¡å® ",
								yin_wupangtong:"â™‹å´åºç»Ÿ",
								yin_guanyu:"â™‹å…³ç¾½",
								yin_zhonghui:"â™‹é’Ÿä¼š",
								yin_suncezhouyu:"â™‹å­™ç­–å‘¨ç‘œ",
								yin_xunchen:"â™‹è€è°Œ",
								gai_luotong:"â–¼éª†ç»Ÿ",
								yin_mouzhaoyun:"â™‹è°‹èµµäº‘",
								gai_liru:"â–¼æå„’",
								yin_zhugeguo:"â™‹è¯¸è‘›æœ",
								gai_shenzhaoyun:"â–¼ç¥èµµäº‘",
								yin_lvlingqi:"â™‹å•ç²ç»®",
								yin_jushou:"â™‹æ²®æˆ",
								yin_shibao:"â™‹çŸ³è‹",
							};
                            var player=lib.tl_player_init.apply(this, arguments);
// ---------------------------------------ç‰¢æ ‡------------------------------------------//					        
                            if (character&&lao[character]) {
                                if (this.$jieMark == undefined){
                                    this.$jieMark = dui.element.create('jie-mark', this); 
                                }else {                                               
                                    this.appendChild(this.$jieMark);
                                };                             
                                this.$jieMark.style.backgroundImage='url("'+lib.assetURL+"extension/å¤©ç‰¢ä»¤/mark_lao.png"+'")';
                                return this;
                            };
// ---------------------------------------é˜´æ ‡------------------------------------------//					        
                            if (character&&yin[character]) {
                                if (this.$jieMark == undefined){
                                    this.$jieMark = dui.element.create('jie-mark', this); 
                                }else {                                               
                                    this.appendChild(this.$jieMark);
                                };                             
                                this.$jieMark.style.backgroundImage='url("'+lib.assetURL+"extension/å¤©ç‰¢ä»¤/mark_yin.png"+'")';
                                return this;
                            };
                            return this;
                        };
                    };
                };
            });   
	//åƒåœ¾æ­¦å°†
    lib.rank.rarity.junk.addArray(['JX_caozhang','JX_dianwei','JX_wutugu','JX_fanjiangzhangda','JX_sundengzhoufei']);
    //ç²¾å“æ­¦å°†
    lib.rank.rarity.rare.addArray(['JX_zhuzhi','JX_lingcao','JX_kuailiangkuaiyue','JX_lvdai','JX_cenhun','JX_jin_yanghu','JX_litong','JX_xiahoudun','JX_huaxiong','JX_guosi','JX_zhugedan','JX_hanhaoshihuan','JX_zhangzhaozhanghong','JX_zhuhuan','JX_dongzhuo','JX_cheliji','JX_xingdaorong','JX_zhujun','JX_zhoutai','JX_lidian','JX_zhangliang','JX_xuezong','JX_xushu','JX_sunqian','JX_caohong','JX_caiyong','JX_yanyan','JX_jiling','JX_wenpin','JX_chendao','JX_zhugejin','JX_zumao']);
    //å²è¯—æ­¦å°†
	lib.rank.rarity.epic.addArray(['JX_sunjian','JX_weiwenzhugezhi','JX_jiangqing','JX_chenqun','db_DIY_wenyang','JX_zhangning','JX_huangzu','JX_miheng','JX_zhangjiao','JX_zhangyi','JX_jianyong','JX_guohuai','JX_zhouchu','JX_zhangyÃ¬','JX_luji','JX_zhoufang','JX_zhouyu','JX_caocao','JX_panjun','JX_guanping','JX_simashi','JX_shamoke','JX_xusheng','JX_caopicaozhi','JX_jikang','JX_wei_simazhao','JX_wangyuanji','JX_guanyu','JX_zhangfei','JX_caoxiu','JX_chengyu','JX_dingfeng','JX_sp_machao','JX_zhaoyun','JX_caochun','JX_liru','JX_xuangongzhu','JX_xuhuang','JX_qinghegongzhu','JX_sunluban','JX_zhangxingcai','JX_guanyinping','JX_mayunlu','JX_haozhao','JX_jianggan','JX_sp_pangde','db_yuji','JX_lingtong','JX_zhouqun','JX_cuiyan','JX_zhangji','JX_lvmeng','JX_fazheng','JX_sunquan','JX_zhangrangzhaozhong','JX_sunziliufang','JX_ganning','JX_liufeng','JX_wangyi','JX_dingyuan','JX_gongsunyuan','JX_xujingxushao','JX_chendong','JX_yl_luzhi','JX_zhonghui','JX_wangji','JX_liubei','JX_liuyao','JX_tadun','JX_dengai','JX_zhaotongzhaoguang','JX_gaoshun','JX_liuchen','JX_zhugeke','JX_caoang','JX_yanliangwenchou','JX_jiayu','JX_gongsunzan','JX_fuqian','JX_zhanghe','JX_yujin','JX_sunchen','JX_zhangbao','JX_xunyou','JX_miganfuren','JX_lukang','JX_retaishici','JX_xiahouyuan','JX_spjiangwei','JX_sp_machao','JX_xiangchong','JX_liuye','JX_yanjun','JX_guanqiujian','JX_quancong','JX_taishici','JX_wangcan','JX_SPpangtong','JX_xiahoushi','JX_yanbaihu','JX_zhugeguo','JX_dingfeng','JX_zhenji']);
	//ä¼ è¯´æ­¦å°†
	lib.rank.rarity.legend.addArray(['JX_shen_ganning','JX_huanggai','JX_shen_zhaoyun','JX_lijue','JX_xurong','JX_shen_taishici','JX_shen_xunyu','JX_shen_jiangwei','JX_zhangchangpu','JX_shen_machao','JX_shen_simayi','JX_wangshuang','JX_caifuren','JX_machao','JX_lvlingqi','JX_baosanniang','JX_caoying','JX_wangyun','JX_sunce','JX_caojinyu','JX_zhangliao','JX_xuyou','JX_lvbu','JX_daxiaoqiao','JX_sp_jiangwan','JX_zhugeliang','JX_luxun','JX_sp_zhugeliang','JX_huangzhong','JX_lingju','JX_heqi','JX_liuzan','JX_chenlin','JX_huangyueying','JX_hanfu','JX_xiahouba','JX_shen_zhouyu','JX_simazhao','JX_shenluxun','JX_shen_zhangliao','JX_shenguanyu','JX_shenliubei','JX_shenlvbu','JX_shenlvmeng','JX_shenzhugeliang','JX_yuanshao','JX_shen_sunquan']);
	if(config.tianlaoling_name == 'hide'){
		    lib.translate.JX_zhangliang = "å¼ æ¢";
		    lib.translate.JX_yanjun = "ä¸¥ç•¯";
            lib.translate.JX_xuezong = "è–›ç»¼";
            lib.translate.JX_xushu = "å¾åº¶";
            lib.translate.JX_sunqian = "å­™ä¹¾";
            lib.translate.JX_guanqiujian = "æ¯Œä¸˜ä¿­";
            lib.translate.JX_caohong = "æ›¹æ´ª";
            lib.translate.JX_caiyong = "è”¡é‚•";
            lib.translate.JX_hanfu = "éŸ©é¦¥";
            lib.translate.JX_yanyan = "ä¸¥é¢œ";
            lib.translate.JX_quancong = "å…¨ç®";
            lib.translate.JX_jiling = "çºªçµ";
            lib.translate.JX_wenpin = "æ–‡è˜";
            lib.translate.JX_kuailiangkuaiyue = "è’¯è‰¯è’¯è¶Š";
            lib.translate.JX_shen_zhangliao = "ç¥å¼ è¾½";
            lib.translate.JX_taishici = "å¤ªå²æ…ˆ";
            lib.translate.JX_chendao = "é™ˆåˆ°";
            lib.translate.JX_xiahouba = "å¤ä¾¯éœ¸";
            lib.translate.JX_zhugejin = "è¯¸è‘›ç‘¾";
            lib.translate.JX_zumao = "ç¥–èŒ‚";
            lib.translate.JX_shenlvmeng = "ç¥å•è’™";
            lib.translate.JX_shenguanyu = "ç¥å…³ç¾½";
            lib.translate.JX_shenlvbu = "ç¥å•å¸ƒ";
            lib.translate.JX_shenzhugeliang = "ç¥è¯¸è‘›äº®";
            lib.translate.JX_wangcan = "ç‹ç²²";
            lib.translate.JX_SPpangtong = "åºç»Ÿ";
            lib.translate.JX_xiahoushi = "å¤ä¾¯æ°";
            lib.translate.JX_lidian = "æå…¸";
            lib.translate.JX_yanbaihu = "ä¸¥ç™½è™";
            lib.translate.JX_zhugeguo = "è¯¸è‘›æœ";
            lib.translate.JX_dingfeng = "ä¸å¥‰";
            lib.translate.JX_shenliubei = "ç¥åˆ˜å¤‡";
            lib.translate.JX_liuye = "åˆ˜æ™”";
            lib.translate.JX_xiangchong = "å‘å® ";
            lib.translate.JX_zhoutai = "å‘¨æ³°";
            lib.translate.JX_sp_machao = "é©¬è¶…";
            lib.translate.JX_spjiangwei = "å§œç»´";
            lib.translate.JX_xiahouyuan = "å¤ä¾¯æ¸Š";
            lib.translate.JX_zhujun = "æœ±å„";
            lib.translate.JX_caozhang = "æ›¹å½°";
            lib.translate.JX_yuanshao = "è¢ç»";
            lib.translate.JX_dianwei = "å…¸éŸ¦";
            lib.translate.JX_shenluxun = "ç¥é™†é€Š";
            lib.translate.JX_simazhao = "å¸é©¬æ˜­";
			lib.translate.JX_boss_simazhao = "å¸é©¬æ˜­";
			lib.translate.JX_wei_simazhao = "å¸é©¬æ˜­";
            lib.translate.JX_huangyueying = "é»„æœˆè‹±";
            lib.translate.JX_sundengzhoufei = "å­™ç™»å‘¨å¦ƒ";
            lib.translate.JX_lukang = "é™†æŠ—";
            lib.translate.JX_retaishici = "å¤ªå²æ…ˆ";
            lib.translate.JX_xingdaorong = "é‚¢é“è£";
            lib.translate.JX_miganfuren = "ç”˜å¤«äººç³œå¤«äºº";
            lib.translate.JX_chenlin = "é™ˆç³";
            lib.translate.JX_xunyou = "è€æ”¸";
            lib.translate.JX_wutugu = "å…€çªéª¨";
            lib.translate.JX_liuzan = "ç•™èµ";
            lib.translate.JX_sunchen = "å­™ç¶";
            lib.translate.JX_zhangbao = "å¼ å®";
            lib.translate.JX_cheliji = "å½»é‡Œå‰";
            lib.translate.JX_zhuhuan = "æœ±æ¡“";
            lib.translate.JX_dongzhuo = "è‘£å“";
            lib.translate.JX_heqi = "è´ºé½";
            lib.translate.JX_yujin = "äºç¦";
            lib.translate.JX_fuqian = "å‚…ä½¥";
            lib.translate.JX_zhanghe = "å¼ éƒƒ";
            lib.translate.JX_gongsunzan = "å…¬å­™ç“’";
            lib.translate.JX_jiayu = "è´¾è¯©";
            lib.translate.JX_caoang = "æ›¹æ˜‚";
            lib.translate.JX_yanliangwenchou = "é¢œè‰¯æ–‡ä¸‘";
            lib.translate.JX_liuchen = "åˆ˜è°Œ";
            lib.translate.JX_zhugeke = "è¯¸è‘›æª";
            lib.translate.JX_gaoshun = "é«˜é¡º";
            lib.translate.JX_zhaotongzhaoguang = "èµµç»Ÿèµµå¹¿";
            lib.translate.JX_zhangzhaozhanghong = "å¼ æ˜­å¼ çº®";
            lib.translate.JX_tadun = "è¹‹é¡¿";
            lib.translate.JX_dengai = "é‚“è‰¾";
			lib.translate.JX_hetaihou = "ä½•å¤ªå";
			lib.translate.JX_liuyao = "åˆ˜ç¹‡";
			lib.translate.JX_huangzhong = "é»„å¿ ";
			lib.translate.JX_liubei = "åˆ˜å¤‡";
			lib.translate.JX_wangji = "ç‹åŸº";
			lib.translate.JX_zhonghui = "é’Ÿä¼š";
			lib.translate.JX_hanhaoshihuan = "éŸ©æµ©å²æ¶£";
			lib.translate.JX_yl_luzhi = "å¢æ¤";
			lib.translate.JX_chendong = "é™ˆæ­¦è‘£è¢­";
			lib.translate.JX_xujingxushao = "è®¸é–è®¸é‚µ";
			lib.translate.JX_gongsunyuan = "å…¬å­™æ¸Š";
			lib.translate.JX_dingyuan = "ä¸åŸ";
			lib.translate.JX_wangyi = "ç‹å¼‚";
			lib.translate.JX_zhugedan = "è¯¸è‘›è¯";
			lib.translate.JX_liufeng = "åˆ˜å°";
			lib.translate.JX_ganning = "ç”˜å®";
			lib.translate.JX_sp_zhugeliang = "å§é¾™è¯¸è‘›";
			lib.translate.JX_luxun = "é™†é€Š";
			lib.translate.JX_zhugeliang = "è¯¸è‘›äº®";
			lib.translate.JX_sunziliufang = "å­™èµ„åˆ˜æ”¾";
			lib.translate.JX_zhangrangzhaozhong = "å¼ è®©èµµå¿ ";
			lib.translate.JX_sunquan = "å­™æƒ";
			lib.translate.JX_fazheng = "æ³•æ­£";
			lib.translate.JX_shen_zhouyu = "ç¥å‘¨ç‘œ";
			lib.translate.JX_fanjiangzhangda = "èŒƒç–†å¼ è¾¾";
			lib.translate.JX_lvmeng = "å•è’™";
			lib.translate.JX_zhangji = "å¼ æµ";
			lib.translate.JX_daxiaoqiao = "å¤§å°ä¹”";
			lib.translate.JX_sp_jiangwan = "è’‹ç¬";
			lib.translate.JX_cuiyan = "å´”ç°";
			lib.translate.JX_zhouqun = "å‘¨ç¾¤";
			lib.translate.JX_zhangliao = "å¼ è¾½";
			lib.translate.JX_lingtong = "å‡Œç»Ÿ";
			lib.translate.JX_xuyou = "è®¸æ”¸";
			lib.translate.JX_lvbu = "å•å¸ƒ";
			lib.translate.JX_guosi = "éƒ­æ±œ";
			lib.translate.JX_lingju = "çµé›";
			lib.translate.JX_sp_pangde = "åºå¾·";
			lib.translate.db_yuji = "äºå‰";
			lib.translate.JX_huaxiong = "åé›„";
			lib.translate.JX_jianggan = "è’‹å¹²";
			lib.translate.JX_haozhao = "éƒæ˜­";
			lib.translate.JX_zhangxingcai = "å¼ æ˜Ÿå½©";
			lib.translate.JX_guanyinping = "å…³é“¶å±";
			lib.translate.JX_mayunlu = "é©¬äº‘ç¦„";
			lib.translate.JX_qinghegongzhu = "æ¸…æ²³å…¬ä¸»";
			lib.translate.JX_sunluban = "å…¨å…¬ä¸»";
			lib.translate.JX_xuhuang = "å¾æ™ƒ";
			lib.translate.JX_xuangongzhu = "å®£å…¬ä¸»";
			lib.translate.JX_caojinyu = "é‡‘ä¹¡å…¬ä¸»";
			lib.translate.JX_liru = "æå„’";
			lib.translate.JX_jianyong = "ç®€é›";
			lib.translate.JX_sunce = "å­™ç­–";
			lib.translate.JX_wangyun = "ç‹å…";
			lib.translate.JX_caoying = "æ›¹å©´";
			lib.translate.JX_baosanniang = "é²ä¸‰å¨˜";
			lib.translate.JX_caochun = "æ›¹çº¯";
			lib.translate.JX_xiahoudun = "å¤ä¾¯æƒ‡";
			lib.translate.JX_litong = "æé€š";
			lib.translate.JX_zhaoyun = "èµµäº‘";
			lib.translate.JX_jin_yanghu = "ç¾Šç¥œ";
			lib.translate.JX_lvlingqi = "å•ç²ç»®";
			lib.translate.JX_machao = "é©¬è¶…";
			lib.translate.JX_cenhun = "å²‘æ˜";
			lib.translate.JX_caifuren = "è”¡å¤«äºº";
			lib.translate.JX_wangshuang = "ç‹åŒ";
			lib.translate.JX_chengyu = "ç¨‹æ˜±";
			lib.translate.JX_shen_simayi = "ç¥å¸é©¬æ‡¿";
			lib.translate.JX_caoxiu = "æ›¹ä¼‘";
			lib.translate.JX_lvdai = "å•å²±";
			lib.translate.JX_shen_machao = "ç¥é©¬è¶…";
			lib.translate.JX_zhangchangpu = "å¼ æ˜Œè’²";
			lib.translate.JX_shen_jiangwei = "ç¥å§œç»´";
			lib.translate.JX_zhangfei = "å¼ é£";
			lib.translate.JX_guanyu = "å…³ç¾½";
			lib.translate.JX_shen_xunyu = "ç¥è€å½§";
			lib.translate.JX_wangyuanji = "ç‹å…ƒå§¬";
			lib.translate.JX_shen_taishici = "ç¥å¤ªå²æ…ˆ";
			lib.translate.JX_xurong = "å¾è£";
			lib.translate.JX_zhenji = "ç”„å§¬";
			lib.translate.JX_shen_sunquan = "ç¥å­™æƒ";
			lib.translate.JX_jikang = "åµ‡åº·";
			lib.translate.JX_caopicaozhi = "æ›¹ä¸•æ›¹æ¤";
			lib.translate.JX_xusheng = "å¾ç››";
			lib.translate.JX_shamoke = "æ²™æ‘©æŸ¯";
			lib.translate.JX_simashi = "å¸é©¬å¸ˆ";
			lib.translate.JX_guanping = "å…³å¹³";
			lib.translate.JX_panjun = "æ½˜æ¿¬";
			lib.translate.JX_caocao = "æ›¹æ“";
			lib.translate.JX_zhouyu = "å‘¨ç‘œ";
			lib.translate.JX_zhoufang = "å‘¨é²‚";
			lib.translate.JX_luji = "é™†ç»©";
			lib.translate.JX_zhangyÃ¬ = "å¼ ç¿¼";
			lib.translate.JX_zhouchu = "å‘¨å¤„";
			lib.translate.JX_guohuai = "éƒ­æ·®";
			lib.translate.JX_lijue = "æå‚•";
			lib.translate.JX_zhangyi = "å¼ å¶·";
			lib.translate.JX_shen_zhaoyun = "ç¥èµµäº‘";
			lib.translate.JX_zhangjiao = "å¼ è§’";
			lib.translate.JX_miheng = "ç¥¢è¡¡";
			lib.translate.JX_huanggai = "é»„ç›–";
			lib.translate.JX_shen_ganning = "ç¥ç”˜å®";
			lib.translate.JX_huangzu = "é»„ç¥–";
			lib.translate.JX_zhangning = "å¼ å®";
			lib.translate.JX_lingcao = "å‡Œæ“";
			lib.translate.JX_zhuzhi = "æœ±æ²»";
			lib.translate.db_DIY_wenyang = "æ–‡é¸¯";
			lib.translate.JX_chenqun = "é™ˆç¾¤";
			lib.translate.JX_jiangqing = "è’‹é’¦";
			lib.translate.JX_weiwenzhugezhi = "å«æ¸©è¯¸è‘›ç›´";
			lib.translate.JX_sunjian = "å­™åš";
	}
	lib.translate.tianlaoling = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/tianlaoling.png" width="115.2" height="36.8">';
	lib.translate.tianlao_wei = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/wei.png" width="115.2" height="36.8">';
	lib.translate.tianlao_shu = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/shu.png" width="115.2" height="36.8">';
	lib.translate.tianlao_wu = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/wu.png" width="115.2" height="36.8">';
	lib.translate.tianlao_qun = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/qun.png" width="115.2" height="36.8">';
	lib.translate.tianlao_jin = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/jin.png" width="115.2" height="36.8">';
	lib.translate.tianlao_shen = '<img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/shen.png" width="115.2" height="36.8">';
	lib.characterSort['mode_extension_å¤©ç‰¢ä»¤']={
		'tianlaoling': [],
        'tianlao_wei': ["JX_chenqun","db_DIY_wenyang","JX_guohuai","JX_caocao","JX_simashi","JX_caopicaozhi","JX_jikang","JX_wei_simazhao","JX_zhenji","JX_wangyuanji","JX_zhangchangpu","JX_caoxiu","JX_chengyu","JX_wangshuang","JX_litong","JX_xiahoudun","JX_caochun","JX_caoying","JX_caojinyu","JX_xuhuang","JX_qinghegongzhu","JX_haozhao","JX_jianggan","JX_sp_pangde","JX_zhangliao","JX_cuiyan","JX_sunziliufang","JX_zhugedan","JX_wangyi","JX_hanhaoshihuan","JX_zhonghui","JX_wangji","JX_guanqiujian","JX_caohong","JX_wenpin" ,"JX_kuailiangkuaiyue","JX_lidian","JX_xiahouyuan","JX_liuye","JX_spjiangwei","JX_caozhang","JX_dianwei","JX_chenlin","JX_xunyou","JX_yujin","JX_zhanghe","JX_caoang","JX_dengai"],
		'tianlao_shu': ["JX_zhangyi","JX_zhangyÃ¬","JX_guanping","JX_shamoke","JX_guanyu","JX_zhangfei","JX_machao","JX_zhaoyun","JX_baosanniang","JX_jianyong","JX_zhangxingcai","JX_guanyinping","JX_mayunlu","JX_zhouqun","JX_sp_jiangwan","JX_fanjiangzhangda","JX_fazheng","JX_zhugeliang","JX_zhugeliang","JX_liufeng","JX_sp_zhugeliang","JX_liubei","JX_xushu","JX_sunqian","JX_yanyan","JX_chendao","JX_xiahouba","JX_xiahoushi","JX_zhugeguo","JX_xiangchong","JX_madai","JX_huangyueying","JX_miganfuren","JX_liuchen","JX_zhaotongzhaoguang","JX_fuqian","JX_huangzhong"],
		'tianlao_wu': ["JX_sunjian","JX_weiwenzhugezhi","JX_jiangqing","JX_zhuzhi","JX_lingcao","JX_huanggai","JX_zhouchu","JX_luji","JX_zhoufang","JX_zhouyu","JX_panjun","JX_xusheng","JX_lvdai","JX_cenhun","JX_sunce","JX_sunluban","JX_lingtong","JX_daxiaoqiao","JX_lvmeng","JX_sunquan","JX_ganning","JX_luxun","JX_chendong","JX_yanjun","JX_xuezong","JX_quancong","JX_zhugejin","JX_zumao","JX_SPpangtong","JX_dingfeng","JX_zhoutai","JX_sundengzhoufei","JX_lukang","JX_retaishici","JX_sunchen","JX_zhuhuan","JX_heqi","JX_zhugeke","JX_zhangzhaozhanghong"],
		'tianlao_qun': ["JX_yuanshao","JX_zhangning","JX_huangzu","JX_miheng","JX_zhangjiao","JX_lijue","JX_xurong","JX_caifuren","JX_lvlingqi","JX_wangyun","JX_liru","JX_huaxiong","db_yuji","JX_lingju","JX_guosi","JX_lvbu","JX_xuyou","JX_zhangji","JX_zhangrangzhaozhong","JX_dingyuan","JX_xujingxushao","JX_gongsunyuan","JX_yl_luzhi","JX_liuyao","JX_zhangliang","JX_caiyong","JX_hanfu","JX_jiling","JX_taishici","JX_wangcan","JX_yanbaihu","JX_zhujun","JX_sp_machao","JX_hetaihou","JX_xingdaorong","JX_wutugu","JX_zhangbao","JX_cheliji","JX_dongzhuo","JX_gongsunzan","JX_jiayu","JX_yanliangwenchou","JX_gaoshun","JX_tadun"],
		'tianlao_jin':["JX_simazhao","JX_xuangongzhu","JX_jin_yanghu"],
		'tianlao_shen': ["JX_shen_ganning","JX_shen_zhaoyun","JX_shen_taishici","JX_shen_xunyu","JX_shen_jiangwei","JX_shen_machao","JX_shen_zhouyu","JX_shen_zhangliao","JX_shenlvmeng","JX_shenguanyu","JX_shenlvbu","JX_shenzhugeliang","JX_BOSS_zhugeliang","JX_shenliubei","JX_shenluxun","JX_boss_simazhao","JX_liuzan","JX_shen_simayi","JX_shen_sunquan"],
            };
	game.playTLAoAudio = function(name,num,repeat){
        if(!repeat){
            if(num === undefined || num === null){
                game.playAudio('..','extension','å¤©ç‰¢ä»¤',name);
            }else{
                game.playAudio('..','extension','å¤©ç‰¢ä»¤',name + Math.ceil(Math.random() * num));	
            }
        }else{
            if(num === undefined || num === null){
                game.TLPlayAudioRepeatable('..','extension','å¤©ç‰¢ä»¤',name);
            }else{
                game.TLPlayAudioRepeatable('..','extension','å¤©ç‰¢ä»¤',name + Math.ceil(Math.random() * num));	
            }
        }
    }; 
	var originLogSkill = lib.element.player.logSkill;
    lib.element.player.logSkill = function(skillname){
        originLogSkill.apply(this,arguments);
        var next = game.createEvent('TLAoLogSkill');
        next.player = this;
        next.skill = skillname;
        next.setContent('emptyEvent');
    };
    lib.element.player.TLAoGetName = function(){
        if(this.name.lastIndexOf("_") == -1){
            return this.name;
        }
        return this.name.slice(this.name.lastIndexOf("_")+1);
    };
    lib.skill._TLAo_useSkillAfter = {
        popup:false,
        forced:true,
        trigger:{
            player:"useSkillBefore",
        },
        filter:function(event,player){
            return true;
        },
        content:function(){
            var next = game.createEvent('TLAoLogSkill');
            next.player = player;
            next.skill = trigger.skill;
            next.setContent('emptyEvent');
        }
    };
	lib.skill._tianlao_BOSS={
                trigger:{
                    global:"gameStart",
                },
                superCharlotte:true,
                charlotte:true,
                fixed:true,
                unique:true,
                noAdd:true,
                noRemove:true,
                noDisabled:true,
                silent:true,
                  filter:function (event,player){
        return player==game.boss&&player.name=='Author_lvtukuang';

    },
                content:function (){
        player.gainMaxHp(6);
		player.recover(6);
    },
                forced:true,
                popup:false,
            };
	lib.skill._tianlao_GUIJIN={
                trigger:{
					global:["gameStart","phaseBefore","TLAoLogSkillBefore","gameDrawAfter","roundStart","useSkill","damageBegin","loseHpBegin","phaseBeginStart","useCardBefore","useSkillBefore","chooseTargetBegin","ymqiangsha","gaixuanfeng","ymhuashen","ymkuidi","ymguhuo","ymbawang_start","ymjieyi","ymyizhong","_qy-mvp-effect5","_qyshousha_jisha","_qingyao_guanfangshili","_qingyao_shoupaishangxian","_thelandfairy","_longLevel","_qhly_bgm","_qhly_autoc","_qhly_randskin","_jindutiaoO","_jd_wjsw","_jd_hhks"],
					player:["enterGame","showCharacterAfter","dieBegin",'die'],
                },
                superCharlotte:true,
                charlotte:true,
                fixed:true,
                unique:true,
                noAdd:true,
                noRemove:true,
                noDisabled:true,
                silent:true,
                filter:function (event,player){
        return player.name=='JX_boss_simazhao';
    },
                content:function (){
		game.delay();
		player.logSkill('DIY_guijin');
        var bool=false;
        if(player==game.me||player.isFriendOf(game.me)) bool=true;
        else switch(get.mode()){
            case 'identity':{
                game.showIdentity();
                var id1=player.identity;
                var id2=game.me.identity;
                if(['zhu','zhong','mingzhong'].contains(id1)){
                    if(['zhu','zhong','mingzhong'].contains(id2)) bool=true;
                    break;
                }
             else if(id1=='fan'){
                    if(id2=='fan') bool=true;
                    break;
                }
                break;
            }
        }
        game.over(bool);
    },
                forced:true,
                popup:false,
            };
	lib.skill._tianlao_Music={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='114514';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/114514.mp3`;
    },
            };
	lib.skill._tianlao_Music1={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='1';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/1.mp3`;
    },
            };
	lib.skill._tianlao_Music2={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='2';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/2.mp3`;
    },
            };
	lib.skill._tianlao_Music3={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='3';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/3.mp3`;
    },
            };
	lib.skill._tianlao_Music4={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='4';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/4.mp3`;
    },
            };
	lib.skill._tianlao_Music5={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='5';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/5.mp3`;
    },
            };
	lib.skill._tianlao_Music6={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='6';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/6.mp3`;
    },
            };
    lib.skill._tianlao_Music7={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='7';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/7.mp3`;
    },
            };
    lib.skill._tianlao_Music8={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='8';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/8.flac`;
    },
            };
    lib.skill._tianlao_Music9={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='9';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/9.flac`;
    },
            };
    lib.skill._tianlao_Music10={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                filter:function (event,player){
        return config.tianlaoling_backgroundMusic=='10';
    },
                content:function (){
		lib.config.background_music = "music_custom"
		lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/10.flac`;
    },
            };
/*  lib.skill._BackgroundImage={
                trigger:{
					global:"gameStart",
                },
                charlotte:true,
                silent:true,
                content:function (){
        ui.background.setBackgroundImage('extension/å¤©ç‰¢ä»¤/19491001.jpg');
        game.saveConfig('volumn_background',parseInt(8));
        ui.backgroundMusic.volume=8/8;
        lib.config.background_music = "music_custom"
        lib.config.background_music_src = ui.backgroundMusic.src = `${lib.assetURL}extension/å¤©ç‰¢ä»¤/19491001.flac`;
    },
            };*/
	lib.skill._tianlao_ye={
                trigger:{
                    global:"gameStart",
                },
                superCharlotte:true,
                charlotte:true,
                fixed:true,
                unique:true,
                noAdd:true,
                noRemove:true,
                noDisabled:true,
                silent:true,
                  filter:function (event,player){
        return ['JX_zhonghui','JX_sunchen','JX_gongsunyuan','JX_simazhao'].contains(player.name);

    },
                content:function (){
        player.changeGroup('ye',false);
    },
                forced:true,
                popup:false,
            };
	get.number=function(card){
				if(get.owner(card)){
					return game.checkMod(card,card.number,'number',get.owner(card).get('s'));
				}
				return card.number;
			}
	toCnCapNumber=function(str){
		return str.replace("ä¸€", "å£¹").replace("äºŒ", "è´°").replace("ä¸‰", "å").replace("å››","è‚†").replace("äº”", "ä¼").replace("å…­", "é™†").replace("ä¸ƒ", "æŸ’").replace("å…«", "æŒ").replace("ä¹", "ç–").replace("å", "æ‹¾").replace("ç™¾", "ä½°").replace("åƒ", "ä»Ÿ");
	}
	get.type = function (obj, method, player) {
        if (typeof obj == "string") obj = { name: obj };
        if (typeof obj != "object") return;
        var name = get.name(obj, player);
        if (!lib.card[name]) return;
        let type = lib.card[name].type;
        if (!player) player = get.owner(obj);
        if (player) type = game.checkMod(obj, player, type, "type", player);
        if (method == "trick" && type == "delay") return "trick";
        return type;
    }
	// ä¸‹è½½è¿›åº¦æ¡
	if (typeof game.shijianCreateProgress != 'function') {
		game.shijianCreateProgress = (title, max, fileName, value) => {
			const parent = ui.create.div(ui.window, {
				textAlign: 'center',
				width: '300px',
				height: '150px',
				left: 'calc(50% - 150px)',
				top: 'auto',
				bottom: 'calc(50% - 75px)',
				zIndex: '10',
				boxShadow: 'rgb(0 0 0 / 40 %) 0 0 0 1px, rgb(0 0 0 / 20 %) 0 3px 10px',
				backgroundImage: 'linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4))',
				borderRadius: '8px'
			});

			// å¯æ‹–åŠ¨
			parent.className = 'dialog';

			const container = ui.create.div(parent, {
				position: 'absolute',
				top: '0',
				left: '0',
				width: '100%',
				height: '100%'
			});

			container.ontouchstart = ui.click.dialogtouchStart;
			container.ontouchmove = ui.click.touchScroll;
			container.style.WebkitOverflowScrolling = 'touch';
			parent.ontouchstart = ui.click.dragtouchdialog;

			const caption = ui.create.div(container, '', title, {
				position: 'relative',
				paddingTop: '8px',
				fontSize: '20px'
			});

			ui.create.node('br', container);

			const tip = ui.create.div(container, {
				position: 'relative',
				paddingTop: '8px',
				fontSize: '20px',
				width: '100%'
			});

			const file = ui.create.node('span', tip, '', fileName);
			file.style.width = file.style.maxWidth = '100%';
			ui.create.node('br', tip);
			const index = ui.create.node('span', tip, '', String(value || '0'));
			ui.create.node('span', tip, '', '/');
			const maxSpan = ui.create.node('span', tip, '', String(max || 'æœªçŸ¥'));

			ui.create.node('br', container);

			const progress = ui.create.node('progress.zxgxProgress', container);
			progress.setAttribute('value', value || '0');
			progress.setAttribute('max', max);

			parent.getTitle = () => caption.innerText;
			parent.setTitle = (title) => caption.innerText = title;
			parent.getFileName = () => file.innerText;
			parent.setFileName = (name) => file.innerText = name;
			parent.getProgressValue = () => progress.value;
			parent.setProgressValue = (value) => progress.value = index.innerText = value;
			parent.getProgressMax = () => progress.max;
			parent.setProgressMax = (max) => progress.max = maxSpan.innerText = max;
			return parent;
		};
	}
	// æ‰©å±•è‡ªåŠ¨æ›´æ–°(ç­‰æ¸¸æˆåŠ è½½å®Œæˆåå†è·å–æ›´æ–°, å› ä¸ºå¯ä»¥ç­‰å¾…å…¶ä»–æ‰©å±•åŠ è½½å®Œæˆ)
	lib.arenaReady.push(() => {
		// è‹¥lib.extensionPack.å¤©ç‰¢ä»¤ä¸å­˜åœ¨ï¼Œå°±æ˜¯è¿™ä¸ªæ‰©å±•è¿˜æ²¡æœ‰å¼€å¯
		if (lib.extensionPack.å¤©ç‰¢ä»¤) {
			const address = 'https://nonameShijian.unitedrhythmized.club/noname-android-extension/main/extension/å¤©ç‰¢ä»¤/';
			fetch(`${address}update.js?date=${(new Date()).getTime()}`)
				.then(response => {
					if (!response.ok) throw response;
					return response.text();
				})
				.then(text => {
					const heavenlyPrisonOrder = eval(text);
					console.log(heavenlyPrisonOrder);
					const localVersion = lib.extensionPack.å¤©ç‰¢ä»¤.version || '0';
					if (heavenlyPrisonOrder.version == localVersion) return;
					else {
						/** 
						 * åˆ¤æ–­ç‰ˆæœ¬
						 * @param { string } v1 ç°æœ‰ç‰ˆæœ¬
						 * @param { string } v2 è¦æ›´æ–°çš„ç‰ˆæœ¬
						 * @returns { boolean | 'equal' } v1æ¯”v2å°å°±è¿”å›true
						 */
						function compareVersion(v1 = '', v2 = '') {
							// ç›¸ç­‰ç‰ˆæœ¬
							if (v1 === v2) return 'equal';
							let version_1 = v1.split('.').map(item => Number(item) || 0);
							let version_2 = v2.split('.').map(item => Number(item) || 0);
							// ç°æœ‰ç‰ˆæœ¬: æ— 
							if (version_1.length == 1 && version_1[0] == 0) {
								// è¦æ›´æ–°çš„ç‰ˆæœ¬ä¸æ˜¯ æ— 
								if (version_2.length > 1 || version_2[0] > 0) return true;
							} else if (version_2.length == 1 && version_2[0] == 0) {
								// è¦æ›´æ–°çš„ç‰ˆæœ¬æ˜¯ æ— 
								return true;
							} else {
								for (let i = 0; i < version_1.length && i < version_2.length; i++) {
									version_1[i] = version_1[i] || 0;
									version_2[i] = version_2[i] || 0;
									if (version_2[i] > version_1[i]) return true;
									if (version_1[i] > version_2[i]) return false;
								}
							}
						};

						if (!compareVersion(localVersion, heavenlyPrisonOrder.version)) return;
					}

					function myConfirm(message, callback) {
						if (navigator.notification && navigator.notification.confirm) {
							navigator.notification.confirm(message, index => {
								index == 1 && callback();
							}, ['ç¡®å®š', 'å–æ¶ˆ']);
						} else {
							window.confirm(message) && callback();
						}
					}

					myConfirm(`ã€Šå¤©ç‰¢ä»¤ã€‹æ‰©å±•æ£€æµ‹åˆ°æ›´æ–°ï¼ˆ${heavenlyPrisonOrder.version}ï¼‰ï¼Œæ˜¯å¦æ›´æ–°ï¼Ÿ\n${heavenlyPrisonOrder.changeLog}`, () => {
						/**
						 * ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶
						 * @param { string } url 
						 */
						function download(url, success, error) {
							const path = 'extension/å¤©ç‰¢ä»¤';
							if (window.FileTransfer) {
								// åˆ¤æ–­æ˜¯ä¸æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸æ˜¯æ‰ä¸‹è½½
								function downloadFile() {
									let fileTransfer = new FileTransfer();
									fileTransfer.download(encodeURI(`${address + url}?date=${(new Date()).getTime()}`), encodeURI(lib.assetURL + path + '/' + url), success, error);
								}
								window.resolveLocalFileSystemURL(lib.assetURL,
									/**
									 * @param { DirectoryEntry } DirectoryEntry 
									 */
									DirectoryEntry => {
										DirectoryEntry.getDirectory(path, { create: false }, dir => {
											dir.getDirectory(url, { create: false }, () => {
												console.error(`${path}/${url}æ˜¯æ–‡ä»¶å¤¹`);
												// è·³è¿‡ä¸‹è½½
												success(true);
											}, downloadFile);
										}, downloadFile);
									}, downloadFile);
							} else {
								fetch(`${address + url}?date=${(new Date()).getTime()}`)
									.then(response => response.arrayBuffer())
									.then(arrayBuffer => {
										// å…ˆåˆ›å»ºæŒ‡å®šæ–‡ä»¶å¤¹
										game.ensureDirectory(path, () => {
											const fs = require('fs');
											const p = require('path');
											const filePath = p.join(__dirname, path, url);
											// å¦‚æœæ˜¯ä¸ªæ–‡ä»¶å¤¹ï¼Œå°±é€€å‡º
											if (fs.existsSync(filePath)) {
												const stat = fs.statSync(filePath);
												if (stat.isDirectory()) {
													console.error(`${path + '/' + url}æ˜¯ä¸ªæ–‡ä»¶å¤¹`);
													return success(true);
												}
											}
											fs.writeFile(filePath, Buffer.from(arrayBuffer), null, e => {
												if (e) error(e);
												else success();
											});
										});
									})
									.catch(response => error(new Error(response.statusText)));
							}
						}

						/**
						 * ä¸‹è½½æ–‡ä»¶åˆ—è¡¨
						 * @param { string[] } files 
						 */
						function downloadList(files) {
							if (!Array.isArray(files) || files.length == 0) return;
							let i = 0;
							const progress = game.shijianCreateProgress('æ›´æ–°ã€Šå¤©ç‰¢ä»¤ã€‹æ‰©å±•', files.length, files[0], i);
							const success = skip => {
								// ä¸‹è½½å®Œäº†å°±ç»“æŸ
								if (!files[++i]) {
									progress.setProgressValue(files.length);
									progress.setFileName('ä¸‹è½½å®Œæˆ');
									setTimeout(() => {
										// ç§»é™¤è¿›åº¦æ¡
										progress.remove();
										// å»¶æ—¶æç¤º
										setTimeout(() => {
											alert('ã€Šå¤©ç‰¢ä»¤ã€‹æ‰©å±•æ›´æ–°å®Œæˆï¼Œå°†è‡ªåŠ¨é‡å¯');
											game.reload();
										}, 100);
									}, 200);
									return;
								}
								// ä¸‹è½½æˆåŠŸï¼Œæ›´æ–°è¿›åº¦
								progress.setProgressValue(i);
								progress.setFileName(files[i]);
								download(files[i], success, error);
							};
							const error = e => {
								console.log('ä¸‹è½½å¤±è´¥', e);
								progress.setFileName('é‡æ–°ä¸‹è½½: ' + files[i]);
								download(files[i], success, error);
							};

							download(files[i], success, error);
						}

						/** @type { string[] } è¦ä¸‹è½½çš„æ–‡ä»¶ */
						const files = localVersion == heavenlyPrisonOrder.oldversion ? heavenlyPrisonOrder.updateFiles : heavenlyPrisonOrder.allFiles;
						downloadList(files);
					});
				})
				.catch(e => {
					if (e.message == 'Failed to fetch') alert('ç½‘ç»œè¿æ¥å¤±è´¥');
					else if (e instanceof Response) console.error('å¤©ç‰¢ä»¤: ' + e.statusText);
					else console.error('å…¶ä»–é”™è¯¯', e);
				});
		} else {
			console.error('lib.extensionPack.å¤©ç‰¢ä»¤ä¸å­˜åœ¨ï¼Œæ— æ³•åœ¨çº¿æ›´æ–°');
		}
	});
},precontent:function(tianlaoling){
	lib.extensionMenu.extension_å¤©ç‰¢ä»¤.BugFeedBack={
		"name":"<style>#ğŸ‘‰ç‚¹å‡»æ­¤å¤„å¯è¿›äº¤æµç¾¤åé¦ˆBug{animation:changeS 20s linear 4s infinite;}@keyframes changeS{ 0% {color:#FF0000;}7%{color:#FF7F00;}14%{color: #FFFF00;}21%{color:#00FF00;}28% {color:#00FFFF;}35%{color: #0000FF;}42%{color: #8B00FF;}49%{color: #0000FF;}58%{color: #8B00FF;}65%{color: #0000FF;}72% {color:#00FFFF;}79%{color:#00FF00;}86%{color: #FFFF00;}93%{color:#FF7F00;}100% {color:#FF0000;}}</style><body><div id='ğŸ‘‰ç‚¹å‡»æ­¤å¤„å¯è¿›äº¤æµç¾¤åé¦ˆBug'><b>ğŸ‘‰ç‚¹å‡»æ­¤å¤„å¯è¿›äº¤æµç¾¤åé¦ˆBug</b></div></body>",
		"clear":true,
		"onclick":function(){
			ui.click.configMenu();
			window.open('https://jq.qq.com/?_wv=1027&k=YZdf9y12');
			setTimeout(function(){
				alert('æ„Ÿè°¢æ‚¨çš„åé¦ˆï¼à¸…à¸…*');
			},5000);
		},
	};
	lib.init.css(lib.assetURL + 'extension/å¤©ç‰¢ä»¤', 'erlv');
},help:{},config:{
    "tianlaoling_name":{
        "name":"æ­¦å°†å‰ç¼€",
        "intro":"é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºâ€œÂ§â€æ­¦å°†å‰ç¼€",
        "init":"hide",
        "item":{
            "hide":"éšè—",
            "show":"æ˜¾ç¤º"
        }
    },
    "tianlaoling_backgroundMusic":{
        "name":"èƒŒæ™¯éŸ³ä¹",
        "intro":"åœ¨å¯¹å±€ä¸­æ’­æ”¾é€‰å®šçš„èƒŒæ™¯éŸ³ä¹<br>é€‰å®šåï¼Œæ¯å±€æ¸¸æˆå¼€å§‹æ—¶ç”Ÿæ•ˆ",
        "init":"hide",
        "item":{
            "hide":"å…³é—­",
            "1":"å®šå†›å±±-å± æ´ªåˆš",
            "2":"æ–°å®šå†›å±±ï¼ˆå¥³å£°ï¼‰",
            "3":"å­¤å‹‡è€…-å‡¤å‡°ä¼ å¥‡",
            "4":"å‚²è§†ç¾¤é›„",
            "5":"å¬æˆ‘è¯´è°¢è°¢ä½ ",
            "7":"U Make Me",
            "8":"Chrono",
            "9":"Lanterns",
            "10":"èŠ±æœˆ",
            "114514":"å¥½æ—¥å­",
            "6":"æ•¢æ€æˆ‘çš„é©¬ï¼Ÿï¼ï¼ˆé¬¼ç•œï¼‰"
        }
    }
},package:{
    character:{
        character:{
            "JX_zhangliang":["male","qun",4,["DIY_jijun","DIY_fangtong"],[]],
            "JX_yanjun":["male","wu",3,["DIY_guanchao","DIY_xunxian"],[]],
            "JX_xushu":["male","shu",4,["DIY_zhuhai","DIY_jianyan"],[]],
            "JX_sunqian":["male","shu",3,["DIY_qianya","DIY_shuomeng"],[]],
            "JX_boss_simazhao":["male","jin",4,["DIY_guijin"],["zhu","boss","bossallowed","unseen"]],
            "JX_guanqiujian":["male","wei",4,["DIY_zhenyong","DIY_hongju"],[]],
            "JX_caohong":["male","wei",4,["DIY_yuanhu"],[]],
            "JX_hanfu":["male","qun",4,["DIY_jieying","DIY_weipo"],[]],
            "JX_yanyan":["male","shu",4,["DIY_juzhan"],[]],
            "JX_quancong":["male","wu",4,["DIY_yaoming"],[]],
            "JX_jiling":["male","qun",4,["DIY_shuangren"],[]],
            "JX_wenpin":["male","wei",4,["DIY_zhenwei"],[]],
            "JX_kuailiangkuaiyue":["male","wei",4,["DIY_jianxiang","DIY_shenshi"],[]],
            "JX_shen_zhangliao":["male","shen",4,["DIY_duorui","DIY_zhiti"],["wei"],["des:å­—æ–‡è¿œï¼Œé­é›é—¨é©¬é‚‘äººã€‚å®˜è‡³å‰å°†å†›ã€å¾ä¸œå°†å†›ã€æ™‹é˜³ä¾¯ã€‚æ­¦åŠŸé«˜å¼ºï¼Œåˆè°‹ç•¥è¿‡äººï¼Œå¤šæ¬¡å»ºç«‹å¥‡åŠŸï¼Œä»¥800äººçªè¢­å­™æƒåä¸‡å¤§å†›ï¼Œçš†æœ›é£æŠ«é¡ã€‚"]],
            "JX_taishici":["male","qun",4,["DIY_jixu"],[]],
            "JX_chendao":["male","shu",4,["DIY_wanglie"],[]],
            "JX_xiahouba":["male","shu",4,["DIY_baobian"],[]],
            "JX_zhugejin":["male","wu",3,["DIY_hongyuan","DIY_huanshi","DIY_mingzhe"],[]],
            "JX_zumao":["male","wu",4,["DIY_yinbing","DIY_juedi"],[]],
            "JX_shenlvmeng":["male","shen",3,["DIY_shelie","DIY_gongxin","DIY_botu"],["wu"],["des:å•è’™ï¼Œå­—å­æ˜ï¼Œæ±å—å¯Œé™‚äººï¼Œä¸œå´åå°†ï¼ŒåŸæœ‰â€œå´ä¸‹é˜¿è’™â€ä¹‹è´¬ç§°ï¼Œåå—å­™æƒåŠè¯´ï¼Œå¥‹å‘è¯»ä¹¦ï¼Œæœ€ç»ˆæˆå°±ä¸€ä»£åå°†ã€‚"]],
            "JX_shenguanyu":["male","shen",5,["DIY_wuhun","DIY_wushen","DIY_wuhun_dying"],["shu"],["des:å…³ç¾½ï¼Œå­—äº‘é•¿ã€‚æ›¾æ°´æ·¹ä¸ƒå†›ã€æ“’äºç¦ã€æ–©åºå¾·ã€å¨éœ‡åå¤ï¼Œå“å¾—æ›¹æ“å·®ç‚¹è¿éƒ½èº²é¿ï¼Œä½†æ˜¯ä¸œå´å·è¢­è†å·ï¼Œå…³ç¾½å…µè´¥è¢«å®³ã€‚åä¼ è¯´å•è’™å› å…³ç¾½ä¹‹é­‚ç´¢å‘½è€Œæ­»ã€‚"]],
            "JX_shenlvbu":["male","shen",5,["DIY_baonu","DIY_wumou","DIY_wuqian","DIY_shenfen"],["qun"]],
            "JX_shenzhugeliang":["male","shen",3,["DIY_qixing","DIY_biantian"],["shu"],["des:å­—å­”æ˜ã€å·å§é¾™ï¼Œæ±‰æ—ï¼Œç…çŠé˜³éƒ½äººï¼Œä¸‰å›½æ—¶æœŸèœ€æ±‰ä¸ç›¸ã€æ°å‡ºçš„æ”¿æ²»å®¶ã€å†›äº‹å®¶ã€å‘æ˜å®¶ã€æ–‡å­¦å®¶ã€‚åœ¨ä¸–æ—¶è¢«å°ä¸ºæ­¦ä¹¡ä¾¯ï¼Œæ­»åè¿½è°¥å¿ æ­¦ä¾¯ï¼Œåæ¥ä¸œæ™‹æ”¿æƒæ¨å´‡è¯¸è‘›äº®å†›äº‹æ‰èƒ½ï¼Œç‰¹è¿½å°ä»–ä¸ºæ­¦å…´ç‹ã€‚è¯¸è‘›äº®ä¸ºåŒ¡æ‰¶èœ€æ±‰æ”¿æƒï¼Œå‘•å¿ƒæ²¥è¡€ã€é èº¬å°½ç˜ã€æ­»è€Œåå·²ã€‚å…¶ä»£è¡¨ä½œæœ‰ã€Šå‰å‡ºå¸ˆè¡¨ã€‹ã€ã€Šåå‡ºå¸ˆè¡¨ã€‹ã€ã€Šè¯«å­ä¹¦ã€‹ç­‰ã€‚æ›¾å‘æ˜æœ¨ç‰›æµé©¬ç­‰ï¼Œå¹¶æ”¹é€ è¿å¼©ï¼Œå¯ä¸€å¼©åçŸ¢ä¿±å‘ã€‚äº234å¹´åœ¨å®é¸¡äº”ä¸ˆåŸé€ä¸–ã€‚"]],
            "JX_BOSS_zhugeliang":["male","shen",Infinity,["DIY_xiangxing","DIY_yueyin","DIY_fengqi","DIY_gaiming"],["unseen"]],
            "JX_wangcan":["male","qun",3,["DIY_sanwen","DIY_qiai","DIY_denglou"],[]],
            "JX_SPpangtong":["male","wu",4,["DIY_guolun","DIY_songsang","DIY_zhanji"],[]],
            "JX_xiahoushi":["female","shu",3,["DIY_qiaoshi","DIY_yanyu"],[]],
            "JX_lidian":["male","wei",3,["DIY_xunxun","DIY_wangxi"],[]],
            "JX_yanbaihu":["male","qun",4,["DIY_zhidao","DIY_jili"],[]],
            "JX_zhugeguo":["female","shu",3,["DIY_qirang","DIY_yuhua"],[]],
            "JX_dingfeng":["male","wu",4,["DIY_fenxun","DIY_duanbing"],[]],
            "JX_shenliubei":["male","shen",6,["DIY_longnu","DIY_shenliu_jieying"],["shu"]],
            "JX_liuye":["male","wei",3,["DIY_polu","DIY_choulue"],[]],
            "JX_zhoutai":["male","wu",4,["DIY_buqu","DIY_fenji"],[]],
            "JX_spjiangwei":["male","wei",4,["DIY_kunfen","DIY_fengliang"],[]],
            "JX_xiahouyuan":["male","wei",4,["DIY_shensu","DIY_shebian"],[]],
            "JX_zhujun":["male","qun",4,["DIY_gongjian","DIY_kuimang"],[]],
            "JX_caozhang":["male","wei",4,["DIY_jiangchi"],[]],
            "JX_yuanshao":["male","qun",4,["DIY_luanji","DIY_xueyi"],["qun"],["zhu"]],
            "JX_dianwei":["male","wei",4,["DIY_qiangxi"],[]],
            "JX_shenluxun":["male","shen",4,["DIY_cuike","DIY_zhanhuo","DIY_junlue"],["wu"]],
            "JX_simazhao":["male","jin",4,["DIY_zhaoxin","DIY_suzhi"],["zhu"]],
            "JX_huangyueying":["female","shu",3,["DIY_jizhi","DIY_qicai"],[]],
            "JX_lukang":["male","wu",4,["DIY_qianjie","DIY_jueyan","DIY_poshi"],[]],
            "JX_retaishici":["male","wu",4,["DIY_tianyi","DIY_hanzhan"],[]],
            "JX_xingdaorong":["male","qun","4/6",["DIY_xuxie"],[]],
            "JX_miganfuren":["female","shu",3,["DIY_shushen","DIY_shenzhi","DIY_guixiu","DIY_qingyu"],["des:åˆ˜å¤‡èµ·å…µåï¼Œäºæ²›åŸå¨¶ç”˜æ°ä¸ºå¦¾ã€‚åæ¥ï¼Œç”˜å¤«äººéšåˆ˜å¤‡åˆ°è†å·ï¼Œç”Ÿäº†é˜¿æ–—(ä¹Ÿå°±æ˜¯åä¸»åˆ˜ç¦…)ã€‚223å¹´å››æœˆï¼Œåˆ˜å¤‡ç—…æ­»äºç™½å¸åŸï¼Œè¿½è°¥ç”˜å¤«äººä¸ºâ€œæ˜­çƒˆçš‡åâ€ã€‚<br>ç³œå¤«äººï¼Œåˆ˜å¤‡å¤«äººã€‚å¾å·åˆ«é©¾ç³œç«ºä¹‹å¦¹ã€‚é•¿å‚å…µè´¥ï¼Œå¥¹æ€€æŠ±å¹´ä»…ä¸¤å²çš„åˆ˜ç¦…åœ¨ä¹±å†›ä¸­èµ°æ•£ï¼Œè¢«èµµäº‘å‘ç°ï¼›ä½†éº‹å¤«äººå› ä¸ºèµµäº‘åªæœ‰ä¸€åŒ¹é©¬ï¼Œä¸è‚¯ä¸Šé©¬ï¼Œåœ¨å°†é˜¿æ–—æ‰˜ä»˜ç»™èµµäº‘åæŠ•äº•è€Œäº¡ã€‚"]],
            "JX_chenlin":["male","wei",3,["DIY_bifa","DIY_songci"],[]],
            "JX_xunyou":["male","wei",3,["DIY_qice","DIY_zhiyu"],[]],
            "JX_liuzan":["male","wu",10,["DIY_fenyin"],["boss","tlboss","bossallowed","unseen"]],
            "JX_sunchen":["male","wu",4,["DIY_shilu","DIY_xiongnve"],[]],
            "JX_zhangbao":["male","qun",3,["DIY_zhoufu","DIY_yingbing"],[]],
            "JX_cheliji":["male","qun",4,["DIY_chexuan","DIY_qiangshou"],[]],
            "JX_zhuhuan":["male","wu",4,["DIY_fenli","DIY_pingkou"],[]],
            "JX_dongzhuo":["male","qun",8,["DIY_jiuchi","DIY_roulin","DIY_benghuai","DIY_baonue"],["zhu"]],
            "JX_fuqian":["male","shu","3/4",["DIY_jueyong"],[]],
            "JX_zhanghe":["male","wei",4,["DIY_qiaobian"],[]],
            "JX_gongsunzan":["male","qun",4,["DIY_yicong","DIY_qiaomeng"],[]],
            "JX_jiayu":["male","qun",3,["DIY_luanwu","DIY_weimu","DIY_wansha"],[]],
            "JX_caoang":["male","wei",4,["DIY_kaikang"],[]],
            "JX_yanliangwenchou":["male","qun",4,["DIY_shuangxiong"],[]],
            "JX_liuchen":["male","shu",4,["DIY_zhanjue"],[]],
            "JX_zhugeke":["male","wu",3,["DIY_aocai","DIY_duwu"],[]],
            "JX_gaoshun":["male","qun",4,["DIY_xianzhen","rejinjiu"],[]],
            "JX_zhaotongzhaoguang":["male","shu",4,["DIY_yizan","DIY_longyuan"],[]],
            "JX_zhangzhaozhanghong":["male","wu",3,["DIY_guzheng","DIY_zhijian"],[]],
            "JX_tadun":["male","qun",4,["DIY_luanzhan"],[]],
            "JX_dengai":["male","wei",4,["DIY_tuntian","DIY_zaoxian"],[]],
            "JX_liuyao":["male","qun",4,["DIY_kannan"],[]],
            "JX_huangzhong":["male","shu",4,["DIY_liegong"],[]],
            "JX_liubei":["male","shu",4,["DIY_rende","jijiang"],["zhu"]],
            "JX_wangji":["male","wei",3,["DIY_qizhi","DIY_jinqu"],[]],
            "JX_zhonghui":["male","wei",4,["DIY_quanji","DIY_paiyi"],[]],
            "JX_hanhaoshihuan":["male","wei",4,["DIY_shenduan","DIY_yonglve"],[]],
            "JX_yl_luzhi":["male","qun",3,["DIY_mingren","DIY_zhenliang"],[]],
            "JX_chendong":["male","wu",4,["DIY_yilie","DIY_fenming"],[]],
            "JX_xujingxushao":["male","qun",4,["DIY_boming","DIY_xu_pingjian"],[]],
            "JX_gongsunyuan":["male","qun",4,["DIY_huaiyi","DIY_ziju"],[]],
            "JX_dingyuan":["male","qun",4,["DIY_beizhu"],[]],
            "JX_wangyi":["female","wei",4,["DIY_zhenlie","DIY_miji"],[]],
            "JX_zhugedan":["male","wei",4,["DIY_gangao","DIY_juyi"],[]],
            "JX_liufeng":["male","shu",4,["DIY_xiansi"],[]],
            "JX_ganning":["male","wu",4,["DIY_qixi","fenwei"],[]],
            "JX_sp_zhugeliang":["male","shu",3,["DIY_huoji","DIY_bazhen","DIY_kanpo"],[]],
            "JX_luxun":["male","wu",3,["DIY_qianxun","DIY_lianying"],[]],
            "JX_zhugeliang":["male","shu",3,["DIY_guanxing_zhuge","DIY_kongcheng"],[]],
            "JX_sunziliufang":["male","wei",3,["DIY_guizao","DIY_jiyu"],[]],
            "JX_zhangrangzhaozhong":["male","qun","4/5",["DIY_taoluan","DIY_yangzhong"],[]],
            "JX_sunquan":["male","wu",4,["DIY_zhiheng","rejiuyuan"],["zhu"]],
            "JX_fazheng":["male","shu",3,["DIY_enyuan","DIY_xuanhuo"],[]],
            "JX_shen_zhouyu":["male","shen",4,["DIY_yeyan","DIY_qinyin"],["wu"]],
            "JX_fanjiangzhangda":["male","shu",4,["DIY_yuanchou","DIY_juesheng"],[]],
            "JX_lvmeng":["male","wu",4,["DIY_keji","DIY_dujiang","botu"],[]],
            "JX_zhangji":["male","qun",4,["DIY_lveming","DIY_tunjun"],[]],
            "JX_daxiaoqiao":["female","wu",3,["DIY_xingwu","DIY_tianxiang","DIY_liuli"],[]],
            "JX_sp_jiangwan":["male","shu",3,["DIY_shoucheng","DIY_zhenting","DIY_shengxi"],[]],
            "JX_cuiyan":["male","wei",3,["DIY_yajun","DIY_guijian"],[]],
            "JX_zhouqun":["male","shu",3,["DIY_tiansuan"],[]],
            "JX_zhangliao":["male","wei",4,["DIY_tuxi","DIY_powei"],[]],
            "JX_lingtong":["male","wu",4,["DIY_xuanfeng","DIY_yongjin"],[]],
            "JX_xuyou":["male","qun",3,["DIY_chenglve","DIY_shicai","DIY_cunmu"],[]],
            "JX_lvbu":["male","qun",5,["DIY_panshi","wushuang","DIY_liqu"],[]],
            "JX_guosi":["male","qun",4,["DIY_tanbei","DIY_sidao"],[]],
            "JX_lingju":["female","qun",3,["DIY_jieyuan","DIY_fenxin"],[]],
            "JX_sp_pangde":["male","wei",4,["mashu","DIY_juesi","DIY_mengjin"],[]],
            "db_yuji":["male","qun",3,["DIY_qianhuan","DIY_guhuo"],["doublegroup:qun:wu"]],
            "JX_huaxiong":["male","qun","6/6/3",["DIY_yaowu"],[]],
            "JX_jianggan":["male","wei",3,["DIY_daoshu","DIY_weicheng"],[]],
            "JX_haozhao":["male","wei",4,["DIY_zhengu"],[]],
            "JX_zhangxingcai":["female","shu",3,["DIY_shenxian","DIY_qiangwu"],[]],
            "JX_guanyinping":["female","shu",3,["DIY_xuehen","DIY_wuji","DIY_huxiao"],[]],
            "JX_mayunlu":["female","shu",4,["DIY_fengpo","mashu"],[]],
            "JX_qinghegongzhu":["female","wei",3,["DIY_zengou","DIY_zhangji"],[]],
            "JX_sunluban":["female","wu",3,["DIY_zenhui","DIY_jiaojin"],[]],
            "JX_xuhuang":["male","wei",4,["DIY_duanliang","DIY_jiezi"],[]],
            "JX_xuangongzhu":["female","jin",3,["gaoling","DIY_qimei","ybzhuiji"],["hiddenSkill","des:é«˜é™µå®£å…¬ä¸»(?-?)å¸é©¬æ°ï¼Œæ™‹å®£å¸å¸é©¬æ‡¿ç¬¬äºŒå¥³ã€‚å¸é©¬æ°ä¸‹å«æœé¢„ã€‚å…¶ä¾„å¸é©¬ç‚ç™»åŸºæ—¶ï¼Œå¸é©¬æ°å·²ç»å»ä¸–ã€‚æ³°å§‹å¹´é—´(265å¹´-274å¹´)è¿½èµ é«˜é™µå…¬ä¸»ã€‚"]],
            "JX_caojinyu":["female","wei",3,["DIY_shanshen","DIY_xianya"],[]],
            "JX_liru":["male","qun",3,["DIY_juece","DIY_mieji","xinfencheng"],[]],
            "JX_jianyong":["male","shu",3,["DIY_qiaoshuo","DIY_zongshi"],[]],
            "JX_sunce":["male","wu",4,["DIY_jiang","DIY_hunzi"],["zhu"]],
            "JX_wangyun":["male","qun",3,["DIY_lianji","DIY_moucheng"],[]],
            "JX_caoying":["female","wei",4,["DIY_lingren","DIY_fujian"],[]],
            "JX_baosanniang":["female","shu",3,["DIY_wuniang","DIY_zhennan"],[]],
            "JX_caochun":["male","wei",4,["DIY_shanjia"],["des:è™è±¹éª‘éƒ½æ˜¯JKå°‘å¥³ï¼"]],
            "JX_xiahoudun":["male","wei",4,["DIY_ganglie","DIY_fenyong"],[]],
            "JX_litong":["male","wei",4,["DIY_tuifeng"],[]],
            "JX_zhaoyun":["male","shu",4,["DIY_longdan","DIY_jizhu"],[]],
            "JX_jin_yanghu":["male","jin",4,["DIY_huaiyuan","DIY_dezhang"],["des:ç¾Šç¥œ(221å¹´-278å¹´12æœˆ27æ—¥)ï¼Œå­—å”å­ï¼Œå…–å·æ³°å±±éƒ¡å—åŸå¿äººã€‚è¥¿æ™‹æ—¶æœŸæ°å‡ºçš„æˆ˜ç•¥å®¶ã€æ”¿æ²»å®¶ã€æ–‡å­¦å®¶ï¼Œæ›¹é­ä¸Šå…šå¤ªå®ˆç¾Šè¡œä¹‹å­ï¼Œæ±‰æœ«æ‰å¥³è”¡æ–‡å§¬çš„å¤–ç”¥ã€‚<br>ç¾Šç¥œå‡ºèº«â€œæ³°å±±ç¾Šæ°â€ï¼Œåšå­¦èƒ½æ–‡ï¼Œæ¸…å»‰æ­£ç›´ã€‚æ›¹é­æ—¶æœŸï¼Œæ¥å—å…¬è½¦å¾è¾Ÿï¼Œå‡ºä»»ä¸­ä¹¦éƒï¼Œè¿ç»™äº‹é»„é—¨ä¾éƒã€‚å§å§å«ç»™å¤§å°†å†›å¸é©¬å¸ˆï¼ŒæŠ•é å¸é©¬æ°å®¶æ—ï¼Œä»•é€”å¹³æ­¥é’äº‘ã€‚é­å…ƒå¸æ›¹å¥‚å³ä½ï¼Œå‡ºä»»ç§˜ä¹¦ç›‘ã€ç›¸å›½ä»äº‹ä¸­éƒã€ä¸­é¢†å†›ï¼Œç»Ÿé¢†å¾¡æ—å†›ï¼Œå…¼ç®¡å†…å¤–æ”¿äº‹ï¼Œå†Œå°é’œå¹³å¿å­ã€‚è¥¿æ™‹å»ºç«‹åï¼Œè¿ä¸­å†›å°†å†›ã€æ•£éª‘å¸¸ä¾ã€éƒä¸­ä»¤ï¼Œå†Œå°é’œå¹³ä¾¯ã€‚æ³°å§‹äº”å¹´(269å¹´)ï¼Œå‡ºä»»è½¦éª‘å°†å†›ã€å¼€åºœä»ªåŒä¸‰å¸ï¼Œéƒ½ç£è†å·è¯¸å†›äº‹ï¼Œåé•‡è¥„é˜³ï¼Œå±¯ç”°å…´å­¦ï¼Œä»¥å¾·æ€€æŸ”ï¼Œæ·±å¾—å†›æ°‘ä¹‹å¿ƒ;æ‰©å……å†›å¤‡ï¼Œè®­ç»ƒå£«å…µï¼Œå…¨åŠ›å‡†å¤‡ç­äº¡å­™å´ï¼Œç´¯è¿å¾å—å¤§å°†å†›ï¼Œå†Œå°å—åŸä¾¯ã€‚<br>å’¸å®å››å¹´(278å¹´)ï¼Œç¾Šç¥œå»ä¸–ï¼Œä¸´ç»ˆå‰ä¸¾èæœé¢„æ¥ä»»èŒåŠ¡ã€‚æ­»åè·èµ ä¾ä¸­ã€å¤ªå‚…ï¼Œè°¥å·ä¸ºâ€œæˆâ€ã€‚å”å®‹æ—¶æœŸï¼Œé…äº«æ­¦åº™ã€‚"]],
            "JX_lvlingqi":["female","qun",3,["DIY_guowu","DIY_zhuangrong"],[]],
            "JX_sp_machao":["male","qun",4,["DIY_zhuiji","DIY_shichou","DIY_machaocaidan"],[]],
            "JX_machao":["male","shu",4,["mashu","DIY_tieqi"],[]],
            "JX_cenhun":["male","wu",4,["DIY_jishe"],[]],
            "JX_caifuren":["female","qun",3,["DIY_qieting","DIY_antao"],[]],
            "JX_wangshuang":["male","wei",8,["DIY_zhuilie"],[]],
            "JX_chengyu":["male","wei",3,["DIY_shefu","DIY_benyu"],[]],
            "JX_shen_simayi":["male","shen",4,["DIY_renjie","DIY_baiyin","DIY_lianpo"],["jin"]],
            "JX_caoxiu":["male","wei",4,["reqianju","DIY_qingxi"],[]],
            "JX_lvdai":["male","wu",4,["DIY_qinguo"],[]],
            "JX_shen_machao":["male","shen",4,["DIY_hengwu","DIY_shouli"],["shu"],["des:é©¬è¶…ï¼ˆ176å¹´ï½222å¹´ï¼‰ï¼Œå­—å­Ÿèµ·ï¼Œæ‰¶é£èŒ‚é™µï¼ˆä»Šé™•è¥¿çœå…´å¹³å¸‚ï¼‰äººï¼Œä¸‰å›½æ—¶æœŸèœ€æ±‰åå°†ï¼Œæ±‰ä¼æ³¢å°†å†›é©¬æ´çš„åäººï¼Œé©¬è…¾çš„å„¿å­ï¼Œå°‘å¹´æˆåï¼Œæ›¹æ“æ›¾å¤šæ¬¡å¾å¬é©¬è¶…å…¥äº¬ä¸ºå®˜ï¼Œä½†éƒ½è¢«é©¬è¶…æ‹’ç»ã€‚è€Œåé©¬è…¾å…¥äº¬è¢«å°ä¸ºå«å°‰ï¼Œé©¬è¶…å°±ç»Ÿé¢†äº†é©¬è…¾çš„éƒ¨é˜Ÿã€‚"]],
            "JX_zhangchangpu":["female","wei",3,["DIY_yanjiao","DIY_shengshen"],[]],
            "JX_shen_jiangwei":["male","shen",4,["DIY_jiufa","DIY_tianren"],["shu"]],
            "JX_zhangfei":["male","shu",4,["DIY_paoxiao"],["des:æ„Ÿè°¢åƒé¢çŒ«å¤§ä½¬å¸®å¿™å†™çš„æŠ€èƒ½"]],
            "JX_guanyu":["male","shu",4,["DIY_wusheng"],["des:æ„Ÿè°¢åƒé¢çŒ«å¤§ä½¬å¸®å¿™å†™çš„æŠ€èƒ½"]],
            "JX_shen_xunyu":["male","shen",3,["DIY_tianzuo","DIY_lingce","DIY_dinghan"],["wei"]],
            "JX_wangyuanji":["female","wei",3,["DIY_qianchong"],[]],
            "JX_shen_taishici":["male","shen",4,["DIY_dulie","DIY_dangmo"],["wu"]],
            "JX_xurong":["male","qun",4,["DIY_xionghuo","DIY_shajue"],[]],
            "JX_zhenji":["female","wei",3,["DIY_luoshen","DIY_qingguo"],[]],
            "JX_wei_simazhao":["male","wei",3,["DIY_yilue","DIY_zhaoran"],["jin"]],
            "JX_shen_sunquan":["male","shen",4,["DIY_dili","DIY_quyu"],["wei"]],
            "JX_jikang":["male","wei",3,["DIY_qingxian"],[]],
            "JX_caopicaozhi":["male","wei",4,["DIY_xiangjian"],[]],
            "JX_xusheng":["male","wu",4,["DIY_yicheng"],[]],
            "JX_shamoke":["male","shu",4,["DIY_weijiang","DIY_qili"],[]],
            "JX_simashi":["male","wei",4,["DIY_jinglve","DIY_chebian"],[]],
            "JX_guanping":["male","shu",4,["DIY_longyin"],[]],
            "JX_panjun":["male","wu",3,["DIY_guanwei","DIY_gongqing"],[]],
            "JX_caocao":["male","wei",4,["DIY_jianxiong","hujia"],["zhu"]],
            "JX_zhouyu":["male","wu",3,["DIY_yingzi","DIY_fanjian"],[]],
            "JX_zhoufang":["male","wu",3,["DIY_duanfa","DIY_youdi"],[]],
            "JX_luji":["male","wu",3,["DIY_yili","DIY_zhenglun"],[]],
            "JX_zhangyÃ¬":["male","shu",4,["DIY_zhiyi"],[]],
            "JX_zhouchu":["male","wu",4,["DIY_chuhai","DIY_xianghai"],[]],
            "JX_guohuai":["male","wei",4,["DIY_jingce"],[]],
            "JX_lijue": ["male", "qun", "4/6", ["DIY_langxi","DIY_yisuan"], ["des:å‚è€ƒBç«™upä¸»åƒèŠ¬çš„è®¾è®¡ï¼Œæ„Ÿè°¢é›·ä½¬å¸®å¿™å†™çš„å°æ¸¸æˆã€‚"]],
            "JX_zhangyi":["male","shu",4,["DIY_wurong","DIY_shizhi"],[]],
            "JX_shen_zhaoyun":["male","shen","2/3",["DIY_longhun","DIY_juejing"],[]],
            "JX_zhangjiao":["male","qun",3,["DIY_leiji","DIY_guidao"],[]],
            "JX_miheng":["male","qun",3,["DIY_kuangcai"],[]],
            "JX_huanggai":["male","wu",4,["DIY_kurou"],[]],
            "JX_shen_ganning":["male","shen","3/6",["DIY_shengan_jieying","DIY_poxi"],[]],
            "JX_huangzu":["male","qun",4,["DIY_xiaojun","DIY_wangong"],[]],
			"JX_zhangning":["female","qun",3,["DIY_tianze","DIY_difa"],[]],
			"JX_lingcao":["male","wu",4,["DIY_dujin"],[]],
			"JX_zhuzhi":["male","wu",4,["DIY_anguo"],[]],
			"db_DIY_wenyang":["male","wei",4,["DIY_zhuifeng","DIY_chongjian"],["doublegroup:wei:wu"]],
			"JX_chenqun":["male","wei",3,["DIY_pindi","DIY_faen"],[]],
			"JX_jiangqing":["male","wu",4,["DIY_shangyi","DIY_xiangyu"],[]],
			"JX_weiwenzhugezhi":["male","wu",4,["DIY_fuhai"],["des:<b><span style='text-align: center'>ã€Šä¸­åäººæ°‘å…±å’Œå›½å…¨å›½äººæ°‘ä»£è¡¨å¤§ä¼šå¸¸åŠ¡å§”å‘˜ä¼šå‘Šå°æ¹¾åŒèƒä¹¦ã€‹</span></b><p>äº²çˆ±çš„å°æ¹¾åŒèƒï¼š</p><p>&emsp;&emsp;ä»Šå¤©æ˜¯ä¸€ä¹ä¸ƒä¹å¹´å…ƒæ—¦ã€‚æˆ‘ä»¬ä»£è¡¨ç¥–å›½å¤§é™†çš„å„æ—äººæ°‘ï¼Œå‘è¯¸ä½åŒèƒè‡´ä»¥äº²åˆ‡çš„é—®å€™å’Œè¡·å¿ƒçš„ç¥è´ºã€‚</p><p>&emsp;&emsp;æ˜”äººæœ‰è¨€ï¼šâ€œæ¯é€¢ä½³èŠ‚å€æ€äº²â€ã€‚åœ¨è¿™æ¬¢åº¦æ–°å¹´çš„æ—¶åˆ»ï¼Œæˆ‘ä»¬æ›´åŠ æƒ³å¿µè‡ªå·±çš„äº²éª¨è‚‰â€”â€”å°æ¹¾çš„çˆ¶è€å…„å¼Ÿå§å¦¹ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œä½ ä»¬ä¹Ÿæ— é™æ€€å¿µç¥–å›½å’Œå¤§é™†ä¸Šçš„äº²äººã€‚è¿™ç§ç»µå»¶äº†å¤šå°‘å²æœˆçš„ç›¸äº’æ€å¿µä¹‹æƒ…ä¸æ—¥ä¿±å¢ã€‚è‡ªä»ä¸€ä¹å››ä¹å¹´å°æ¹¾åŒç¥–å›½ä¸å¹¸åˆ†ç¦»ä»¥æ¥ï¼Œæˆ‘ä»¬ä¹‹é—´éŸ³è®¯ä¸é€šï¼Œæ¥å¾€æ–­ç»ï¼Œç¥–å›½ä¸èƒ½ç»Ÿä¸€ï¼Œäº²äººæ— ä»å›¢èšï¼Œæ°‘æ—ã€å›½å®¶å’Œäººæ°‘éƒ½å—åˆ°äº†å·¨å¤§çš„æŸå¤±ã€‚æ‰€æœ‰ä¸­å›½åŒèƒä»¥åŠå…¨çƒåè£”ï¼Œæ— ä¸ç›¼æœ›æ—©æ—¥ç»“æŸè¿™ç§ä»¤äººç—›å¿ƒçš„å±€é¢ã€‚</p><p>&emsp;&emsp;æˆ‘ä»¬ä¸­åæ°‘æ—æ˜¯ä¼Ÿå¤§çš„æ°‘æ—ï¼Œå ä¸–ç•Œäººå£è¿‘å››åˆ†ä¹‹ä¸€ï¼Œäº«æœ‰æ‚ ä¹…çš„å†å²å’Œä¼˜ç§€çš„æ–‡åŒ–ï¼Œå¯¹ä¸–ç•Œæ–‡æ˜å’Œäººç±»å‘å±•çš„å“è¶Šè´¡çŒ®ï¼Œä¸¾ä¸–å…±è®¤ã€‚å°æ¹¾è‡ªå¤å°±æ˜¯ä¸­å›½ä¸å¯åˆ†å‰²çš„ä¸€éƒ¨åˆ†ã€‚ä¸­åæ°‘æ—æ˜¯å…·æœ‰å¼ºå¤§çš„ç”Ÿå‘½åŠ›å’Œå‡èšåŠ›çš„ã€‚å°½ç®¡å†å²ä¸Šæœ‰è¿‡å¤šå°‘æ¬¡å¤–æ—å…¥ä¾µå’Œå†…éƒ¨çº·äº‰ï¼Œéƒ½ä¸æ›¾ä½¿æˆ‘ä»¬çš„æ°‘æ—é™·äºé•¿ä¹…åˆ†è£‚ã€‚è¿‘ä¸‰åå¹´å°æ¹¾åŒç¥–å›½çš„åˆ†ç¦»ï¼Œæ˜¯äººä¸ºçš„ï¼Œæ˜¯è¿åæˆ‘ä»¬æ°‘æ—çš„åˆ©ç›Šå’Œæ„¿æœ›çš„ï¼Œå†³ä¸èƒ½å†è¿™æ ·ä¸‹å»äº†ã€‚æ¯ä¸€ä¸ªä¸­å›½äººï¼Œä¸è®ºæ˜¯ç”Ÿæ´»åœ¨å°æ¹¾çš„è¿˜æ˜¯ç”Ÿæ´»åœ¨å¤§é™†ä¸Šçš„ï¼Œéƒ½å¯¹ä¸­åæ°‘æ—çš„ç”Ÿå­˜ã€å‘å±•å’Œç¹è£è´Ÿæœ‰ä¸å®¹æ¨è¯¿çš„è´£ä»»ã€‚ç»Ÿä¸€ç¥–å›½è¿™æ ·ä¸€ä¸ªå…³ç³»å…¨æ°‘æ—å‰é€”çš„é‡å¤§ä»»åŠ¡ï¼Œç°åœ¨æ‘†åœ¨æˆ‘ä»¬å¤§å®¶çš„é¢å‰ï¼Œè°ä¹Ÿä¸èƒ½å›é¿ï¼Œè°ä¹Ÿä¸åº”å›é¿ã€‚å¦‚æœæˆ‘ä»¬è¿˜ä¸å°½å¿«ç»“æŸç›®å‰è¿™ç§åˆ†è£‚å±€é¢ï¼Œæ—©æ—¥å®ç°ç¥–å›½çš„ç»Ÿä¸€ï¼Œæˆ‘ä»¬ä½•ä»¥å‘Šæ…°äºåˆ—ç¥–åˆ—å®—ï¼Ÿä½•ä»¥è‡ªè§£äºå­å­™åä»£ï¼ŸäººåŒæ­¤å¿ƒï¼Œå¿ƒåŒæ­¤ç†ï¼Œå‡¡å±é»„å¸å­å­™ï¼Œè°æ„¿æˆä¸ºæ°‘æ—çš„åƒå¤ç½ªäººï¼Ÿ</p><p>&emsp;&emsp;è¿‘ä¸‰åå¹´æ¥ï¼Œä¸­å›½åœ¨ä¸–ç•Œä¸Šçš„åœ°ä½å·²å‘ç”Ÿæ ¹æœ¬å˜åŒ–ã€‚æˆ‘å›½å›½é™…åœ°ä½è¶Šæ¥è¶Šé«˜ï¼Œå›½é™…ä½œç”¨è¶Šæ¥è¶Šé‡è¦ã€‚å„å›½äººæ°‘å’Œæ”¿åºœä¸ºäº†åå¯¹éœ¸æƒä¸»ä¹‰ã€ç»´æŠ¤äºšæ´²å’Œä¸–ç•Œçš„å’Œå¹³ç¨³å®šï¼Œå‡ ä¹è«ä¸å¯¹æˆ‘ä»¬å¯„äºˆæå¤§æœŸæœ›ã€‚æ¯ä¸€ä¸ªä¸­å›½äººéƒ½ä¸ºç¥–å›½çš„æ—¥è§å¼ºç››è€Œæ„Ÿåˆ°è‡ªè±ªã€‚æˆ‘ä»¬å¦‚æœå°½å¿«ç»“æŸç›®å‰çš„åˆ†è£‚å±€é¢ï¼ŒæŠŠåŠ›é‡åˆåˆ°ä¸€èµ·ï¼Œåˆ™æ‰€èƒ½è´¡çŒ®äºäººç±»å‰é€”è€…ï¼Œè‡ªæ›´ä¸å¯é™é‡ã€‚æ—©æ—¥å®ç°ç¥–å›½ç»Ÿä¸€ï¼Œä¸ä»…æ˜¯å…¨ä¸­å›½äººæ°‘åŒ…æ‹¬å°æ¹¾åŒèƒçš„å…±åŒå¿ƒæ„¿ï¼Œä¹Ÿæ˜¯å…¨ä¸–ç•Œä¸€åˆ‡çˆ±å¥½å’Œå¹³çš„äººæ°‘å’Œå›½å®¶çš„å…±åŒå¸Œæœ›ã€‚</p><p>&emsp;&emsp;ä»Šå¤©ï¼Œå®ç°ä¸­å›½çš„ç»Ÿä¸€ï¼Œæ˜¯äººå¿ƒæ‰€å‘ï¼Œå¤§åŠ¿æ‰€è¶‹ã€‚ä¸–ç•Œä¸Šæ™®éæ‰¿è®¤åªæœ‰ä¸€ä¸ªä¸­å›½ï¼Œæ‰¿è®¤ä¸­åäººæ°‘å…±å’Œå›½æ”¿åºœæ˜¯ä¸­å›½å”¯ä¸€åˆæ³•çš„æ”¿åºœã€‚æœ€è¿‘ä¸­æ—¥å’Œå¹³å‹å¥½æ¡çº¦çš„ç­¾å®šï¼Œå’Œä¸­ç¾ä¸¤å›½å…³ç³»æ­£å¸¸åŒ–çš„å®ç°ï¼Œæ›´å¯è§æ½®æµæ‰€è‡³ï¼Œå®éä»»ä½•äººæ‰€å¾—è€Œé˜»æ­¢ã€‚ç›®å‰ç¥–å›½å®‰å®šå›¢ç»“ï¼Œå½¢åŠ¿æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½å¥½ã€‚åœ¨å¤§é™†ä¸Šçš„å„æ—äººæ°‘ï¼Œæ­£åœ¨ä¸ºå®ç°å››ä¸ªç°ä»£åŒ–çš„ä¼Ÿå¤§ç›®æ ‡è€ŒåŒå¿ƒæˆ®åŠ›ã€‚æˆ‘ä»¬æ®·åˆ‡æœŸæœ›å°æ¹¾æ—©æ—¥å½’å›ç¥–å›½ï¼Œå…±åŒå‘å±•å»ºå›½å¤§ä¸šã€‚æˆ‘ä»¬çš„å›½å®¶é¢†å¯¼äººå·²ç»è¡¨ç¤ºå†³å¿ƒï¼Œä¸€å®šè¦è€ƒè™‘ç°å®æƒ…å†µï¼Œå®Œæˆç¥–å›½ç»Ÿä¸€å¤§ä¸šï¼Œåœ¨è§£å†³ç»Ÿä¸€é—®é¢˜æ—¶å°Šé‡å°æ¹¾ç°çŠ¶å’Œå°æ¹¾å„ç•Œäººå£«çš„æ„è§ï¼Œé‡‡å–åˆæƒ…åˆç†çš„æ”¿ç­–å’ŒåŠæ³•ï¼Œä¸ä½¿å°æ¹¾äººæ°‘è’™å—æŸå¤±ã€‚å°æ¹¾å„ç•Œäººå£«ä¹Ÿçº·çº·æŠ’å‘æ€€ä¹¡æ€æ—§ä¹‹æƒ…ï¼Œè¯‰è¿°â€œè®¤åŒå›å½’â€ä¹‹æ„¿ï¼Œæå‡ºç§ç§å»ºè®®ï¼Œçƒ­çƒˆç›¼æœ›æ—©æ—¥å›åˆ°ç¥–å›½çš„æ€€æŠ±ã€‚æ—¶è‡³ä»Šæ—¥ï¼Œç§ç§æ¡ä»¶éƒ½å¯¹ç»Ÿä¸€æœ‰åˆ©ï¼Œå¯è°“ä¸‡äº‹ä¿±å¤‡ï¼Œä»»ä½•äººéƒ½ä¸åº”å½“æ‹‚é€†æ°‘æ—çš„æ„å¿—ï¼Œè¿èƒŒå†å²çš„æ½®æµã€‚</p><p>&emsp;&emsp;æˆ‘ä»¬å¯„å¸Œæœ›äºä¸€åƒä¸ƒç™¾ä¸‡å°æ¹¾äººæ°‘ï¼Œä¹Ÿå¯„å¸Œæœ›äºå°æ¹¾å½“å±€ã€‚å°æ¹¾å½“å±€ä¸€è´¯åšæŒä¸€ä¸ªä¸­å›½çš„ç«‹åœºï¼Œåå¯¹å°æ¹¾ç‹¬ç«‹ã€‚è¿™å°±æ˜¯æˆ‘ä»¬å…±åŒçš„ç«‹åœºï¼Œåˆä½œçš„åŸºç¡€ã€‚æˆ‘ä»¬ä¸€è´¯ä¸»å¼ çˆ±å›½ä¸€å®¶ã€‚ç»Ÿä¸€ç¥–å›½ï¼Œäººäººæœ‰è´£ã€‚å¸Œæœ›å°æ¹¾å½“å±€ä»¥æ°‘æ—åˆ©ç›Šä¸ºé‡ï¼Œå¯¹å®ç°ç¥–å›½ç»Ÿä¸€çš„äº‹ä¸šä½œå‡ºå®è´µçš„è´¡çŒ®ã€‚</p><p>&emsp;&emsp;ä¸­å›½æ”¿åºœå·²ç»å‘½ä»¤äººæ°‘è§£æ”¾å†›ä»ä»Šå¤©èµ·åœæ­¢å¯¹é‡‘é—¨ç­‰å²›å±¿çš„ç‚®å‡»ã€‚å°æ¹¾æµ·å³¡ç›®å‰ä»ç„¶å­˜åœ¨ç€åŒæ–¹çš„å†›äº‹å¯¹å³™ï¼Œè¿™åªèƒ½åˆ¶é€ äººä¸ºçš„ç´§å¼ ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œé¦–å…ˆåº”å½“é€šè¿‡ä¸­åäººæ°‘å…±å’Œå›½æ”¿åºœå’Œå°æ¹¾å½“å±€ä¹‹é—´çš„å•†è°ˆç»“æŸè¿™ç§å†›äº‹å¯¹å³™çŠ¶æ€ï¼Œä»¥ä¾¿ä¸ºåŒæ–¹çš„ä»»ä½•ä¸€ç§èŒƒå›´çš„äº¤å¾€æ¥è§¦åˆ›é€ å¿…è¦çš„å‰æå’Œå®‰å…¨çš„ç¯å¢ƒã€‚</p><p>&emsp;&emsp;ç”±äºé•¿æœŸéš”ç»ï¼Œå¤§é™†å’Œå°æ¹¾çš„åŒèƒäº’ä¸äº†è§£ï¼Œå¯¹äºåŒæ–¹é€ æˆå„ç§ä¸ä¾¿ã€‚è¿œå±…æµ·å¤–çš„è®¸å¤šä¾¨èƒéƒ½èƒ½å›å›½è§‚å…‰ï¼Œä¸å®¶äººå›¢èšã€‚ä¸ºä»€ä¹ˆè¿‘åœ¨å’«å°ºçš„å¤§é™†å’Œå°æ¹¾çš„åŒèƒå´ä¸èƒ½è‡ªç”±æ¥å¾€å‘¢ï¼Ÿæˆ‘ä»¬è®¤ä¸ºè¿™ç§è—©ç¯±æ²¡æœ‰ç†ç”±ç»§ç»­å­˜åœ¨ã€‚æˆ‘ä»¬å¸Œæœ›åŒæ–¹å°½å¿«å®ç°é€šèˆªé€šé‚®ï¼Œä»¥åˆ©åŒæ–¹åŒèƒç›´æ¥æ¥è§¦ï¼Œäº’é€šè®¯æ¯ï¼Œæ¢äº²è®¿å‹ï¼Œæ—…æ¸¸å‚è§‚ï¼Œè¿›è¡Œå­¦æœ¯æ–‡åŒ–ä½“è‚²å·¥è‰ºè§‚æ‘©ã€‚</p><p>&emsp;&emsp;å°æ¹¾å’Œç¥–å›½å¤§é™†ï¼Œåœ¨ç»æµä¸Šæœ¬æ¥æ˜¯ä¸€ä¸ªæ•´ä½“ã€‚è¿™äº›å¹´æ¥ï¼Œç»æµè”ç³»ä¸å¹¸ä¸­æ–­ã€‚ç°åœ¨ï¼Œç¥–å›½çš„å»ºè®¾æ­£åœ¨è“¬å‹ƒå‘å±•ï¼Œæˆ‘ä»¬ä¹Ÿå¸Œæœ›å°æ¹¾çš„ç»æµæ—¥è¶‹ç¹è£ã€‚æˆ‘ä»¬ç›¸äº’ä¹‹é—´å®Œå…¨åº”å½“å‘å±•è´¸æ˜“ï¼Œäº’é€šæœ‰æ— ï¼Œè¿›è¡Œç»æµäº¤æµã€‚è¿™æ˜¯ç›¸äº’çš„éœ€è¦ï¼Œå¯¹ä»»ä½•ä¸€æ–¹éƒ½æœ‰åˆ©è€Œæ— å®³ã€‚</p><p>äº²çˆ±çš„å°æ¹¾åŒèƒï¼š</p><p>&emsp;&emsp;æˆ‘ä»¬ä¼Ÿå¤§ç¥–å›½çš„ç¾å¥½å‰é€”ï¼Œæ—¢å±äºæˆ‘ä»¬ï¼Œä¹Ÿå±äºä½ ä»¬ã€‚ç»Ÿä¸€ç¥–å›½ï¼Œæ˜¯å†å²èµ‹äºæˆ‘ä»¬è¿™ä¸€ä»£äººçš„ç¥åœ£ä½¿å‘½ã€‚æ—¶ä»£åœ¨å‰è¿›ï¼Œå½¢åŠ¿åœ¨å‘å±•ã€‚æˆ‘ä»¬æ—©ä¸€å¤©å®Œæˆè¿™ä¸€ä½¿å‘½ï¼Œå°±å¯ä»¥æ—©ä¸€å¤©å…±åŒåˆ›é€ æˆ‘å›½ç©ºå‰æœªæœ‰çš„å…‰è¾‰ç¿çƒ‚çš„å†å²ï¼Œè€Œä¸å„å…ˆè¿›å¼ºå›½å¹¶é©¾é½é©±ï¼Œå…±è°‹ä¸–ç•Œçš„å’Œå¹³ã€ç¹è£å’Œè¿›æ­¥ã€‚è®©æˆ‘ä»¬æºèµ·æ‰‹æ¥ï¼Œä¸ºè¿™ä¸€å…‰è£ç›®æ ‡å…±åŒå¥‹æ–—ï¼</p>"]],
            "JX_sunjian":["male","wu",4,["DIY_yinghun"],[]],
		},
        characterTitle:{
            "JX_BOSS_zhugeliang":"ç¥­é£å§é¾™",
            "JX_zhangliang":"äººå…¬å°†å†›",
            "JX_yanjun":"å¿—å­˜è¡¥ç›Š",
            "JX_xuezong":"å½¬å½¬ä¹‹ç‰",
            "JX_xushu":"åŒ–å‰‘ä¸ºçŠ",
            "JX_sunqian":"æŠ˜å†²æ¨½ä¿",
            "JX_guanqiujian":"é¹„ç¿€æ˜Šè‹",
            "JX_caohong":"å¿ çƒˆä¸ºå¿ƒ",
            "JX_caiyong":"åšå­¦ç»˜æ³•",
            "JX_hanfu":"åº¦åŠ¿æ‡ç„¶",
            "JX_yanyan":"æ–­å¤´å°†å†›",
            "JX_quancong":"æ…•åŠ¿è€€æ—",
            "JX_jiling":"ä»²å›½å¤§å°†",
            "JX_wenpin":"åšåŸå®¿å°†",
            "JX_kuailiangkuaiyue":"é›è®ºè‡¼è°‹",
            "JX_shen_zhangliao":"ç ´è™è¡å¯‡",
            "JX_taishici":"å¥‡è¢­é‡å›´",
            "JX_chendao":"ç™½æ¯¦ç£",
            "JX_xiahouba":"æ£˜é€”å£®å¿—",
            "JX_zhugejin":"é£é›…ç¥é€¸",
            "JX_zumao":"ç¢§è¡€æŸ“èµ¤å¸»",
            "JX_shenlvmeng":"å…¼èµ„æ–‡æ­¦",
            "JX_shenguanyu":"é“¾ç‹±é¬¼ç¥",
            "JX_shenlvbu":"å† ç»å¤©ä¸‹",
            "JX_shenzhugeliang":"èµ¤å£å”¤é£",
            "JX_wangcan":"ä¸ƒå­å† å†•",
            "JX_SPpangtong":"å—å·å£«å† ",
            "JX_xiahoushi":"æ¡ç¼˜æ’·ç¦",
            "JX_lidian":"å„’é›…ä¹‹å£«",
            "JX_yanbaihu":"è±¹ç‰™è½æ¶§",
            "JX_zhugeguo":"å‡¤é˜ä¹˜çƒŸ",
            "JX_dingfeng":"å‹‡å† ä¸‰å†›",
            "JX_shenliubei":"æ˜­çƒˆæ€’ç«",
            "JX_liuye":"ä½ä¸–ä¹‹æ‰",
            "JX_xiangchong":"æ€§æƒ…æ·‘å‡",
            "JX_zhoutai":"ç™¾æˆ˜ä¹‹èº¯",
            "JX_sp_machao":"è¥¿å‡‰é›„ç‹®",
            "JX_spjiangwei":"å¤©æ°´éº’éºŸ",
            "JX_xiahouyuan":"å¥”è½¶ç»å°˜",
            "JX_zhujun":"åŠŸæˆå¸ˆå…‹",
            "JX_caozhang":"ç¥å‹‡å£®çŒ›",
            "JX_yuanshao":"å››ä¸–ä¸‰å…¬",
            "JX_dianwei":"å¤ä¹‹æ¶æ¥",
            "JX_shenluxun":"ç»½ç„°æ‘§æ¯",
            "JX_simazhao":"æƒå€¾æœé‡",
            "JX_boss_simazhao":"å››æµ·å¨æœ",
            "JX_huangyueying":"å¥‡æ™ºå¥³æ°",
            "JX_sundengzhoufei":"é¹Šæ˜Ÿå¤•æƒ…",
            "JX_lukang":"æ¯å °ç ´æ™‹",
            "JX_retaishici":"ç¬ƒçƒˆå¾¡æ•Œ",
            "JX_xingdaorong":"é›¶é™µä¸Šå°†",
            "JX_miganfuren":"å¯¸è‰ä¸¹å¿ƒ",
            "JX_chenlin":"ä¸‹ç¬”ç¼´æ–‡",
            "JX_xunyou":"åäºŒå¥‡ç­–",
            "JX_wutugu":"è—¤ç”²å†›",
            "JX_liuzan":"äº¢éŸ³é«˜æ­Œ",
            "JX_sunchen":"å—œæˆ®æƒè‡£",
            "JX_zhangbao":"åœ°å…¬å°†å†›",
            "JX_cheliji":"é«˜å‡‰é“éª¨",
            "JX_zhuhuan":"ä¸­å·æ‹’å¤©",
            "JX_dongzhuo":"ç¥¸ä¹±æœçº²",
            "JX_heqi":"é©¬è¸ç¾¤å³¦",
            "JX_yujin":"èµ´æ±¤è¹ˆç«",
            "JX_fuqian":"å±æ±‰ç»å‹‡",
            "JX_zhanghe":"æ–™æ•Œæœºå…ˆ",
            "JX_gongsunzan":"ç™½é©¬ä¹‰ä»",
            "JX_jiayu":"æ–‡å’Œæ­¦ä¹±",
            "JX_caoang":"å–ä¹‰æˆä»",
            "JX_yanliangwenchou":"éªå‹‡åŒé›„",
            "JX_liuchen":"åŒ—åœ°äº²ç‹",
            "JX_zhugeke":"ç©·å…µé»©æ­¦",
            "JX_gaoshun":"è™ç‹¼ä¹‹å¸ˆ",
            "JX_zhaotongzhaoguang":"é¾™ä¸¾äº‘å…´",
            "JX_zhangzhaozhanghong":"è‚¡è‚±ä¹‹è‡£",
            "JX_tadun":"å† ç»ä¹Œæ¡“",
            "JX_dengai":"æ‘§å±±å‡¿é™©",
            "JX_hetaihou":"è›‡èä¸ºå¿ƒ",
            "JX_liuyao":"å®—è‹±å¤–é•‡",
            "JX_huangzhong":"æ²¡é‡‘é“©ç¾½",
            "JX_liubei":"é¾™éª§éºŸæŒ¯",
            "JX_wangji":"æ—¶ä¹‹å½¦å£«",
            "JX_zhonghui":"æ¡€éªœé‡å¿ƒ",
            "JX_hanhaoshihuan":"ä¸­å†›ä¹‹ä¸»",
            "JX_yl_luzhi":"å›½ä¹‹æ¡¢å¹²",
            "JX_chendong":"å£®æ€€æ¿€çƒˆ",
            "JX_xujingxushao":"è¯•è®ºå¤©ä¸‹",
            "JX_gongsunyuan":"ç‹¡é» é‡å¿ƒ",
            "JX_dingyuan":"å…»è™ä¸ºæ‚£",
            "JX_wangyi":"å¿ è´å·¾å¸¼",
            "JX_zhugedan":"è–¤éœ²è’¿é‡Œ",
            "JX_liufeng":"èŸè›‰ä¹‹å­",
            "JX_ganning":"é”¦å¸†æ¸¸ä¾ ",
            "JX_sp_zhugeliang":"ä¸‰åˆ†å¤©ä¸‹",
            "JX_luxun":"æ·‘äººå›å­",
            "JX_zhugeliang":"ä¸€æ•æ¸…æ¢¦",
            "JX_sunziliufang":"åŠ©é­è¾…å›",
            "JX_zhangrangzhaozhong":"å®¦åŠ¿æ§æƒ",
            "JX_sunquan":"æ±Ÿä¸œå¤§å¸",
            "JX_fazheng":"æˆ¡å¾‹å®šç§‘",
            "JX_shen_zhouyu":"çº¢è²ä¸šç«",
            "JX_fanjiangzhangda":"ä½ æ­»æˆ‘æ´»",
            "JX_lvmeng":"è‹æ±Ÿä¸€ç¬ ",
            "JX_zhangji":"é¾™æ²ƒäºé‡",
            "JX_daxiaoqiao":"ç»è‰²åŒå§",
            "JX_sp_jiangwan":"æ–¹æ•´å¨é‡",
            "JX_cuiyan":"ä¼¯å¤·ä¹‹é£",
            "JX_zhouqun":"å å¤©æ˜å¾",
            "JX_zhangliao":"å¨éœ‡é€é¥",
            "JX_lingtong":"è±ªæƒ…çƒˆèƒ†",
            "JX_xuyou":"æƒæ‰å‚²ç‰©",
            "JX_lvbu":"å¤©ä¸‹æ— åŒ",
            "JX_guosi":"å…šè±ºä¸ºè™",
            "JX_lingju":"é­‚ç‰µæ¢¦è¦",
            "JX_sp_pangde":"æŠ¬æ£ºå†³æ­»",
            "db_yuji":"å¹»æƒ‘ä¼—å¿ƒ",
            "JX_huaxiong":"è·‹æ‰ˆé›„ç‹®",
            "JX_jianggan":"é”‹é•æ‚¬ä¿¡",
            "JX_haozhao":"æ™ºå¯†å–„å®ˆ",
            "JX_zhangxingcai":"å·¾å¸¼èŠ±æ­¦",
            "JX_guanyinping":"å·¾å¸¼èŠ±æ­¦",
            "JX_mayunlu":"å·¾å¸¼èŠ±æ­¦",
            "JX_qinghegongzhu":"è›Šè™¿ä¹‹è°—",
            "JX_sunluban":"ä¸ºè™ä½œä¼¥",
            "JX_xuhuang":"å¾„è¡Œæˆªè¾",
            "JX_xuangongzhu":"é«˜é™µå…¬ä¸»",
            "JX_caojinyu":"é‡‘ä¹¡å…¬ä¸»",
            "JX_liru":"ç»ç­–é­”ä»•",
            "JX_jianyong":"èˆŒç¿é‡‘è²",
            "JX_sunce":"è¸æ±Ÿéœ¸ç‹",
            "JX_wangyun":"å¿ é­‚ä¸æ³¯",
            "JX_caoying":"å·¾å¸¼èŠ±æ­¦",
            "JX_baosanniang":"å·¾å¸¼èŠ±æ­¦",
            "JX_caochun":"è™è±¹éª‘é¦–",
            "JX_xiahoudun":"åˆšçƒˆæ— æƒ§",
            "JX_litong":"æ¨é”‹é™·é˜µ",
            "JX_zhaoyun":"ä¸ƒè¿›ä¸ƒå‡º",
            "JX_jin_yanghu":"æ‰§å¾·æ¸…é‚µ",
            "JX_lvlingqi":"å·¾å¸¼èŠ±æ­¦",
            "JX_machao":"ä¸€éª‘å½“åƒ",
            "JX_cenhun":"è‚†æ— å¿Œæƒ®",
            "JX_caifuren":"åé—¨å¦–åª›",
            "JX_wangshuang":"è¿½å‡»ç›¸é‡",
            "JX_chengyu":"åˆšæˆ¾è¯¡è°‹",
            "JX_shen_simayi":"ç‹¼é¡¾ä¹‹é¬¼",
            "JX_caoxiu":"åƒé‡Œéªéª¥",
            "JX_lvdai":"æ¸…èº«å¥‰å…¬",
            "JX_shen_machao":"è®¯å©ºæƒŠé›·",
            "JX_zhangchangpu":"ä¸‰è§’å‡½æ•°",
            "JX_shen_jiangwei":"æ€’éºŸå¸ƒæ­¦",
            "JX_zhangfei":"ä¸‡å¤«ä¸å½“",
            "JX_guanyu":"å¨éœ‡åå¤",
            "JX_shen_xunyu":"æ´å¿ƒå…ˆè¯†",
            "JX_wangyuanji":"æ–‡æ˜çš‡å",
            "JX_shen_taishici":"ä¹‰ä¿¡å¤©æ­¦",
            "JX_xurong":"å›½å®´å¾¡å¨",
            "JX_zhenji":"æ´›æ°´ä»™å­",
            "JX_wei_simazhao":"ç‹¼å­é‡å¿ƒ",
            "JX_shen_sunquan":"å´ç‹å…­å‰‘",
            "JX_jikang":"å³»å³°å­¤æ¾",
            "JX_caopicaozhi":"ç…®è±†ç‡ƒè",
            "JX_xusheng":"æ±Ÿä¸œé“è‡‚",
            "JX_shamoke":"äº”æºªè›®ç‹",
            "JX_simashi":"æ‘§åšè¡å¼‚",
            "JX_guanping":"é¾™åŸä¹éœ„",
            "JX_panjun":"è§å¾®çŸ¥è‘—",
            "JX_caocao":"ä¹±ä¸–æ­é›„",
            "JX_zhouyu":"é›„å§¿è‹±å‘",
            "JX_zhoufang":"ä¸‹å‘è½½ä¹‰",
            "JX_luji":"ç‘šçä¹‹å™¨",
            "JX_zhangyÃ¬":"äº¢é”æ€€å¿ ",
            "JX_zhouchu":"è‹±æƒ…å¤©é€¸",
            "JX_guohuai":"æ–¹ç­–ç²¾è¯¦",
            "JX_lijue":"é›•æ‚ç‹¼æˆ¾",
            "JX_zhangyi":"é€šå£®é€¾å¤",
            "JX_shen_zhaoyun":"ç¥å¨å¦‚é¾™",
            "JX_zhangjiao":"å¤©å…¬å°†å†›",
            "JX_miheng":"ç‹‚å‚²å¥‡äºº",
            "JX_huanggai":"èµ´æ±¤è¹ˆç«",
			"JX_shen_ganning":"åŠŸéœ‡å¤©è‹±",
            "JX_huangzu":"è™è¸æ±Ÿå¤",
			"JX_zhangning":"å¤§è´¤åäºº",
			"JX_lingcao":"æ¿€æµå‹‡è¿›",
			"JX_zhuzhi":"ç‹äº‹é¡ç›¬",
			"db_DIY_wenyang":"ä¸‡å°†æŠ«é¡",
			"JX_chenqun":"ä¸‡ä¸–è‡£è¡¨",
			"JX_jiangqing":"ç¥å¥šä¹‹å™¨",
			"JX_weiwenzhugezhi":"å››æµ·å‡å¹³",
			"JX_sunjian":"é­‚ä½‘æ±Ÿä¸œ",
        },
        translate:{
            "JX_BOSS_zhugeliang":"ç¥­é£å§é¾™",
            "JX_zhangliang":"Â§å¼ æ¢",
            "JX_yanjun":"Â§ä¸¥ç•¯",
            "JX_xuezong":"Â§è–›ç»¼",
            "JX_xushu":"Â§å¾åº¶",
            "JX_sunqian":"Â§å­™ä¹¾",
            "JX_guanqiujian":"Â§æ¯Œä¸˜ä¿­",
            "JX_caohong":"Â§æ›¹æ´ª",
            "JX_caiyong":"Â§è”¡é‚•",
            "JX_hanfu":"Â§éŸ©é¦¥",
            "JX_yanyan":"Â§ä¸¥é¢œ",
            "JX_quancong":"Â§å…¨ç®",
            "JX_jiling":"Â§çºªçµ",
            "JX_wenpin":"Â§æ–‡è˜",
            "JX_kuailiangkuaiyue":"Â§è’¯è‰¯è’¯è¶Š",
            "JX_shen_zhangliao":"Â§ç¥å¼ è¾½",
            "JX_taishici":"Â§å¤ªå²æ…ˆ",
            "JX_chendao":"Â§é™ˆåˆ°",
            "JX_xiahouba":"Â§å¤ä¾¯éœ¸",
            "JX_zhugejin":"Â§è¯¸è‘›ç‘¾",
            "JX_zumao":"Â§ç¥–èŒ‚",
            "JX_shenlvmeng":"Â§ç¥å•è’™",
            "JX_shenguanyu":"Â§ç¥å…³ç¾½",
            "JX_shenlvbu":"Â§ç¥å•å¸ƒ",
            "JX_shenzhugeliang":"Â§ç¥è¯¸è‘›äº®",
            "JX_wangcan":"Â§ç‹ç²²",
            "JX_SPpangtong":"Â§åºç»Ÿ",
            "JX_xiahoushi":"Â§å¤ä¾¯æ°",
            "JX_lidian":"Â§æå…¸",
            "JX_yanbaihu":"Â§ä¸¥ç™½è™",
            "JX_zhugeguo":"Â§è¯¸è‘›æœ",
            "JX_dingfeng":"Â§ä¸å¥‰",
            "JX_shenliubei":"Â§ç¥åˆ˜å¤‡",
            "JX_liuye":"Â§åˆ˜æ™”",
            "JX_xiangchong":"Â§å‘å® ",
            "JX_zhoutai":"Â§å‘¨æ³°",
            "JX_spjiangwei":"Â§å§œç»´",
            "JX_xiahouyuan":"Â§å¤ä¾¯æ¸Š",
            "JX_zhujun":"Â§æœ±å„",
            "JX_caozhang":"Â§æ›¹å½°",
            "JX_yuanshao":"Â§è¢ç»",
            "JX_dianwei":"Â§å…¸éŸ¦",
            "JX_shenluxun":"Â§ç¥é™†é€Š",
            "JX_simazhao":"Â§å¸é©¬æ˜­",
            "JX_boss_simazhao":"Â§å¸é©¬æ˜­",
            "JX_huangyueying":"Â§é»„æœˆè‹±",
            "JX_sundengzhoufei":"Â§å­™ç™»å‘¨å¦ƒ",
            "JX_lukang":"Â§é™†æŠ—",
            "JX_retaishici":"Â§å¤ªå²æ…ˆ",
            "JX_xingdaorong":"Â§é‚¢é“è£",
            "JX_miganfuren":"Â§ç”˜å¤«äººç³œå¤«äºº",
            "JX_chenlin":"Â§é™ˆç³",
            "JX_xunyou":"Â§è€æ”¸",
            "JX_wutugu":"Â§å…€çªéª¨",
            "JX_liuzan":"Â§ç•™èµ",
            "JX_sunchen":"Â§å­™ç¶",
            "JX_zhangbao":"Â§å¼ å®",
            "JX_cheliji":"Â§å½»é‡Œå‰",
            "JX_zhuhuan":"Â§æœ±æ¡“",
            "JX_dongzhuo":"Â§è‘£å“",
            "JX_heqi":"Â§è´ºé½",
            "JX_yujin":"Â§äºç¦",
            "JX_fuqian":"Â§å‚…ä½¥",
            "JX_zhanghe":"Â§å¼ éƒƒ",
            "JX_gongsunzan":"Â§å…¬å­™ç“’",
            "JX_jiayu":"Â§è´¾è¯©",
            "JX_caoang":"Â§æ›¹æ˜‚",
            "JX_yanliangwenchou":"Â§é¢œè‰¯æ–‡ä¸‘",
            "JX_liuchen":"Â§åˆ˜è°Œ",
            "JX_zhugeke":"Â§è¯¸è‘›æª",
            "JX_gaoshun":"Â§é«˜é¡º",
            "JX_zhaotongzhaoguang":"Â§èµµç»Ÿèµµå¹¿",
            "JX_zhangzhaozhanghong":"Â§å¼ æ˜­å¼ çº®",
            "JX_tadun":"Â§è¹‹é¡¿",
            "JX_dengai":"Â§é‚“è‰¾",
            "JX_hetaihou":"Â§ä½•å¤ªå",
            "JX_liuyao":"Â§åˆ˜ç¹‡",
            "JX_huangzhong":"Â§é»„å¿ ",
            "JX_liubei":"Â§åˆ˜å¤‡",
            "JX_wangji":"Â§ç‹åŸº",
            "JX_zhonghui":"Â§é’Ÿä¼š",
            "JX_hanhaoshihuan":"Â§éŸ©æµ©å²æ¶£",
            "JX_yl_luzhi":"Â§å¢æ¤",
            "JX_chendong":"Â§é™ˆæ­¦è‘£è¢­",
            "JX_xujingxushao":"Â§è®¸é–è®¸é‚µ",
            "JX_gongsunyuan":"Â§å…¬å­™æ¸Š",
            "JX_dingyuan":"Â§ä¸åŸ",
            "JX_wangyi":"Â§ç‹å¼‚",
            "JX_zhugedan":"Â§è¯¸è‘›è¯",
            "JX_liufeng":"Â§åˆ˜å°",
            "JX_ganning":"Â§ç”˜å®",
            "JX_sp_zhugeliang":"Â§å§é¾™è¯¸è‘›",
            "JX_luxun":"Â§é™†é€Š",
            "JX_zhugeliang":"Â§è¯¸è‘›äº®",
            "JX_sunziliufang":"Â§å­™èµ„åˆ˜æ”¾",
            "JX_zhangrangzhaozhong":"Â§å¼ è®©èµµå¿ ",
            "JX_sunquan":"Â§å­™æƒ",
            "JX_fazheng":"Â§æ³•æ­£",
            "JX_shen_zhouyu":"Â§ç¥å‘¨ç‘œ",
            "JX_fanjiangzhangda":"Â§èŒƒç–†å¼ è¾¾",
            "JX_lvmeng":"Â§å•è’™",
            "JX_zhangji":"Â§å¼ æµ",
            "JX_daxiaoqiao":"Â§å¤§å°ä¹”",
            "JX_sp_jiangwan":"Â§è’‹ç¬",
            "JX_cuiyan":"Â§å´”ç°",
            "JX_zhouqun":"Â§å‘¨ç¾¤",
            "JX_zhangliao":"Â§å¼ è¾½",
            "JX_lingtong":"Â§å‡Œç»Ÿ",
            "JX_xuyou":"Â§è®¸æ”¸",
            "JX_lvbu":"Â§å•å¸ƒ",
            "JX_guosi":"Â§éƒ­æ±œ",
            "JX_lingju":"Â§çµé›",
            "JX_sp_pangde":"Â§åºå¾·",
            "db_yuji":"Â§äºå‰",
            "JX_huaxiong":"Â§åé›„",
            "JX_jianggan":"Â§è’‹å¹²",
            "JX_haozhao":"Â§éƒæ˜­",
            "JX_zhangxingcai":"Â§å¼ æ˜Ÿå½©",
            "JX_guanyinping":"Â§å…³é“¶å±",
            "JX_mayunlu":"Â§é©¬äº‘ç¦„",
            "JX_qinghegongzhu":"Â§æ¸…æ²³å…¬ä¸»",
            "JX_sunluban":"Â§å…¨å…¬ä¸»",
            "JX_xuhuang":"Â§å¾æ™ƒ",
            "JX_xuangongzhu":"Â§å®£å…¬ä¸»",
            "JX_caojinyu":"Â§é‡‘ä¹¡å…¬ä¸»",
            "JX_liru":"Â§æå„’",
            "JX_jianyong":"Â§ç®€é›",
            "JX_sunce":"Â§å­™ç­–",
            "JX_wangyun":"Â§ç‹å…",
            "JX_caoying":"Â§æ›¹å©´",
            "JX_baosanniang":"Â§é²ä¸‰å¨˜",
            "JX_caochun":"Â§æ›¹çº¯",
            "JX_xiahoudun":"Â§å¤ä¾¯æƒ‡",
            "JX_litong":"Â§æé€š",
            "JX_zhaoyun":"Â§èµµäº‘",
            "JX_jin_yanghu":"Â§ç¾Šç¥œ",
            "JX_lvlingqi":"Â§å•ç²ç»®",
            "JX_sp_machao":"Â§é©¬è¶…",
            "JX_machao":"Â§é©¬è¶…",
            "JX_cenhun":"Â§å²‘æ˜",
            "JX_caifuren":"Â§è”¡å¤«äºº",
            "JX_wangshuang":"Â§ç‹åŒ",
            "JX_chengyu":"Â§ç¨‹æ˜±",
            "JX_shen_simayi":"Â§ç¥å¸é©¬æ‡¿",
            "JX_caoxiu":"Â§æ›¹ä¼‘",
            "JX_lvdai":"Â§å•å²±",
            "JX_shen_machao":"Â§ç¥é©¬è¶…",
            "JX_zhangchangpu":"Â§å¼ æ˜Œè’²",
            "JX_shen_jiangwei":"Â§ç¥å§œç»´",
            "JX_zhangfei":"Â§å¼ é£",
            "JX_guanyu":"Â§å…³ç¾½",
            "JX_shen_xunyu":"Â§ç¥è€å½§",
            "JX_wangyuanji":"Â§ç‹å…ƒå§¬",
            "JX_shen_taishici":"Â§ç¥å¤ªå²æ…ˆ",
            "JX_xurong":"Â§å¾è£",
            "JX_zhenji":"Â§ç”„å§¬",
            "JX_wei_simazhao":"Â§å¸é©¬æ˜­",
            "JX_shen_sunquan":"Â§ç¥å­™æƒ",
            "JX_jikang":"Â§åµ‡åº·",
            "JX_caopicaozhi":"Â§æ›¹ä¸•æ›¹æ¤",
            "JX_xusheng":"Â§å¾ç››",
            "JX_shamoke":"Â§æ²™æ‘©æŸ¯",
            "JX_simashi":"Â§å¸é©¬å¸ˆ",
            "JX_guanping":"Â§å…³å¹³",
            "JX_panjun":"Â§æ½˜æ¿¬",
            "JX_caocao":"Â§æ›¹æ“",
            "JX_zhouyu":"Â§å‘¨ç‘œ",
            "JX_zhoufang":"Â§å‘¨é²‚",
            "JX_luji":"Â§é™†ç»©",
            "JX_zhangyÃ¬":"Â§å¼ ç¿¼",
            "JX_zhouchu":"Â§å‘¨å¤„",
            "JX_guohuai":"Â§éƒ­æ·®",
            "JX_lijue":"Â§æå‚•",
            "JX_zhangyi":"Â§å¼ å¶·",
            "JX_shen_zhaoyun":"Â§ç¥èµµäº‘",
            "JX_zhangjiao":"Â§å¼ è§’",
            "JX_miheng":"Â§ç¥¢è¡¡",
            "JX_huanggai":"Â§é»„ç›–",
            "JX_shen_ganning":"Â§ç¥ç”˜å®",
            "JX_huangzu":"Â§é»„ç¥–",
			"JX_zhangning":"Â§å¼ å®",
			"JX_lingcao":"Â§å‡Œæ“",
			"JX_zhuzhi":"Â§æœ±æ²»",
			"db_DIY_wenyang":"Â§æ–‡é¸¯",
			"JX_chenqun":"Â§é™ˆç¾¤",
			"JX_jiangqing":"Â§è’‹é’¦",
			"JX_weiwenzhugezhi":"Â§å«æ¸©è¯¸è‘›ç›´",
			"JX_sunjian":"Â§å­™åš",
        },
    },
    card:{
        card:{
            "DIY_piliche":{
                fullskin:true,
                vanish:true,
                derivation:"JX_liuye",
                destroy:"DIY_polu",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-9,
                },
                skills:["DIY_piliche"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_piliche.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_feilunzhanyu":{
                fullskin:true,
                vanish:true,
                derivation:"JX_cheliji",
                destroy:"DIY_chexuan",
                type:"equip",
                subtype:"equip5",
                skills:["DIY_feilunzhanyu"],
                enable:true,
                selectTarget:-1,
                filterTarget:function(card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function(){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_sichengliangyu":{
                fullskin:true,
                vanish:true,
                derivation:"JX_cheliji",
                destroy:"DIY_chexuan",
                type:"equip",
                subtype:"equip5",
                skills:["DIY_sichengliangyu"],
                enable:true,
                selectTarget:-1,
                filterTarget:function(card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function(){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_tiejixuanyu":{
                fullskin:true,
                vanish:true,
                derivation:"JX_cheliji",
                destroy:"DIY_chexuan",
                type:"equip",
                subtype:"equip5",
                skills:["DIY_tiejixuanyu"],
                enable:true,
                selectTarget:-1,
                filterTarget:function(card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function(){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_baihongjian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-1,
                },
                skills:["DIY_baihongjian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_baihongjian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_liuxingjian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                skills:["DIY_liuxingjian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_liuxingjian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_zidianjian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-2,
                },
                skills:["DIY_zidianjian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_zidianjian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_bixiejian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-2,
                },
                skills:["DIY_bixiejian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_bixiejian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_qingmingjian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-2,
                },
                skills:["DIY_qingmingjian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_qingmingjian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
            "DIY_bailijian":{
                fullskin:true,
                vanish:true,
                derivation:"JX_shen_sunquan",
                destroy:"DIY_dili",
                type:"equip",
                subtype:"equip1",
                distance:{
                    attackFrom:-1,
                },
                skills:["DIY_bailijian"],
                selectTarget:-1,
                filterTarget:function (card,player,target){
        return target==player;
    },
                modTarget:true,
                allowMultiple:false,
                content:function (){
        if(cards.length&&get.position(cards[0],true)=='o') target.equip(cards[0]);
    },
                toself:true,
                image:"ext:å¤©ç‰¢ä»¤/DIY_bailijian.png",
                enable:true,
                ai:{
                    basic:{
                        order:function(card,player){
                if(player&&player.hasSkillTag('reverseEquip')){
                    return 8.5-get.equipValue(card,player)/20;
                }
                else{
                    return 8+get.equipValue(card,player)/20;
                }
            },
                        useful:2,
                        equipValue:1,
                        value:function(card,player,index,method){
                if(player.isDisabled(get.subtype(card))) return 0.01;
                var value=0;
                var info=get.info(card);
                var current=player.getEquip(info.subtype);
                if(current&&card!=current){
                    value=get.value(current,player);
                }
                var equipValue=info.ai.equipValue;
                if(equipValue==undefined){
                    equipValue=info.ai.basic.equipValue;
                }
                if(typeof equipValue=='function'){
                    if(method=='raw') return equipValue(card,player);
                    if(method=='raw2') return equipValue(card,player)-value;
                    return Math.max(0.1,equipValue(card,player)-value);
                }
                if(typeof equipValue!='number') equipValue=0;
                if(method=='raw') return equipValue;
                if(method=='raw2') return equipValue-value;
                return Math.max(0.1,equipValue-value);
            },
                    },
                    result:{
                        target:function(player,target,card){
                return get.equipResult(player,target,card.name);
            },
                    },
                },
            },
        },
        translate:{
            "DIY_piliche":"éœ¹é›³è½¦",
            "DIY_piliche_info":"å½“ä½ å¯¹å…¶ä»–è§’è‰²é€ æˆä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥éšæœºæ‰§è¡Œä»¥ä¸‹ä¸€é¡¹ï¼š<br>â‘ å¼ƒç½®å…¶è£…å¤‡åŒºå†…çš„æ‰€æœ‰ç‰Œï¼›â‘¡å¼ƒç½®å…¶æ‰‹ç‰ŒåŒºå†…çš„æ‰€æœ‰ç‰Œï¼›â‘¢ä»¤å…¶ç¿»é¢ã€‚",
            "DIY_feilunzhanyu":"é£è½®æˆ˜èˆ†",
            "DIY_feilunzhanyu_info":"å…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶äº¤ç»™ä½ ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_sichengliangyu":"å››ä¹˜ç²®èˆ†",
            "DIY_sichengliangyu_info":"ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_tiejixuanyu":"é“è’ºç„èˆ†",
            "DIY_tiejixuanyu_info":"å…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶å¼ƒç½®ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_baihongjian":"ç™½è™¹å‰‘",
            "DIY_baihongjian_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_liuxingjian":"æµæ˜Ÿå‰‘",
            "DIY_liuxingjian_info":"é”å®šæŠ€ï¼Œä½ å¯ä»¥å¯¹æ”»å‡»èŒƒå›´å¤–çš„è§’è‰²ä½¿ç”¨ã€æ€ã€‘ï¼›å½“ä½ ä¸ä»¥æ­¤æ³•ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡æ—¶ï¼Œä½ å°†æ‰‹ç‰Œä¸­æ‰€æœ‰çš„ã€æ€ã€‘å¯¹å…¶ä½¿ç”¨ã€‚",
            "DIY_zidianjian":"ç´«ç”µå‰‘",
            "DIY_zidianjian_info":"å½“ä½ å¯¹ä¸€åè§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³åï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œã€é›·æ€ã€‘å¯¹è·ç¦»å…¶ä¸ºä¸€çš„è§’è‰²ä½¿ç”¨ã€‚",
            "DIY_bixiejian":"è¾Ÿé‚ªå‰‘",
            "DIY_bixiejian_info":"é”å®šæŠ€ï¼Œå½“ä½ æˆä¸ºä¸€å¼ ã€æ€ã€‘çš„ç›®æ ‡æ—¶ï¼Œä½ é¡»å¯¹æ­¤ã€æ€ã€‘ä½¿ç”¨è€…ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ä»¥æŠµæ¶ˆæ­¤ã€æ€ã€‘ï¼Œå¦åˆ™ä½ ä¸å¯å“åº”æ­¤ã€æ€ã€‘ã€‚",
            "DIY_qingmingjian":"é’å†¥å‰‘",
            "DIY_qingmingjian_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡åï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œæˆ–å¤±å»1ç‚¹ä½“åŠ›å¹¶æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åæ­¤ã€æ€ã€‘ä¸å¯å“åº”ã€‚",
            "DIY_bailijian":"ç™¾é‡Œå‰‘",
            "DIY_bailijian_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥æ”¶å›ä¸€å¼ æœªé€ æˆä¼¤å®³çš„ä¼¤å®³ç±»ç‰Œã€‚",
        },
        list:[],
    },
    skill:{
        skill:{
            "DIY_jijun":{
                audio:"xinfu_jijun",
                trigger:{
                    player:"useCardToPlayered",
                },
                forced:true,
                charlotte:true,
                logTarget:"_status.currentPhase",
                filter:function(event,player){
        return event.targets.length==1;
    },
                content:function (){
        player.judge(function(card){
            return 1;
        }).callback=lib.skill.DIY_jijun.callback;
        game.log(player,'é›†æ°‘æ„ä¸‡åƒ');
    },
                callback:function(){
        player.addToExpansion(card,'gain2').gaintag.add('DIY_jijun');
    },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                    mark:function(dialog,content,player){
            var content=player.getExpansions('DIY_jijun');
            if(content&&content.length){
                dialog.addAuto(content);
                if(player==game.me||player.isUnderControl()){
                    var list=lib.skill.DIY_fangtong.getAuto(player);
                    if(list.length>0){
                        dialog.addText('<li>æ¨èæ–¹æ¡ˆï¼š'+get.translation(list[0])+'+ '+get.translation(list.slice(1)));
                    }
                }
            }
        },
                },
                marktext:"æ–¹",
                group:'DIY_jijun_judge',
                subSkill:{
                    judge:{
                        audio:"xinfu_jijun",
                        trigger:{
                            player:"judgeEnd",
                        },
                        charlotte:true,
                        forced:true,
                        filter:function(event,player){
                            return get.position(event.result.card,true)=='o';
                        },
                        content:function(){
                            player.addToExpansion(trigger.result.card,'gain2').gaintag.add('DIY_jijun');
                        },
                    },
                },
            },
            "DIY_fangtong":{
                getAuto:function (player){
        var hs=player.getCards('he');
        var ss=player.getExpansions('DIY_jijun');
        var bool=false;
        for(var i=0;i<hs.length;i++){
            var num=36-hs[i].number;
            for(var j=0;j<ss.length;j++){
                if(ss[j]==num){var k=-1;bool=true;break}
                for(var k=j+1;k<ss.length;k++){
                    if(ss[j].number+ss[k].number==num){var l=-1;bool=true;break}
                    for(var l=k+1;l<ss.length;l++){
                        if(ss[j].number+ss[k].number+ss[l].number==num){var m=-1;bool=true;break}
                        for(var m=l+1;m<ss.length;m++){
                            if(ss[j].number+ss[k].number+ss[l].number+ss[m].number==num){var n=-1;bool=true;break}
                            for(var n=m+1;n<ss.length;n++){
                                if(ss[j].number+ss[k].number+ss[l].number+ss[m].number+ss[n].number==num){var o=-1;bool=true;break}
                                for(var o=n+1;o<ss.length;o++){
                                    if(ss[j].number+ss[k].number+ss[l].number+ss[m].number+ss[n].number+ss[o].number==num){var p=-1;bool=true;break}
                                    for(var p=o+1;p<ss.length;p++){
                                        if(ss[j].number+ss[k].number+ss[l].number+ss[m].number+ss[n].number+ss[o].number+ss[p].number==num){bool=true;break}
                                    }
                                    if(bool) break;
                                }
                                if(bool) break;
                            }
                            if(bool) break;
                        }
                        if(bool) break;
                    }
                    if(bool) break;
                }
                if(bool) break;
            }
            if(bool) break;
        }
        if(!bool) return [];
        var list=[i,j,k,l,m,n,o,p];
        for(var q=0;q<list.length;q++){
            if(list[q]==-1){
                list=list.slice(0,q);
                break;
            }
            else if(q==0){
                list[q]=hs[i];
            }
            else list[q]=ss[list[q]];
        }
        return list;
    },
                audio:"xinfu_fangtong",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                filter:function (event,player){
        return player.countCards('he')>0&&player.getExpansions('DIY_jijun').length>0;
    },
                direct:true,
                skillAnimation:true,
                animationColor:"metal",
                content:function (){
        'step 0'
        var info=['æ˜¯å¦å‘åŠ¨ã€æ–¹ç»Ÿã€‘ï¼Ÿ'];
        info.push('<div class="text center">'+get.translation(player)+'çš„â€œæ–¹â€</div>');
        info.push(player.getExpansions('DIY_jijun'));
        if(player.countCards('h')){
            info.push('<div class="text center">'+get.translation(player)+'çš„æ‰‹ç‰ŒåŒº</div>');
            info.push(player.getCards('h'));
        }
        if(player.countCards('e')){
            info.push('<div class="text center">'+get.translation(player)+'çš„è£…å¤‡åŒº</div>');
            info.push(player.getCards('e'));
        }
        var next=player.chooseButton();
        next.set('createDialog',info);
        next.set('selectButton',function (){
            var num=0;
            for(var i=0;i<ui.selected.buttons.length;i++){
                num+=get.number(ui.selected.buttons[i]);
            }
            if(num==36) return ui.selected.buttons.length;
            return ui.selected.buttons.length+2;
        });
        next.set('filterButton',function(button){
            var player=_status.event.player,cards=player.getExpansions('DIY_jijun');
            if(ui.selected.buttons.length){
                if(!cards.contains(button.link)) return false;
            }
            else if(cards.contains(button.link)) return false;
            var num=0;
            for(var i=0;i<ui.selected.buttons.length;i++){
                num+=get.number(ui.selected.buttons[i]);
            }
            return get.number(button.link)+num<=36;
        });
        next.set('autolist',lib.skill.DIY_fangtong.getAuto(player));
        next.set('processAI',function(){
            if(_status.event.autolist&&_status.event.autolist.length>0){
                return {
                    bool:true,
                    links:_status.event.autolist,
                }
            }
        });
        next.set('complexSelect',true);
        'step 1'
        if(result.bool){
            player.logSkill('DIY_fangtong');
            var tothrow=[];
            var cards=result.links.slice(0);
            for(var i=0;i<cards.length;i++){
                if(get.position(cards[i])=='x'){
                    tothrow.push(cards[i]);
                }
                else{
                    player.discard(cards[i]).delay=false;
                }
            }
            player.loseToDiscardpile(tothrow);
            player.chooseTarget('é€‰æ‹©ä¸€ä¸ªç›®æ ‡å¹¶å¯¹å…¶é€ æˆ3ç‚¹é›·ç”µä¼¤å®³',true,function(card,player,target){
                return target!=player;
            }).set('ai',function(target){
                return get.damageEffect(target,_status.event.player,_status.event.player,'thunder');
            });
        }
        else{
            event.finish();
        }
        'step 2'
        var target=result.targets[0];
        player.line(target,'thunder');
        target.damage(3,'thunder');
    },
            },
            "DIY_guanchao":{
                audio:"xinfu_guanchao",
                unique:true,
                group:["DIY_guanchao_dizeng","DIY_guanchao_dijian"],
            },
            "DIY_guanchao_dizeng":{
                trigger:{
                    player:"useCard",
                },
                audio:"xinfu_guanchao",
                forced:true,
                mod:{
                    aiOrder:function(player,card,num){
            if(typeof card.number!='number') return;
            var history=player.getHistory('useCard',function(evt){
                return evt.isPhaseUsing();
            });
            if(history.length==0) return num+10*(14-card.number);
            var num=get.number(history[0].card);
            if(!num) return;
            for(var i=1;i<history.length;i++){
                var num2=get.number(history[i].card);
                if(!num2||num2<=num) return;
                num=num2;
            }
            if(card.number>num) return num+10*(14-card.number);
        },
                },
                filter:function (event,player){
        var history=player.getHistory('useCard',function(evt){
            return evt.isPhaseUsing();
        });
        if(history.length<2) return false;
        var num=get.number(history[0].card);
        if(!num) return false;
        for(var i=1;i<history.length;i++){
            var num2=get.number(history[i].card);
            if(!num2||num2<=num) return false;
            num=num2;
        }
        return true;
    },
                content:function (){
        if(get.number(trigger.card,false)+1>13){
            player.draw();
            event.finish();
        }
        var num=get.number(trigger.card,false)+1,card=get.cardPile2(function(i){
                    return get.number(i,false)==num;
                });
        if(card) player.gain(card,'gain2');
    },
            },
            "DIY_guanchao_dijian":{
                init:function (player){
        player.storage.guanchao=0;
    },
                onremove:function (player){
        delete player.storage.guanchao;
    },
                trigger:{
                    player:"useCard",
                },
                audio:"xinfu_guanchao",
                forced:true,
                mod:{
                    aiOrder:function(player,card,num){
            if(typeof card.number!='number') return;
            var history=player.getHistory('useCard',function(evt){
                return evt.isPhaseUsing();
            });
            if(history.length==0) return num+10*card.number;
            var num=get.number(history[0].card);
            if(!num) return;
            for(var i=1;i<history.length;i++){
                var num2=get.number(history[i].card);
                if(!num2||num2>=num) return;
                num=num2;
            }
            if(card.number<num) return num+10*card.number;
        },
                },
                filter:function (event,player){
        var history=player.getHistory('useCard',function(evt){
            return evt.isPhaseUsing();
        });
        if(history.length<2) return false;
        var num=get.number(history[0].card);
        if(!num) return false;
        for(var i=1;i<history.length;i++){
            var num2=get.number(history[i].card);
            if(!num2||num2>=num) return false;
            num=num2;
        }
        return true;
    },
                content:function (){
        if(get.number(trigger.card,false)-1<1){
            player.draw();
            event.finish();
        }
        var num=get.number(trigger.card,false)-1,card=get.cardPile2(function(i){
                    return get.number(i,false)==num;
                });
        if(card) player.gain(card,'gain2');
    },
            },
            "DIY_xunxian":{
                audio:"xinfu_xunxian",
                trigger:{
                    player:["useCardAfter","respond"],
                },
                filter:function (event,player){
        if(get.itemtype(event.cards)!='cards') return false;
        if(player.getHistory('custom',function(evt){
            return evt.DIY_xunxian_name==event.card.name;
        }).length>0) return false;
        for(var i=0;i<event.cards.length;i++){
            if(event.cards[i].isInPile()){
                return true;
            }
        }
        return false;
    },
                direct:true,
                content:function (){
        'step 0'
        player.getHistory('custom').push({DIY_xunxian_name:trigger.card.name});
        player.chooseTarget(get.prompt('DIY_xunxian'),'å°†'+get.translation(trigger.cards)+'äº¤ç»™ä¸€åå…¶ä»–è§’è‰²',function(card,player,target){
            return target!=player;
        }).set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            if(att<3) return 0;
            if(target.hasJudge('lebu')){
                att/=5;
            }
            if(target.hasSha()&&_status.event.sha){
                att/=5;
            }
            if(_status.event.wuxie&&target.needsToDiscard(1)){
                att/=5;
            }
            return att/(1+get.distance(player,target,'absolute'));
        }).set('sha',trigger.cards[0].name=='sha').set('wuxie',trigger.cards[0].name=='wuxie');
        'step 1'
        if(result.bool){
            var list=[];
            for(var i=0;i<trigger.cards.length;i++){
                if(trigger.cards[i].isInPile()){
                    list.push(trigger.cards[i]);
                }
            }
            player.logSkill('DIY_xunxian',result.targets[0]);
            result.targets[0].gain(list,'gain2');
            if(_status.currentPhase!=player) player.draw();
        }
    },
                ai:{
                    expose:0.3,
                },
            },
            "DIY_funan":{
                audio:"funan",
                trigger:{
                    global:["respond","useCard"],
                },
                frequent:true,
                filter:function(event,player){
        if(!event.respondTo) return false;
        if(event.player==player) return false;
        if(player!=event.respondTo[0]) return false;
        if(!player.hasSkill('funan_jiexun')){
            var cards=[]
            if(get.itemtype(event.respondTo[1])=='card') cards.push(event.respondTo[1]);
            else if(event.respondTo[1].cards) cards.addArray(event.respondTo[1].cards);
            return cards.filterInD('od').length>0;
        }
        else return event.cards.filterInD('od').length>0;
    },
                logTarget:"player",
                content:function(){
        var cards=trigger.cards.filterInD('od');
        player.gain(cards,'log','gain2');
    },
            },
            "DIY_xunjie":{
                audio:"jiexun",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                onremove:true,
                direct:true,
                content:function(){
        'step 0'
        var num1=game.countPlayer(function(current){
            return current.countCards('ej',{suit:'diamond'});
        });
        var num2=player.countMark('DIY_xunjie');
        event.num1=num1;
        event.num2=num2;
        var str='ä»¤ç›®æ ‡æ‘¸'+get.cnNumber(num1)+'å¼ ç‰Œ';
        if(num2){
            str+='ï¼Œç„¶åå¼ƒç½®'+get.cnNumber(num2)+'å¼ ç‰Œ';
        }
        player.chooseTarget(get.prompt('DIY_xunjie'),function(card,player,target){
            return target!=player;
        }).set('ai',function(target){
            return _status.event.coeff*get.attitude(_status.event.player,target);
        }).set('coeff',num1>=num2?1:-1).set('prompt2',str);
        'step 1'
        if(result.bool){
            var num3=player.countMark('DIY_xunjie_draw');
        var num4=player.countMark('DIY_xunjie');
        if(num3>0){
            player.draw(num3);
        }
            var target=result.targets[0];
            event.target=target;
            player.logSkill('DIY_xunjie',target);
            if(event.num1){
                target.draw(event.num1);
            }
            player.addMark('DIY_xunjie',1,false);
        }
        else{
            event.finish();
        }
        'step 2'
        if(event.num2){
            event.target.chooseToDiscard(event.num2,true,'he');
        }
        else{
            event.finish();
        }
        'step 3'
        if(result.bool&&result.autochoose&&result.cards.length==result.rawcards.length){
            player.addMark('DIY_xunjie_draw',1,false);
        }
    },
                intro:{
                    content:"å·²ç»å‘åŠ¨è¿‡äº†#æ¬¡",
                },
            },
            "DIY_jianyan":{
                intro:{
                    content:"$",
                },
                audio:"jianyan",
                enable:"phaseUse",
                usable:3,
                delay:false,
                content:function(){
        "step 0"
        var list=['basic','trick','equip'];
        for(i in list){
            if(player.getStorage('DIY_jianyan').contains(i)) list.remove(i);
        }
        if(player.getStorage('DIY_jianyan').contains('basic')) list.remove('basic');
        if(player.getStorage('DIY_jianyan').contains('trick')) list.remove('trick');
        if(player.getStorage('DIY_jianyan').contains('equip')) list.remove('equip');
        player.chooseControl(list).set('ai',function(){
            var player=_status.event.player;
            if(!player.hasSha()) return 'basic';
            if(player.countCards('e')<=1) return 'equip';
            if(player.countCards('h')>2) return 'trick';
            return 'trick';
        });
        "step 1"
        player.markAuto('DIY_jianyan',[result.control]);
        event.card=get.cardPile(function(card){
            if(get.type(card)==result.control) return true;
            return false;
        },'cardPile');
        if(!event.card){
            event.finish();
            player.popup('ç‰Œå †ä¸­æ²¡æœ‰'+get.translation(result.control)+'ç‰Œäº†');
            return;
        }
        player.showCards([event.card]);
        "step 2"
        player.chooseTarget(true,'é€‰æ‹©ä¸€åè§’è‰²é€å‡º'+get.translation(event.card)).set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            if(_status.event.neg) return -att;
            return att;
        }).set('neg',get.value(event.card,player,'raw')<0);
        "step 3"
        player.line(result.targets,'green');
        result.targets[0].gain(event.card,'gain2');

    },
                ai:{
                    order:9,
                    result:{
                        player:function(player){
                if(game.hasPlayer(function(current){
                    return get.attitude(player,current)>0;
                })) return 2;
                return 0;
            },
                    },
                    threaten:1.2,
                },
                group:"DIY_jianyan_remove",
                subSkill:{
                    remove:{
                        trigger:{
                            player:"phaseUseEnd",
                        },
                        direct:true,
                        content:function(){
                            delete player.storage.DIY_jianyan;
            },
                        sub:true,
                    },
                },
            },
            "DIY_zhuhai":{
                audio:"zhuhai",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                check:function(event,player){
        return get.damageEffect(event.player,player,player)>0;
    },
                filter:function(event,player){
        if(event.player==player||!event.player.isAlive()) return false;
        if(!lib.filter.targetEnabled({name:'sha'},player,event.player)) return false;
        var history=event.player.getHistory('useCard');
        for(var i=0;i<history.length;i++){
            if(!history[i].targets) continue;
            for(var j=0;j<history[i].targets.length;j++){
                if(history[i].targets[j]!=event.player) return true;
            }
        }
        return false;
    },
                prompt:"è¯›å®³ï¼šæ˜¯å¦å¯¹å…¶ä½¿ç”¨ä¸€å¼ æ€ï¼Ÿ",
                content:function(){
                    player.useCard({name:'sha',isCard:true},trigger.player,false,'noai');
    },
            },
            "DIY_qianya":{
                audio:"qianya",
                trigger:{
                    target:"useCardToTargeted",
                },
                frequent:true,
                filter:function(event,player){
        return get.type(event.card,'trick')=='trick'&&event.targets.length>0;
    },
                content:function(){
        "step 0"
        var num=Math.min(3,trigger.targets.length);
        event.card=get.cards(num);
        player.showCards(event.card);
        player.chooseTarget('é€‰æ‹©è·å¾—æ­¤ç‰Œçš„è§’è‰²',true).set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            if(_status.event.du){
                if(target.hasSkillTag('nodu')) return 0;
                return -att;
            }
            if(att>0){
                return att+Math.max(0,5-target.countCards('h'));
            }
            return att;
        }).set('du',event.card.name=='du');
        "step 1"
        if(result.targets){
            player.line(result.targets,'green');
            result.targets[0].gain(event.card,'gain2');
        }
    },
            },
            "DIY_shuomeng":{
                audio:"shuimeng",
                trigger:{
                    player:["phaseUseBefore","phaseUseAfter"],
                },
                group:"DIY_shuomeng2",
                direct:true,
                filter:function(event,player){
        return player.countCards('h');
    },
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt2('DIY_shuomeng'),function(card,player,target){
            return player.canCompare(target);
        }).set('ai',function(target){
            if(!_status.event.goon) return 0;
            return -get.attitude(_status.event.player,target);
        }).set('goon',player.needsToDiscard()||player.hasCard(function(card){
            var val=get.value(card);
            if(val<0) return true;
            if(val<=5){
                return card.number>=11;
            }
            if(val<=6){
                return card.number>=12;
            }
            return false;
        }));
        'step 1'
        if(result.bool){
            player.logSkill('DIY_shuomeng',result.targets);
            event.target=result.targets[0];
            player.chooseToCompare(event.target);
        }
        else{
            event.finish();
        }
    },
            },
            "DIY_shuomeng2":{
                forced:true,
                audio:"shuimeng",
                trigger:{
                    player:["chooseToCompareAfter","compareMultipleAfter"],
                    target:["chooseToCompareAfter","compareMultipleAfter"],
                },
                filter:function(event,player){
        if(event.preserve) return false;
        if(player==event.player){
            if(event.num1>event.num2){
                return !get.owner(event.card2);
            }
            else{
                return !get.owner(event.card1);
            }
        }
        else{
            if(event.num1<event.num1){
                return !get.owner(event.card1);
            }
            else{
                return !get.owner(event.card2);
            }
        }
    },
                content:function(){
        if(player==trigger.player){
            if(trigger.num1>trigger.num2){
                player.chooseUseTarget({name:'wuzhong',isCard:true},true);
            }
            else{
               trigger.player.useCard({name:'guohe',isCard:true},player);
            }
        }
        else{
            if(trigger.num1<trigger.num2){
                trigger.player.useCard({name:'guohe',isCard:true},player);
            }
            else{
                player.chooseUseTarget({name:'wuzhong',isCard:true},true);
            }
        }
    },
            },
            "DIY_zhenyong":{
                trigger:{
                    player:"useCardToPlayered",
                },
                direct:true,
                audio:"drlt_zhenrong",
                filter:function (event,player){
        if(get.type2(event.card)=='equip') return false;
        if(event.getParent().triggeredTargets3.length>1) return false;
		if(event.targets.length==1&&event.targets[0]==player) return false;
        return event.targets.length>0;
    },
                content:function(){
        'step 0'
		player.logSkill('DIY_zhenyong');
        player.judge(function(card){
               if(get.color(card)=="red") return 2;
               return 0;
             }).judge2=function(result){
               return result.bool?true:false;
             };
        'step 1'
        if(!result.bool){
            event.goto(5);
        }
        'step 2'
        player.chooseTarget(get.prompt('DIY_zhenyong'),'å°†ä¸€åè§’è‰²çš„ä¸€å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºã€Œè£ã€',function(card,player,target){
            return target!=player&&_status.event.targets.contains(target)&&target.countCards('he')>0;
        }).set('ai',function(target){
            return (1-get.attitude(_status.event.player,target))/target.countCards('he');
        }).set('targets',trigger.targets);
        'step 3'
        if(result.bool){
            var target=result.targets[0];
            event.target=result.targets[0];
            player.logSkill('DIY_zhenyong',target);
            player.choosePlayerCard(target,'he',true).ai=get.buttonValue;
        }
        else event.finish();
        'step 4'
        if(result.bool){
            var card=result.links[0];
            game.log(player,'é€‰æ‹©äº†',card);
            target.$give(card,player,false);
            target.lose(card,ui.special,'toStorage');
            if(!player.storage.DIY_zhenyong) player.storage.DIY_zhenyong=[];
            player.storage.DIY_zhenyong.push(card);
            player.markSkill('DIY_zhenyong');
        }
        'step 5'
        game.delayx();
    },
                marktext:"è£",
                intro:{
                    content:"cards",
                    onunmark:"throw",
                },
            },
            "DIY_hongju":{
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                audio:"drlt_hongju",
                forced:true,
                unique:true,
                juexingji:true,
                skillAnimation:true,
                animationColor:"thunder",
                derivation:"DIY_qingce",
                filter:function(event,player){
        return player.storage.DIY_zhenyong&&player.storage.DIY_zhenyong.length>=3;
    },
                content:function(){
        'step 0'
        player.awakenSkill('DIY_hongju');
        var cards=player.getStorage('DIY_zhenyong');
        if(!cards.length||!player.countCards('h')){
            event.goto(2);
            return;
        }
        var next=player.chooseToMove('å¾è£ï¼šæ˜¯å¦äº¤æ¢â€œè£â€å’Œæ‰‹ç‰Œï¼Ÿ');
        next.set('list',[
            [get.translation(player)+'ï¼ˆä½ ï¼‰çš„â€œè£â€',cards],
            ['æ‰‹ç‰ŒåŒº',player.getCards('h')],
        ]);
        next.set('filterMove',function(from,to){
            return typeof to!='number';
        });
        next.set('processAI',function(list){
            var player=_status.event.player,cards=list[0][1].concat(list[1][1]).sort(function(a,b){
                return get.value(a)-get.value(b);
            }),cards2=cards.splice(0,player.storage.DIY_zhenyong.length);
            return [cards2,cards];
        });
        'step 1'
        if(result.bool){
            var pushs=result.moved[0],gains=result.moved[1];
            pushs.removeArray(player.storage.DIY_zhenyong);
            gains.removeArray(player.getCards('h'));
            if(!pushs.length||pushs.length!=gains.length) return;
            player.lose(pushs,ui.special,'toStorage');
            game.log(player,'å°†',pushs,'ä½œä¸ºâ€œè£â€ç½®äºæ­¦å°†ç‰Œä¸Š');
            player.gain(gains,'gain2','log','fromStorage');
            player.storage.DIY_zhenyong.addArray(pushs);
            player.storage.DIY_zhenyong.removeArray(gains);
            player.markSkill('DIY_zhenyong');
        }
        'step 2'
        player.addSkill('DIY_qingce');
        game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€æ¸…ä¾§ã€‘');
        player.loseMaxHp();
    },
            },
            "DIY_qingce":{
                trigger:{
                    player:"phaseUseBegin",
                },
                audio:"drlt_qingce",
                init:function(player){
        if(!player.storage.DIY_qingce2) player.storage.DIY_qingce2=[];
    },
                filter:function(event,player){
        return player.storage.DIY_zhenyong&&player.storage.DIY_zhenyong.length>=1;
    },
                content:function(){
        'step 0'
        var cards=player.getStorage('DIY_zhenyong');
        if(!cards.length||!player.countCards('h')){
            event.goto(2);
            return;
        }
        var next=player.chooseToMove('å¾è£ï¼šæ˜¯å¦äº¤æ¢â€œè£â€å’Œæ‰‹ç‰Œï¼Ÿ');
        next.set('list',[
            [get.translation(player)+'ï¼ˆä½ ï¼‰çš„â€œè£â€',cards],
            ['æ‰‹ç‰ŒåŒº',player.getCards('h')],
        ]);
        next.set('filterMove',function(from,to){
            return typeof to!='number';
        });
        next.set('processAI',function(list){
            var player=_status.event.player,cards=list[0][1].concat(list[1][1]).sort(function(a,b){
                return get.value(a)-get.value(b);
            }),cards2=cards.splice(0,player.storage.DIY_zhenyong.length);
            return [cards2,cards];
        });
        'step 1'
        if(result.bool){
            var pushs=result.moved[0],gains=result.moved[1];
            pushs.removeArray(player.storage.DIY_zhenyong);
            gains.removeArray(player.getCards('h'));
            if(!pushs.length||pushs.length!=gains.length) return;
            player.lose(pushs,ui.special,'toStorage');
            game.log(player,'å°†',pushs,'ä½œä¸ºâ€œè£â€ç½®äºæ­¦å°†ç‰Œä¸Š');
            player.gain(gains,'gain2','log','fromStorage');
            player.storage.DIY_zhenyong.addArray(pushs);
            player.storage.DIY_zhenyong.removeArray(gains);
            player.markSkill('DIY_zhenyong');
        }
        'step 2'
        player.storage.DIY_qingce2=player.storage.DIY_qingce2.concat(player.getCards('h'));
        game.addVideo('storage',player,['DIY_qingce2',get.cardsInfo(player.storage.DIY_qingce2),'cards']);
        player.lose(player.getCards('h'),ui.special,'toStorage');
        player.addSkill('DIY_qingce2');
        'step 3'
        var num=Math.min(8,player.storage.DIY_zhenyong.length);
        var list=[];
        var typelist=[];
        var getType=function(card){
            var sub=get.subtype(card);
            if(sub) return sub;
            return card.name;
        };
        for(var i=0;i<ui.cardPile.childElementCount;i++){
            var node=ui.cardPile.childNodes[i];
            var typex=getType(node);
            if(!typelist.contains(typex)){
                list.push(node);
                typelist.push(typex);
                if(list.length>=num) break;
            }
        }
        if(list.length<num){
            for(var i=0;i<ui.discardPile.childElementCount;i++){
                var node=ui.discardPile.childNodes[i];
                var typex=getType(node);
                    if(!typelist.contains(typex)){
                    list.push(node);
                    typelist.push(typex);
                    if(list.length>=num) break;
                }
            }
        }
        player.gain(list,'gain2');
        player.addTempSkill("DIY_qingce3");
        player.addTempSkill("DIY_qingce4");
        'step 4'
        game.updateRoundNumber();
    },
            },
            "DIY_qingce2":{
                trigger:{
                    global:"phaseJieshuBegin",
                },
                forced:true,
				direct:true,
                audio:"drlt_qingce",
                content:function(){
        player.gain(player.storage.DIY_qingce2,'fromStorage','draw');
		player.logSkill('DIY_qingce');
        player.storage.DIY_qingce2.length=0;
        player.removeSkill('DIY_qingce2');
        game.addVideo('storage',player,['DIY_qingce2',get.cardsInfo(player.storage.DIY_qingce2),'cards']);
    },
                mark:true,
				marktext:"æ¸…ä¾§",
                intro:{
					name:'æ¸…ä¾§',
                    content:"cardCount",
                    onunmark:function(storage,player){
            if(storage&&storage.length){
                player.$throw(storage,1000);
                game.cardsDiscard(storage);
                game.log(storage,'è¢«ç½®å…¥äº†å¼ƒç‰Œå †');
                player.storage.DIY_qingce2.length=0;
            }
        },
                },
				sub:true,
            },
            "DIY_qingce3":{
                trigger:{
                    player:"phaseUseAfter",
                },
                charlotte:true,
                forced:true,
				direct:true,
				sub:true,
                content:function(){
		player.logSkill('DIY_qingce');
        player.discard(player.getCards('he'));
    },
            },
            "DIY_qingce4":{
                direct:true,
                enable:"phaseUse",
                usable:1,
                content:function (){
        'step 0'
        var cards=player.getStorage('DIY_zhenyong');
        if(!cards.length||!player.countCards('h')){
            event.goto(2);
            return;
        }
        var next=player.chooseToMove('å¾è£ï¼šæ˜¯å¦äº¤æ¢â€œè£â€å’Œæ‰‹ç‰Œï¼Ÿ');
        next.set('list',[
            [get.translation(player)+'ï¼ˆä½ ï¼‰çš„â€œè£â€',cards],
            ['æ‰‹ç‰ŒåŒº',player.getCards('h')],
        ]);
        next.set('filterMove',function(from,to){
            return typeof to!='number';
        });
        next.set('processAI',function(list){
            var player=_status.event.player,cards=list[0][1].concat(list[1][1]).sort(function(a,b){
                return get.value(a)-get.value(b);
            }),cards2=cards.splice(0,player.storage.DIY_zhenyong.length);
            return [cards2,cards];
        });
        'step 1'
        if(result.bool){
            var pushs=result.moved[0],gains=result.moved[1];
            pushs.removeArray(player.storage.DIY_zhenyong);
            gains.removeArray(player.getCards('h'));
            if(!pushs.length||pushs.length!=gains.length) return;
            player.lose(pushs,ui.special,'toStorage');
            game.log(player,'å°†',pushs,'ä½œä¸ºâ€œè£â€ç½®äºæ­¦å°†ç‰Œä¸Š');
			player.logSkill('DIY_qingce');
            player.gain(gains,'gain2','log','fromStorage');
            player.storage.DIY_zhenyong.addArray(pushs);
            player.storage.DIY_zhenyong.removeArray(gains);
            player.markSkill('DIY_zhenyong');
        }
    },
	            sub:true,
            },
            "DIY_yuanhu":{
                audio:"yuanhu",
                enable:"phaseUse",
                filterCard:true,
                selectCard:1,
                filterTarget:true,
                derivation:"DIY_yuanhu_equip5",
                content:function(){
        'step 1'
        var suit=get.suit(cards);
        if (suit=='spade') {
            var card1=game.createCard(get.inpile('equip1').randomGet());
            target.equip(card1);
            target.$draw(card1);
            game.delay();
            player.useSkill('DIY_yuanhu2',false);
        }
        if (suit=='heart') {
            var card2=game.createCard(get.inpile('equip2').randomGet());
            target.equip(card2);
            target.$draw(card2);
            game.delay();
            target.draw();
        }
        if (suit=='diamond') {
            var num = [1, 2].randomGet();
            if (num == 1) {
                var card3=game.createCard(get.inpile('equip3').randomGet());
                target.equip(card3);
                target.$draw(card3);
                game.delay();
                target.recover();
            }
            if (num == 2) {
                var card4=game.createCard(get.inpile('equip4').randomGet());
                target.equip(card4);
                target.$draw(card4);
                game.delay();
                target.recover();
            }
        }
        if (suit=='club') {
            var card5=game.createCard(get.inpile('equip5').randomGet());
            target.equip(card5);
            target.$draw(card5);
            game.delay();
            target.addTempSkill('DIY_yuanhu_equip5');
            target.addMark('DIY_yuanhu_equip5', 1, false);
        }
        'step 2'
        event.finish();
    },
            },
            "DIY_yuanhu2":{
                direct:true,
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt('DIY_yuanhu'),function(card,player,target){
            return target.countDiscardableCards(player,'ej')>0;
        }).ai=function(target){
            var att=get.attitude(player,target);
            if(att>0){
                if(target.hp==1&&target.maxHp>1) return att*2;
            }
            return att;
        };
        'step 1'
        if(result.bool){
            player.logSkill('DIY_yuanhu',result.targets);
            player.discardPlayerCard(true,result.targets[0],'ej');
        }
    },
            },
            "DIY_yuanhu_equip5":{
                mod:{
                    maxHandcard:function (player, num) {
            return num + (player.countMark('DIY_yuanhu_equip5') || 0);
        },
                },
				nobracket:true,
                marktext:"æ´æŠ¤",
                intro:{
                    name:"æ´æŠ¤",
                    content:function (storage) {
            return 'æ‰‹ç‰Œä¸Šé™+' + storage;
        },
                },
            },
            "DIY_bizhuan":{
                audio:"bizhuan",
                trigger:{
                    player:"useCard",
                    target:"useCardToTargeted",
                },
                filter:function(event,player){
        if(event.name!='useCard'&&event.player==event.target) return false;
        return get.color(event.card)=='black';
    },
                init:function(player){
        if(!player.storage.DIY_bizhuan) player.storage.DIY_bizhuan=[];
    },
                intro:{
                    content:"cards",
                    onunmark:function(storage,player){
            if(storage&&storage.length){
                player.$throw(storage,1000);
                game.cardsDiscard(storage);
                game.log(storage,'è¢«ç½®å…¥äº†å¼ƒç‰Œå †');
             storage.length=0;
            }
        },
                },
                frequent:true,
                content:function(){
        var card=game.cardsGotoSpecial(get.cards()).cards[0];
        player.$draw(card);
        game.delay();
        player.storage.DIY_bizhuan.push(card);
        player.markSkill('DIY_bizhuan');
    },
                mod:{
                    maxHandcard:function(player,num){
            if(player.storage.DIY_bizhuan&&player.storage.DIY_bizhuan.length) return num+player.storage.DIY_bizhuan.length;
        },
                },
            },
            "DIY_tongbo":{
                trigger:{
                    player:"phaseDrawAfter",
                },
                direct:true,
                filter:function(event,player){
        return player.storage.DIY_bizhuan&&player.storage.DIY_bizhuan.length&&player.countCards('he')>0;
    },
                content:function(){
        "step 0"
        var four=false;
        var nofour=!player.hasFriend();
        if(player.storage.DIY_bizhuan.length==4){
            var suits=['club','spade','heart','diamond'];
            var list=player.getCards('he').concat(player.storage.DIY_bizhuan);
            for(var i=0;i<list.length;i++){
                suits.remove(get.suit(list[i]));
                if(suits.length==0){
                    four=true;
                    break;
                }
            }
        }
        var next=player.chooseToMove('é€šåšï¼šæ˜¯å¦äº¤æ¢â€œä¹¦â€å’Œæ‰‹ç‰Œï¼Ÿ').set('four',four).set('suits2',suits2).set('nofour',nofour);
        next.set('list',[
            [get.translation(player)+'ï¼ˆä½ ï¼‰çš„â€œä¹¦â€',player.storage.DIY_bizhuan],
            ['ä½ çš„ç‰Œ',player.getCards('he')],
        ]);
        next.set('filterMove',function(from,to){
            return typeof to!='number';
        });
        next.set('processAI',function(list){
            var player=_status.event.player,cards=list[0][1].concat(list[1][1]),cards2=[];
            if(_status.event.four){
                var sorted=[[],[],[],[]];
                for(var i of cards){
                    var index=lib.suit.indexOf(get.suit(i,false));
                    if(sorted[index]) sorted[index].push(i);
                }
                if(_status.event.nofour){
                    sorted.sort(function(a,b){
                        return a.length-b.length;
                    });
                    var cards3=cards.slice(0).sort(function(a,b){
                        return get.useful(a)-get.useful(b);
                    });
                    cards3.removeArray(sorted[0]);
                    cards2=cards3.slice(0,4);
                    cards.removeArray(cards2);
                }
                else{
                    for(var i of sorted){
                        cards2.push(i.randomGet());
                        cards.remove(cards2);
                    }
                }
            }
            else{
                cards.sort(function(a,b){
                    return get.useful(a)-get.useful(b);
                });
                cards2=cards.splice(0,player.storage.DIY_bizhuan.length);
            }
            return [cards2,cards];
        });
        "step 1"
        if(result.bool){
            var pushs=result.moved[0],gains=result.moved[1];
            pushs.removeArray(player.storage.DIY_bizhuan);
            gains.removeArray(player.getCards('he'));
            if(!pushs.length||pushs.length!=gains.length){
                event.finish();
                return;
            }
            player.logSkill('DIY_tongbo');
            player.lose(pushs,ui.special,'toStorage');
            game.log(player,'å°†',pushs,'ä½œä¸ºâ€œä¹¦â€ç½®äºæ­¦å°†ç‰Œä¸Š');
            player.gain(gains,'gain2','log','fromStorage');
            player.storage.DIY_bizhuan.addArray(pushs);
            player.storage.DIY_bizhuan.removeArray(gains);
            player.markSkill('DIY_bizhuan');
        }
        "step 2"
        var suits2=['club','spade','heart','diamond'];
        for(var i=0;i<player.storage.DIY_bizhuan.length;i++){
            suits2.remove(get.suit(player.storage.DIY_bizhuan[i]));
        }
        if(suits2.length>0){
            event.finish();
        }
        "step 3"
        event.cards=player.storage.DIY_bizhuan.slice(0);
        player.storage.DIY_bizhuan.length=0;
        player.unmarkSkill('DIY_bizhuan');
        "step 4"
        if(event.cards.length>1){
            player.chooseCardButton('å°†â€œä¹¦â€äº¤ç»™ä»»æ„åè§’è‰²',true,event.cards,[1,event.cards.length]).set('ai',function(button){
                if(ui.selected.buttons.length==0) return 1;
                return 0;
            });
        }
        else if(event.cards.length==1){
            event._result={links:event.cards.slice(0),bool:true};
        }
        else{
            event.finish();
        }
        "step 5"
        if(result.bool){
            for(var i=0;i<result.links.length;i++){
                event.cards.remove(result.links[i]);
            }
            event.togive=result.links.slice(0);
            player.chooseTarget('å°†'+get.translation(result.links)+'äº¤ç»™ä¸€åè§’è‰²',true).set('ai',function(target){
                var att=get.attitude(_status.event.player,target);
                if(_status.event.enemy){
                    return -att;
                }
                else if(att>0){
                    return att/(1+target.countCards('h'));
                }
                else{
                    return att/100;
                }
            }).set('enemy',get.value(event.togive[0],player,'raw')<0);
        }
        else{
            event.finish();
        }
        "step 6"
        if(result.targets.length){
            result.targets[0].gain(event.togive,'draw');
            player.line(result.targets[0],'green');
            game.log(result.targets[0],'è·å¾—äº†'+get.cnNumber(event.togive.length)+'å¼ ','#gâ€œä¹¦â€');
            if(event.cards.length) event.goto(4);
        }
    },
                ai:{
                    combo:"DIY_bizhuan",
                },
            },
            "DIY_jieying":{
                audio:"hfjieying",
                locked:false,
                global:["DIY_jieying_mark","DIY_jieying_mark2"],
                group:["DIY_jieying_1","DIY_jieying_2","DIY_jieying_3","DIY_jieying_mark2"],
                subSkill:{
                    "1":{
                        audio:"hfjieying",
                        trigger:{
                            player:"phaseZhunbeiBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return !game.hasPlayer(function(current){
                    return current.hasMark('DIY_jieying_mark');
                });
            },
                        content:function(){
                player.addMark('DIY_jieying_mark',1);
            },
                        sub:true,
                    },
                    "2":{
                        audio:"hfjieying",
                        trigger:{
                            player:"phaseJieshuBegin",
                        },
                        direct:true,
                        filter:function(event,player){
                return player.hasMark('DIY_jieying_mark');
            },
                        content:function(){
                'step 0'
                player.chooseTarget(get.prompt('DIY_jieying'),"å°†â€œèŠ‚â€äº¤ç»™ä¸€åè§’è‰²ï¼›å…¶ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œæ— è·ç¦»é™åˆ¶ä¸”å¯å¤šæŒ‡å®šä¸€ä¸ªç›®æ ‡ï¼Œä¸”å½“å…¶é€ æˆä¼¤å®³åï¼Œè‹¥å…¶æ²¡æœ‰ã€–èŠ‚åº”ã€—ï¼Œå…¶æ— æ³•å†ä½¿ç”¨ç‰Œç›´åˆ°å›åˆç»“æŸã€‚è¯¥è§’è‰²å›åˆç»“æŸåï¼Œå…¶ç§»å»â€œèŠ‚â€æ ‡è®°ï¼Œç„¶åä½ è·å¾—å…¶æ‰€æœ‰æ‰‹ç‰Œã€‚",function(card,player,target){
                    return target!=player;
                }).ai=function(target){
                    if(get.attitude(player,target)>0)
                    return 0.1;
                    if(get.attitude(player,target)<1&&(target.isTurnedOver()||target.countCards('h')<1))
                    return 0.2;
                        if(get.attitude(player,target)<1&&target.countCards('h')>0&&target.countCards('j',{name:'lebu'})>0)
                    return target.countCards('h')*0.8+target.getHandcardLimit()*0.7+2;
                    if(get.attitude(player,target)<1&&target.countCards('h')>0)
                    return target.countCards('h')*0.8+target.getHandcardLimit()*0.7;
                    return 1;
                };
                'step 1'
                if(result.bool){
                    var target=result.targets[0];
                    player.line(target);
                    player.logSkill('DIY_jieying',target);
                    var mark=player.countMark('DIY_jieying_mark');
                    player.removeMark('DIY_jieying_mark',mark);
                    target.addMark('DIY_jieying_mark',mark);
                };
            },
                        sub:true,
                    },
                    "3":{
                        audio:"hfjieying",
                        trigger:{
                            global:"phaseEnd",
                        },
                        forced:true,
                        filter:function(event,player){
                return player!=event.player&&event.player.hasMark('DIY_jieying_mark')&&event.player.isAlive();
            },
                        logTarget:"player",
                        content:function(){
                if(trigger.player.countCards('h')>0){
                    trigger.player.give(trigger.player.getCards('h'),player);
                }
                trigger.player.removeMark('DIY_jieying_mark',trigger.player.countMark('DIY_jieying_mark'));
            },
                        sub:true,
                    },
                },
            },
            "DIY_weipo":{
                audio:"weipo",
                trigger:{
                    target:"useCardToTargeted",
                },
                forced:true,
                filter:function(event,player){
        return player!=event.player&&player.countCards('h')<Math.min(5,player.maxHp)&&(event.card.name=='sha'||get.type(event.card)=='trick');
    },
                content:function(){
        'step 0'
        player.addTempSkill('weipo2');
        player.drawTo(Math.min(5,player.maxHp));
        'step 1'
        var evt=trigger.getParent();
        if(!evt.weipo) evt.weipo={};
        evt.weipo[player.playerid]=player.countCards('h');
    },
            },
            "DIY_jieying_mark":{
                mod:{
                    targetInRange:function(card,player){
            if(player.hasMark('DIY_jieying_mark')&&player==_status.currentPhase&&(card.name=='sha'||get.type(card)=='trick')) return true;
        },
                    aiOrder:function(player,card,num){
            var info=get.info(card);
            if(!get.tag(card,'damage')&&(!info||!info.toself)) return num+8;
        },
                },
                onremove:true,
                trigger:{
                    player:"useCard2",
                },
                audio:"hfjieying_mark",
                direct:true,
                filter:function(event,player){
        if(!player.hasMark('DIY_jieying_mark')) return false;
        if(player!=_status.currentPhase) return false;
        var card=event.card;
        if(card.name!='sha'&&get.type(card)!='trick')return false;
        var info=get.info(card);
        if(info.allowMultiple==false) return false;
        if(event.targets&&!info.multitarget){
            if(game.hasPlayer(function(current){
                return !event.targets.contains(current)&&lib.filter.targetEnabled2(card,player,current);
            })){
                return true;
            }
        }
        return false;
    },
                content:function(){
        'step 0'
        var prompt2='ä¸º'+get.translation(trigger.card)+'å¢åŠ ä¸€ä¸ªç›®æ ‡'
        player.chooseTarget(get.prompt('DIY_jieying_mark'),function(card,player,target){
            var player=_status.event.player;
            return !_status.event.targets.contains(target)&&lib.filter.targetEnabled2(_status.event.card,player,target);
        }).set('prompt2',prompt2).set('ai',function(target){
            var trigger=_status.event.getTrigger();
            var player=_status.event.player;
            return get.effect(target,trigger.card,player,player);
        }).set('card',trigger.card).set('targets',trigger.targets);
        'step 1'
        if(result.bool){
            if(!event.isMine()&&!event.isOnline()) game.delayx();
            event.targets=result.targets;
        }
        else{
            event.finish();
        }
        'step 2'
        if(event.targets){
            player.logSkill('DIY_jieying_mark',event.targets);
            trigger.targets.addArray(event.targets);
        }
    },
                group:"DIY_jieying_mark3",
                mark:true,
                marktext:"èŠ‚",
                intro:{
                    content:"ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œæ—¶æ— è·ç¦»é™åˆ¶ä¸”å¯ä»¥å¤šæŒ‡å®šä¸€ä¸ªç›®æ ‡",
                },
            },
            "DIY_jieying_mark2":{
                trigger:{
                    source:"damageSource",
                },
                forced:true,
                popup:false,
                filter:function(event,player){
        return player.hasMark('DIY_jieying_mark')&&player==_status.currentPhase&&!player.hasSkill('DIY_jieying');
    },
                content:function(){
        player.addTempSkill('DIY_jieying_mark3');
    },
            },
            "DIY_jieying_mark3":{
                mod:{
                    cardEnabled:function(card,player){
            if(player.hasSkill('DIY_jieying_mark3')) return false;
        },
                    cardSavable:function(card,player){
            if(player.hasSkill('DIY_jieying_mark3')) return false;
        },
                },
                mark:true,
                marktext:"èŠ‚åº”",
                intro:{
                    content:"ä¸èƒ½ä½¿ç”¨ç‰Œç›´åˆ°å›åˆç»“æŸ",
                },
            },
            "DIY_juzhan":{
                audio:"nzry_juzhan_1",
                locked:false,
                group:["DIY_juzhan_1","DIY_juzhan_2"],
                subSkill:{
                    "1":{
                        audio:"nzry_juzhan_1",
                        trigger:{
                            target:"useCardToTargeted",
                        },
                        "prompt2":"å½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ã€æ€ã€‘çš„ç›®æ ‡åï¼Œä½ å¯ä»¥ä¸å…¶å„æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå…¶æœ¬å›åˆå†…ä¸èƒ½å†å¯¹ä½ ä½¿ç”¨ç‰Œã€‚",
                        filter:function(event,player){
                return (get.type(event.card)=='basic'||get.type(event.card)=='trick')&&get.tag(event.card,'damage')>0;
            },
                        logTarget:"player",
                        content:function(){
                game.asyncDraw([player,trigger.player]);
                trigger.player.addTempSkill('DIY_juzhan_y');
                player.addTempSkill('DIY_juzhan_x');
            },
                        sub:true,
                    },
                    "2":{
                        audio:"nzry_juzhan_1",
                        trigger:{
                            player:"useCardToPlayered",
                        },
                        "prompt2":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šä¸€åè§’è‰²ä¸ºç›®æ ‡åï¼Œä½ å¯ä»¥è·å¾—å…¶ä¸€å¼ ç‰Œï¼Œç„¶åä½ æœ¬å›åˆå†…ä¸èƒ½å†å¯¹å…¶ä½¿ç”¨ç‰Œ",
                        filter:function(event,player){
                return ((get.type(event.card)=='basic'||get.type(event.card)=='trick')&&get.tag(event.card,'damage')>0)&&event.player.countGainableCards(player,'he')>0;
            },
                        check:function(event,player){
                return event.player.countCards('he')>0&&event.targets&&event.targets.length==1;
            },
                        logTarget:"target",
                        content:function(){
                player.gainPlayerCard(trigger.targets[0],'he',true);
                trigger.target.addTempSkill('DIY_juzhan_x');
                player.addTempSkill('DIY_juzhan_y');
            },
                        sub:true,
                    },
                    x:{
                        mod:{
                            targetEnabled:function(card,player,target){
            if(player.hasSkill('DIY_juzhan_y')) return false;
        },
                        },
                        sub:true,
                    },
                    y:{
                        mod:{
                            targetEnabled:function(card,player,target){
            if(player.hasSkill('DIY_juzhan_x')) return false;
        },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_yaoming":{
                usable:1,
                mark:true,
                marktext:"é‚€å",
                intro:{
                    content:function(storage,player){
            var num=player.countMark("DIY_yaoming");
            var str='å½“ä½ é€ æˆ/å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥ï¼š';
            str+='<br>æ‘¸ä¸€å¼ ç‰Œ'
            if(num==1){
                str+='<br>å¼ƒç½®ä¸€åå…¶ä»–è§’è‰²çš„ä¸€å¼ ç‰Œ';
            }
            if(num==2){
                str+='<br>ä»¤ä¸€åå…¶ä»–è§’è‰²å¤±å»ä¸€ç‚¹ä½“åŠ›';
            }
            if(num==3){
                str+='<br>ä»¤ä¸€åå…¶ä»–è§’è‰²æ¨ªç½®';
            }
            if(num==4){
                str+='<br>ä»¤ä¸€åå…¶ä»–è§’è‰²ç¿»é¢';
            }
            if(num==5){
                str+='<br>ä»¤ä¸€åå…¶ä»–è§’è‰²ç¿»é¢';
            }
            return str;
        },
                },
                audio:"xinyaoming",
                trigger:{
                    player:"damageEnd",
                    source:"damageSource",
                },
                init:function(player){
        player.storage.DIY_yaoming=[];
    },
                content:function(){
        'step 0'
        var num=player.countMark("DIY_yaoming");
        if(num<5) player.addMark("DIY_yaoming",1,false);
        'step 1'
        player.draw(player.countMark("DIY_yaoming"));
        if(player.countMark("DIY_yaoming")==1){
            player.draw();
            event.goto(4);
        }
        'step 2'
        var num=player.countMark("DIY_yaoming");
        var str='';
        if(num==2) str='å¼ƒç½®ä¸€åå…¶ä»–è§’è‰²çš„ä¸€å¼ ç‰Œ';
        if(num==3) str='ä»¤ä¸€åå…¶ä»–è§’è‰²å¤±å»ä¸€ç‚¹ä½“åŠ›';
        if(num==4) str='ä»¤ä¸€åå…¶ä»–è§’è‰²æ¨ªç½®';
        if(num==5) str='ä»¤ä¸€åå…¶ä»–è§’è‰²ç¿»é¢';
        player.chooseTarget(get.prompt('DIY_yaoming'),str,function(card,player,target){
            return target!=player;
        }).set('ai',function(target){
            if(ai.get.attitude(player,target)>0) return 0;
            if(ai.get.attitude(target,player)>0) return 1;
            return -ai.get.attitude(player,target);
        });
        'step 3'
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_yaoming',target);
            var mark=player.countMark("DIY_yaoming");
            if(mark==2){
                player.discardPlayerCard(target,'he',true);
            }
            if(mark==3){
                target.loseHp();
                event.finish();
            }
            if(mark==4){
                target.link(true);
                event.finish();
            }
            if(mark==5){
                target.turnOver();
                event.finish();
            }
        }
    },
                group:"DIY_yaoming_kanon",
                subSkill:{
                    kanon:{
                        trigger:{
                            global:"roundStart",
                        },
                        silent:true,
                        sub:true,
                        content:function(){
                            lib.skill.DIY_yaoming.init(player)
                        },
                        forced:true,
                        popup:false,
                    },
                },
            },
            "DIY_shuangren":{
                audio:"shuangren",
                trigger:{
                    player:["phaseUseBefore","phaseUseAfter"],
                },
                group:"DIY_shuangren_sha",
                direct:true,
                filter:function(event,player){
        return player.countCards('h');
    },
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt2('DIY_shuangren'),function(card,player,target){
            return player.canCompare(target);
        }).set('ai',function(target){
            if(!_status.event.goon) return 0;
            return -get.attitude(_status.event.player,target);
        }).set('goon',player.needsToDiscard()||player.hasCard(function(card){
            var val=get.value(card);
            if(val<0) return true;
            if(val<=5){
                return card.number>=11;
            }
            if(val<=6){
                return card.number>=12;
            }
            return false;
        }));
        'step 1'
        if(result.bool){
            player.logSkill('DIY_shuangren',result.targets);
            event.target=result.targets[0];
            player.chooseToCompare(event.target);
        }
        else{
            event.finish();
        }
    },
            },
            "DIY_shuangren_sha":{
                audio:"shuangren",
                trigger:{
                    player:["chooseToCompareAfter","compareMultipleAfter"],
                    target:["chooseToCompareAfter","compareMultipleAfter"],
                },
                forced:true,
                filter:function(event,player){
        if(event.preserve) return false;
        if(player==event.player){
            if(event.num1>event.num2){
                return !get.owner(event.card2);
            }
            else{
                return !get.owner(event.card1);
            }
        }
        else{
            if(event.num1<event.num1){
                return !get.owner(event.card1);
            }
            else{
                return !get.owner(event.card2);
            }
        }
    },
                content:function(){
        'step 0'
        if(player==trigger.player){
            if(trigger.num1>trigger.num2){
                player.chooseTarget(get.prompt2('DIY_shuangren_sha'),true,function(card,player,target){
                    if(!player.canUse('sha',target,false)) return false;
                    return true;
                }).set('ai',function(target){
                    var player=_status.event.player;
                    return get.effect(target,{name:'sha'},player,player);
                }).set('identity',target);
            }
            else{
               player.chooseUseTarget({name:'juedou',isCard:true},true);
               event.finish();
            }
        }
        else{
            if(trigger.num1<trigger.num2){
                player.chooseUseTarget({name:'juedou',isCard:true},true);
                event.finish();
            }
            else{
                player.chooseTarget(get.prompt2('DIY_shuangren_sha'),true,function(card,player,target){
                    if(!player.canUse('sha',target,false)) return false;
                    return true;
                }).set('ai',function(target){
                    var player=_status.event.player;
                    return get.effect(target,{name:'sha'},player,player);
                }).set('identity',target);
            }
        }
        'step 1'
        if(result.bool&&result.targets&&result.targets.length){
            player.useCard({name:'sha',isCard:true},result.targets[0],false);
        }
    },
            },
            "DIY_zhenwei":{
                mark:true,
                locked:true,
                zhuanhuanji:true,
                marktext:"â˜¯",
                intro:{
                    content:function(storage,player,skill){
                        var str=player.storage.DIY_zhenwei?'å½“ä¸€åå…¶ä»–è§’è‰²æˆä¸ºã€æ€ã€‘æˆ–é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼ˆä½¿ç”¨è€…ä¸æ˜¯ä½ ï¼‰ï¼Œè‹¥æ­¤ç‰Œçš„ç›®æ ‡è§’è‰²æ•°ä¸º1ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œï¼Œç„¶åæ‘¸ä¸€å¼ ç‰Œï¼Œå°†ç‰Œè½¬ç§»ç»™ä½ ã€‚':'å½“ä¸€åå…¶ä»–è§’è‰²æˆä¸ºã€æ€ã€‘æˆ–é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼ˆä½¿ç”¨è€…ä¸æ˜¯ä½ ï¼‰ï¼Œè‹¥æ­¤ç‰Œçš„ç›®æ ‡è§’è‰²æ•°ä¸º1ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œï¼Œç„¶åä»¤æ­¤ç‰Œæ— æ•ˆã€‚';
                        return str;
                    },
                },
                audio:"zhenwei",
                trigger:{
                    global:"useCardToTarget",
                },
                check:function(event,player){
        return get.attitude(player,event.target)>0;
    },
                filter:function(event,player){
        if(!player.countCards('h')) return false;
        if(player==event.player) return false;
        if(event.targets.length>1) return false;
        if(!event.target) return false;
        var card=event.card;
        if(card.name=='sha') return true;
        if(get.type(card,'trick')=='trick') return true;
        return false;
    },
                content:function(){
        "step 0"
        var str='å¼ƒç½®ä¸€å¼ ç‰Œå†æ‘¸ä¸€å¼ ç‰Œç„¶åå°†'+get.translation(trigger.card)+'è½¬ç§»ç»™ä½ ';
        if(!player.storage.DIY_zhenwei) str='å¼ƒç½®ä¸€å¼ ç‰Œç„¶åä»¤'+get.translation(trigger.card)+'å¤±æ•ˆ';
        var next=player.chooseToDiscard(str,'he').set('ai',function(card){
            return 7-get.value(card);
        });
        next.set('forced',true);
        "step 1"
        if(player.storage.DIY_zhenwei){
            player.draw(1);
            trigger.getParent().targets.remove(trigger.target);
            trigger.getParent().triggeredTargets2.remove(trigger.target);
            trigger.getParent().targets.push(player);
            trigger.untrigger();
            trigger.player.line(player);
        }
        else{
            trigger.targets.length=0;
            trigger.getParent().triggeredTargets2.length=0;
        }
        player.changeZhuanhuanji('DIY_zhenwei');
        event.finish();
        game.delay();
    },
                ai:{
                    threaten:2,
                },
            },
            "DIY_jianxiang":{
                audio:"nzry_jianxiang",
                trigger:{
                    global:"useCardToTargeted",
                },
                filter:function(event,player){
        var type=get.type(event.card);
        if(!event.target.isMinHandcard()&&!event.player.isMaxHandcard()) return false;
        return true;
    },
                prompt2:function(event,player){
                    return 'ä»¤'+get.translation(event.target)+'æ‘¸ä¸€å¼ ç‰Œ';
                },
                check:function(event,player){
        return get.attitude(player,event.target)>0;
    },
                content:function(){
        trigger.target.draw();
    },
            },
            "DIY_shenshi":{
                audio:"nzry_shenshi_1",
                enable:"chooseToUse",
                zhuanhuanji:true,
                mark:true,
                marktext:"â˜¯",
                intro:{
                    content:function(storage,player,skill){
            var history1=player.getAllHistory('useCard',function(evt){
                return evt.card&&get.type(evt.card)=='basic';
            });
            var name1='æš‚æ— ';
            if(history1.length){
                name1='ã€'+get.translation(history1[history1.length-1].card.name)+'ã€‘';
            }
            var history2=player.getAllHistory('useCard',function(evt){
                return evt.card&&get.type(evt.card)=='trick';
            });
            var name2='æš‚æ— ';
            if(history2.length){
                name2='ã€'+get.translation(history2[history2.length-1].card.name)+'ã€‘';
            }
            str='ä¸Šä¸€å¼ ä½¿ç”¨çš„<font color=#F08080>åŸºæœ¬ç‰Œ</font>/<font color=#78BAFD>æ™®é€šé”¦å›Šç‰Œ</font>ï¼š<font color=#F08080>'+get.translation(name1)+'</font>/<font color=#78BAFD>'+get.translation(name2)+'</font><br>';
            if(player.storage.DIY_shenshi=true){
                str+='å°†ä¸€å¼ ç‰Œå½“ä½œä¸Šä¸€å¼ ä½¿ç”¨çš„<font color=#F08080>åŸºæœ¬ç‰Œ</font>ä½¿ç”¨';
            }
            else{
                str+='å°†ä¸€å¼ ç‰Œå½“ä½œä¸Šä¸€å¼ ä½¿ç”¨çš„<font color=#78BAFD>æ™®é€šé”¦å›Šç‰Œ</font>ä½¿ç”¨';
            }
            return str;
        },
                },
                init:function(player){
        player.storage.DIY_shenshi=true;
    },
                hiddenCard:function(player,name){
        var type=player.storage.DIY_shenshi?'basic':'trick';
        var history=player.getAllHistory('useCard',function(evt){
            return evt.card&&get.type(evt.card)==type;
        });
        if(history.length) return name==history[history.length-1].card.name;
    },
                filter:function(event,player){
        var type=player.storage.DIY_shenshi?'basic':'trick';
        var history=player.getAllHistory('useCard',function(evt){
            return evt.card&&get.type(evt.card)==type;
        });
        if(!history.length) return false;
        for(var name of lib.inpile){
            if(get.type(name)!=type) continue;
            if(name!=history[history.length-1].card.name) continue;
            if(event.filterCard({name:name,isCard:true},player,event)) return true;
        }
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            for(var i=0;i<lib.inpile.length;i++){
                var name=lib.inpile[i];
                var type=player.storage.DIY_shenshi?'basic':'trick';
                var history=player.getAllHistory('useCard',function(evt){
                    return evt.card&&get.type(evt.card)==type;
                });
                if(get.type(name)!=type) continue;
                if(name!=history[history.length-1].card.name) continue;
                if(name=='sha'){
                    list.push(['åŸºæœ¬','','sha']);
                    for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
                }
                else if(get.type(name)=='trick') list.push(['é”¦å›Š','',name]);
                else if(get.type(name)=='basic') list.push(['åŸºæœ¬','',name]);
            }
            return ui.create.dialog('å®¡æ—¶',[list,'vcard']);
        },
                    filter:function(button,player){
            return _status.event.getParent().filterCard({name:button.link[2]},player,_status.event.getParent());
        },
                    check:function(button){
            var player=_status.event.player;
            if(player.countCards('hs',button.link[2])>0) return 0;
            if(button.link[2]=='wugu') return;
            var effect=player.getUseValue(button.link[2]);
            if(effect>0) return effect;
            return 0;
        },
                    backup:function(links,player){
            return {
                filterCard:function(){return true},
                selectCard:1,
                popname:true,
                check:function(card){
                    return 6-get.value(card);
                },
                position:'hes',
                viewAs:{name:links[0][2],nature:links[0][3]},
                precontent:function(player,link){
                    player.changeZhuanhuanji('DIY_shenshi');
                    player.logSkill('DIY_shenshi');
                },
            }
        },
                    prompt:function(links,player){
            return 'å°†ä¸€å¼ ç‰Œå½“åš'+(get.translation(links[0][3])||'')+get.translation(links[0][2])+'ä½¿ç”¨';
        },
                },
                ai:{
                    respondSha:true,
                    respondShan:true,
                    order:1,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_jixu":{
                audio:"xinfu_jixu",
                enable:"phaseUse",
                usable:1,
                marktext:"å‡»è™š",
                mark:true,
                intro:{
                    content:function(storage,player){
            var num=player.countMark("DIY_jixu");
            var str='æš‚æ— ä»»ä½•æ•ˆæœ';
            if(num>0){
                str='<li>çŒœé”™äººæ•°:'+get.translation(player.countMark("DIY_jixu"));
            }
            if(num>0&&player.hasSkill("DIY_jixu_sha")){
                str+='<br><li>ä½¿ç”¨ã€æ€ã€‘ä¸Šé™+'+get.translation(player.countMark("DIY_jixu"));
            }
            if(num=0){
                str='æš‚æ— ä»»ä½•æ•ˆæœ';
            }
            if(_status.currentPhase!=player){
                str='æš‚æ— ä»»ä½•æ•ˆæœ';
            }
            return str;
        },
                },
                init:function(player){
        player.storage.DIY_jixu=0;
    },
                filter:function (event,player){
        return player.countCards('h')>0;
    },
                filterTarget:function (card,player,target){
        if(player==target) return false;
        return true;
    },
                selectTarget:[1,Infinity],
                multitarget:true,
                multiline:true,
                content:function (){
        "step 0"
        targets.sort(lib.sort.seat);
        "step 1"
        if(!event.num) event.num=0;
        if(!event.caicuolist) event.caicuolist=[];
        targets[event.num].chooseBool("æ˜¯å¦æŠ¼æ€ï¼Ÿ").ai=function(event,player){
            var evt=_status.event.getParent();
            if(get.attitude(targets[event.num],evt.player)>0) return evt.player.countCards('h','sha')?false:true;
            return Math.random()<0.5;
        };
        "step 2"
        if(result.bool){
            targets[event.num].chat('æœ‰æ€');
            game.log(targets[event.num],'è®¤ä¸º',player,'#gæœ‰æ€');
            if(!player.countCards('h','sha')) event.caicuolist.add(targets[event.num]);
        }else{
            targets[event.num].chat('æ²¡æ€');
            game.log(targets[event.num],'è®¤ä¸º',player,'#yæ²¡æœ‰æ€');
            if(player.countCards('h','sha')) event.caicuolist.add(targets[event.num]);
        }
        event.num++;
        game.delay();
        if(event.num<targets.length) event.goto(1);
        "step 3"
        player.popup(player.countCards('h','sha')?"æœ‰æ€":"æ²¡æ€");
        game.log(player,player.countCards('h','sha')?"æœ‰æ€":"æ²¡æ€");
        if(event.caicuolist.length==0){
            var evt=_status.event.getParent('phaseUse');
            if(evt&&evt.name=='phaseUse'){
                evt.skipped=true;
                player.skip("phaseDiscard");
                event.finish(); 
            }
        }
        else{
            player.draw(event.caicuolist.length)
            player.addMark('DIY_jixu',event.caicuolist.length,false);
            if(player.countCards('h','sha')){
                player.addTempSkill('DIY_jixu_sha');
                player.storage.DIY_jixu_sha=event.caicuolist;
                event.finish();
            }
            else event.num=0;
        }
        "step 4"
        if(event.num<event.caicuolist.length){
            var target=event.caicuolist[event.num];
            player.useCard({name:'sha',isCard:true},target,false,'noai');
            event.num++;
            event.redo();
        }
    },
                ai:{
                    order:function (){
            return get.order({name:'sha'})+0.1;
        },
                    result:{
                        target:function (player,target){
                var raweffect=function(player,target){
                    if(player.countCards('h','sha')){
                        return get.effect(target,{name:'sha'},player,target);
                    }
                    else{
                        var att=get.attitude(player,target);
                        var nh=target.countCards('h');
                        if(att>0){
                            if(target.getEquip('baiyin')&&target.isDamaged()&&
                                get.recoverEffect(target,player,player)>0){
                                if(target.hp==1&&!target.hujia) return 1.6;
                                if(target.hp==2) return 0.01;
                                return 0;
                            }
                        }
                        var es=target.getCards('e');
                        var noe=(es.length==0||target.hasSkillTag('noe'));
                        var noe2=(es.length==1&&es[0].name=='baiyin'&&target.isDamaged());
                        var noh=(nh==0||target.hasSkillTag('noh'));
                        if(noh&&(noe||noe2)) return 0;
                        if(att<=0&&!target.countCards('he')) return 1.5;
                        return -1.5;
                    }
                }
                var num=game.countPlayer(function(current){
                    return current!=player&&current.hp==target.hp&&(raweffect(player,current)*get.attitude(player,current))>0
                });
                return raweffect(player,target)*Math.max(0,num-1);
            },
                    },
                    expose:0.4,
                },
                group:"DIY_jixu_kanon",
                subSkill:{
                    kanon:{
                        trigger:{
                            player:"phaseEnd",
                        },
                        silent:true,
                        sub:true,
                        content:function(){lib.skill.DIY_jixu.init(player)},
                        forced:true,
                        popup:false,
                    },
                },
            },
            "DIY_jixu_sha":{
                audio:"xinfu_jixu",
                trigger:{
                    player:"useCard",
                },
                onremove:function (player){
        delete player.storage.DIY_jixu_sha;
    },
                filter:function (event,player){
        if(event.card.name=='sha'||get.type(event.card,'trick')=='trick'){
            return game.hasPlayer(function(current){
                return current!=player&&player.storage.DIY_jixu_sha.contains(current)&&!event.targets.contains(current);
            });
        }
        return false;
    },
                forced:true,
                silent:true,
                popup:false,
                mod:{
                    cardUsable:function(card,player,num){
            if(card.name=='sha') return num+player.countMark('DIY_jixu');
        },
                },
                content:function (){
        player.logSkill("DIY_jixu");
        for(var i=0;i<player.storage.DIY_jixu_sha.length;i++){
            if(!trigger.targets.contains(player.storage.DIY_jixu_sha[i])&&player.canUse('sha',player.storage.DIY_jixu_sha[i],false)){
                player.line(player.storage.DIY_jixu_sha[i],trigger.card.nature);
                trigger.targets.push(player.storage.DIY_jixu_sha[i]);
            }
        }
    },
            },
            "DIY_duorui":{
                audio:"drlt_duorui",
                trigger:{
                    player:"useCardToPlayered",
                },
                group:"DIY_duorui2",
                filter:function (event,player){
            if(event.target==player) return false;
            if(!['basic','trick'].contains(get.type(event.card))) return false;
            if(event.target.hasSkill('DIY_duorui_baiban')) return false;
            return true;
        },
                check:function(event,player){
            return get.attitude(player,event.target)<0;
                },
                logTarget:"target",
                content:function(){
        'step 0'
        player.judge(function(card){
               if(get.number(card)<8||get.number(card)>10) return 2;
               return 0;
             }).judge2=function(result){
               return result.bool?true:false;
             };
        'step 1'
        if(!result.bool){
            player.logSkill("DIY_duorui");
            event.goto(5);
        }
        'step 2'
        target=trigger.target;
        var list=[];
        var listm=[];
        var listv=[];
        if(trigger.player.name1!=undefined) listm=lib.character[target.name1][3];
        else listm=lib.character[target.name][3];
        if(trigger.player.name2!=undefined) listv=lib.character[target.name2][3];
        listm=listm.concat(listv);
        var func=function(skill){
            var info=get.info(skill);
            if(!info||info.limited) return false;
            return true;
        };
        for(var i=0;i<listm.length;i++){
            if(func(listm[i])) list.add(listm[i]);
        }
        event.skills=list;
        'step 3'
        if(event.skills.length>0){
            player.chooseControl(event.skills).set('prompt','è¯·é€‰æ‹©è¦å¤ºé”çš„æŠ€èƒ½').set('ai',function(){return event.skills.randomGet()});
        }
        else event.finish();
        'step 4'
        player.addTempSkill(result.control,{player:'phaseBegin'});
        trigger.target.storage.DIY_duorui_baiban=[result.control];
        trigger.target.addSkill("DIY_duorui_baiban");
        player.logSkill("DIY_duorui");
        game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€'+get.translation(result.control)+'ã€‘');
        'step 5'
        game.delayx();
    },
                ai:{
                    result:{
                        player:1,
                    },
                    order:8,
                },
            },
            "DIY_duorui2":{
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                direct:true,
                charlotte:true,
                filter:function(event,player){
                    var num=game.hasPlayer(function(current){
                return current.hasSkill('DIY_duorui_baiban');
            });
        return num>0;
                },
                content:function(){
                    game.countPlayer(function(current){
            if(current.hasSkill('DIY_duorui_baiban')){
                current.removeSkill('DIY_duorui_baiban');
            }
        });
                },
            },
            "DIY_duorui_baiban":{
                init:function(player,skill){
        player.disableSkill(skill,player.storage.DIY_duorui_baiban);
    },
                onremove:function(player,skill){
        player.enableSkill(skill);
    },
                locked:true,
                mark:true,
                charlotte:true,
                intro:{
                    content:function(storage,player,skill){
            var list=[];
            for(var i in player.disabledSkills){
                if(player.disabledSkills[i].contains(skill)) list.push(i);
            };
            if(list.length){
                var str='å¤±æ•ˆæŠ€èƒ½ï¼š';
                for(var i=0;i<list.length;i++){
                    if(lib.translate[list[i]+'_info']) str+=get.translation(list[i])+'ã€';
                };
                return str.slice(0,str.length-1);
            };
        },
                },
            },
            "DIY_zhiti":{
                audio:"drlt_zhiti",
                global:"DIY_zhiti2",
                mod:{
                    maxHandcard:function(player,num){
            if(game.hasPlayer(function(current){
                return current.isDamaged();
            })) return num+1;
        },
                },
                trigger:{
                    player:["phaseDrawBegin2","damageEnd"],
                },
                forced:true,
                filter:function(event,player){
        var num=event.name=='phase'?5:3;
        if(num==3?event.numFixed:!game.hasPlayer(function(current){
            return current.countDisabled()<5;
        })) return false;
        return game.countPlayer(function(current){
            return current.isDamaged();
        })>=num;
    },
                direct:true,
                content:function(){
        'step 0'
        if(trigger.name=='phaseDraw'){
            player.logSkill('DIY_zhiti');
            trigger.num++;
            event.finish();
        }
        else{
            player.chooseTarget(get.prompt('DIY_zhiti'),'åºŸé™¤ä¸€åè§’è‰²çš„ä¸€ä¸ªéšæœºè£…å¤‡æ ',function(card,player,target){
                return target!=player&&target.countDisabled()<5;
            }).set('ai',function(target){
                return -get.attitude(_status.event.player,target)*(target.countCards('e')+1)
            });
        }
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_zhiti',target);
            var list=[];
            for(var i=1;i<6;i++){
                if(!target.isDisabled(i)) list.add((i==3||i==4)?6:i);
            }
            var num=list.randomGet();
            if(num!=6) target.disableEquip(num);
            else{
                target.disableEquip(3);
                target.disableEquip(4);
            }
        }
    },
            },
            "DIY_zhiti2":{
                mod:{
                    maxHandcard:function (player,num){
            if(player.maxHp>player.hp&&!player.hasSkill("DIY_zhiti")) return num-1;
        },
                },
            },
            "DIY_wanglie":{
                locked:false,
                mod:{
                    targetInRange:function(card,player,target,now){
            if(game.online){
                if(!player.countUsed()) return true;
            }
            else{
                var evt=_status.event.getParent('phaseUse');
                if(evt&&evt.name=='phaseUse'&&player.getHistory('useCard',function(evt2){
                    return evt2.getParent('phaseUse')==evt
                }).length==0) return true;
            }
        },
                },
                trigger:{
                    player:"useCardToPlayered",
                },
                audio:"drlt_wanglie",
                filter:function(event,player){
        return player.isPhaseUsing()&&(event.card.name=='sha'||get.type(event.card)=='trick');
    },
                check:function(event,player){
        return get.attitude(player,event.target)<0;
    },
                logTarget:"target",
                content:function(){
        trigger.directHit.addArray(game.filterPlayer(function(current){
            return current!=player;
        }));
        player.gainPlayerCard(trigger.target,true,'he');
        var num=player.countMark("DIY_wanglie_use");
        if(num>1) player.addTempSkill("drlt_wanglie2");
    },
                group:["DIY_wanglie_use","DIY_wanglie_kanon"],
                subSkill:{
                    kanon:{
                        trigger:{
                            global:"phaseEnd",
                        },
                        silent:true,
                        sub:true,
                        content:function(){lib.skill.DIY_wanglie_use.init(player)},
                        forced:true,
                        popup:false,
                    },
                },
            },
            "DIY_wanglie_use":{
                mark:true,
                marktext:"å¾€çƒˆ",
                intro:{
                    content:function(storage,player){
            var num=player.countMark("DIY_wanglie_use");
            var str='<li>æœ¬å›åˆå·²ä½¿ç”¨ç‰Œæ•°ï¼š0';
            if(num>=1){
                str='<li>æœ¬å›åˆå·²ä½¿ç”¨ç‰Œæ•°:'+get.translation(player.countMark("DIY_wanglie_use"));
            }
            if(num=0){
                str='<li>æœ¬å›åˆå·²ä½¿ç”¨ç‰Œæ•°ï¼š0';
            }
            return str;
        },
                },
                audio:"ext:å¤©ç‰¢ä»¤:false",
                trigger:{
                    player:"useCard",
                },
                direct:true,
                init:function(player){
        player.storage.DIY_wanglie_use=[];
    },
                content:function(){
        player.addMark("DIY_wanglie_use",1,false);
    },
            },
            "DIY_baobian":{
                group:"DIY_baobian2",
                unique:true,
                audio:"baobian",
                trigger:{
                    global:"gameDrawAfter",
                    player:"changeHp",
                },
                direct:true,
                init:function(player){
        player.storage.DIY_baobian=[];
        // player.storage.DIY_baobian2=0;
    },
                intro:{
                    content:"characters",
                },
                filter:function(event,player){
        return player.countMark("DIY_baobian")<5;
    },
                content:function(){
        'step 0'
        var list=["wei","shu","wu","qun","jin"];
        list.remove(player.group);
        player.chooseControl(list);
        'step 1'
        player.changeGroup(result.control);
        // if(player.storage.DIY_baobian2<1){
        //        player.storage.DIY_baobian2++;
        //        event.finish();
        // }
        // else{
        //        player.storage.DIY_baobian2=0;
        // }
        'step 2'
        var list=[];
        var list2=[];
        var players=game.players.concat(game.dead);
        var group=player.group;
        for(var i=0;i<players.length;i++){
            list2.add(players[i].name);
            list2.add(players[i].name1);
            list2.add(players[i].name2);
        }
        for(var i in lib.character){
            if(lib.character[i][1]!=group) continue;
            if(lib.character[i][4].contains('minskin')) continue;
            if(player.storage.DIY_baobian.contains(i)) continue;
            if(list2.contains(i)) continue;
            list.push(i);
        }
        var name=list.randomGet();
        player.storage.DIY_baobian.push(name);
        player.markSkill('DIY_baobian');
        var skills=lib.character[name][3];
        for(var i=0;i<skills.length;i++){
            player.addSkill(skills[i]);
        }
        event.dialog=ui.create.dialog('<div class="text center">'+get.translation(player)+'å‘åŠ¨äº†ã€è±¹å˜ã€‘',[[name],'character']);
        game.delay(2);
        'step 3'
        event.dialog.close();
    },
            },
            "DIY_baobian2":{
                audio:"baobian",
                enable:"phaseUse",
                filter:function(event,player){
                    return get.skillCount('DIY_baobian2',player)<player.countMark("DIY_baobian");
                },
                content:function(){
                'step 0'
                player.chooseControl(true,player.storage.DIY_baobian);
                'step 1'
                if(result.control!='cancel2'){
                var skills=lib.character[result.control][3];
                for(var i=0;i<skills.length;i++){
                    player.removeSkill(skills[i]);
                }
                player.storage.DIY_baobian.remove(result.control);
                player.markSkill('DIY_baobian');
                player.useSkill('DIY_baobian');
                }
                },
            },
            "DIY_hongyuan":{
                audio:"hongyuan",
                trigger:{
                    global:"phaseDrawBegin2",
                },
                logTarget:"player",
                filter:function(event,player){
        return !event.numFixed&&event.player!=player&&!player.countMark('DIY_hongyuan')==0;
    },
                "prompt2":"ç§»å»ä¸€æšâ€œè°¦â€å¹¶ä»¤å…¶å¤šæ‘¸ä¸¤å¼ ç‰Œ",
                check:function(event,player){
        return get.attitude(player,event.player)>0;
    },
                content:function(){
        trigger.num+=2;
        player.removeMark('DIY_hongyuan',1,false);
    },
                marktext:"æ´",
                intro:{
                    name:"æ´",
                    content:"mark",
                },
                group:["DIY_hongyuan_Draw","DIY_hongyuan_Begin"],
                subSkill:{
                    Draw:{
                        audio:"hongyuan",
                        trigger:{
                            player:"phaseDrawBegin2",
                        },
                        prompt:"å°‘æ‘¸ä¸€å¼ ç‰Œå¹¶è·å¾—ä¸¤æšâ€œæ´â€",
                        filter:function(event,player){
                return !player.hasMark('DIY_hongyuan');
            },
                        content:function(){
                trigger.num--;
                player.addMark('DIY_hongyuan',2,false);
            },
                        sub:true,
                    },
                    Begin:{
                        audio:"hongyuan",
                        trigger:{
                            player:"phaseZhunbeiBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.hasMark('DIY_hongyuan');
            },
                        content:function(){
                var num=player.countMark('DIY_hongyuan');
                player.draw(num);
                player.removeMark('DIY_hongyuan',num,false);
            },
                        sub:true,
                    },
                },
            },
            "DIY_huanshi":{
                audio:"huanshi",
                srlose:true,
                trigger:{
                    global:"judge",
                },
                check:function (event, player) {
        var judge = event.judge(event.player.judging[0]);
        if (get.attitude(player, event.player) < 0) return judge > 0;
        if (get.attitude(player, event.player) > 0) return judge < 0;
        return 0;
      },
                content:function () {
        "step 0"
        player.chooseCard(get.translation(trigger.player) + 'çš„' + (trigger.judgestr || '') + 'åˆ¤å®šä¸º' +
          get.translation(trigger.player.judging[0]) + 'ï¼Œæ‰“å‡ºä¸€å¼ æ‰‹ç‰Œä»£æ›¿ä¹‹æˆ–äº®å‡ºç‰Œé¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿ä¹‹').set('ai', function (card) {
            var trigger = _status.event.getParent()._trigger;
            var player = _status.event.player;
            var judging = _status.event.judging;
            var result = trigger.judge(card) - trigger.judge(judging);
            var attitude = get.attitude(player, trigger.player);
            if (attitude == 0 || result == 0) return 0;
            if (attitude > 0) {
              return result - get.value(card) / 2;
            } else {
              return -result - get.value(card) / 2;
            }
          }).set('judging', trigger.player.judging[0]);
        "step 1"
        if (result.bool) {
          event.cards = result.cards;
        } else {
          event.cards = get.cards();
          game.log(get.translation(player) + 'äº®å‡ºäº†ç‰Œå †é¡¶çš„' + get.translation(event.cards));
          player.showCards(event.cards);
        }
        player.respond(event.cards, 'highlight', 'noOrdering');
        "step 2"
        if (result.bool) {
          if (trigger.player.judging[0].clone) {
            trigger.player.judging[0].clone.classList.remove('thrownhighlight');
            game.addVideo('deletenode', player, get.cardsInfo([trigger.player.judging[0].clone]));
          }
          ui.discardPile.appendChild(trigger.player.judging[0]);
          trigger.player.judging[0] = result.cards[0];
          if (!get.owner(result.cards[0], 'judge')) {
            trigger.position.appendChild(result.cards[0]);
          }
          game.log(trigger.player, 'çš„åˆ¤å®šç‰Œæ”¹ä¸º', result.cards[0]);
          game.delay(2);
        } else {
          if (trigger.player.judging[0].clone) {
            trigger.player.judging[0].clone.classList.remove('thrownhighlight');
            game.addVideo('deletenode', player, get.cardsInfo([trigger.player.judging[0].clone]));
          }
          ui.discardPile.appendChild(trigger.player.judging[0]);
          trigger.player.judging[0] = event.cards[0];
          if (!get.owner(event.cards[0], 'judge')) {
            trigger.position.appendChild(event.cards[0]);
          }
          game.log(trigger.player, 'çš„åˆ¤å®šç‰Œæ”¹ä¸º', event.cards[0]);
        }
      },
                ai:{
                    tag:{
                        rejudge:1,
                    },
                },
            },
            "DIY_mingzhe":{
                audio:"mingzhe",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                },
                forced:true,
                charlotte:true,
                onremove:true,
                filter:function(event,player){
        var evt=event.getl(player);
        if(!evt||!evt.cards2||!evt.cards2.length) return false;
        for(var i of evt.cards2){
            if(get.color(i,player)=='red') return true;
        }
        return false;
    },
                content:function(){
        'step 0'
        var num=trigger.getl(player).cards2.filter(function(card){
            return get.color(card,player)=='red';
        }).length;
        var cards=[];
        while(num--){
            var card=get.cardPile2(function(card){
                return !cards.contains(card)&&get.color(card,false)!='red';
            });
            if(card) cards.push(card);
            else break;
        }
        if(cards.length) player.gain(cards,'gain2');
        else event.finish();
        'step 1'
        game.updateRoundNumber();
    },
            },
            "DIY_yinbing":{
                trigger:{
                    player:"phaseDiscardBegin",
                },
                direct:true,
                audio:"yinbing",
                init:function(player){
        if(!player.storage.DIY_yinbing) player.storage.DIY_yinbing=[];
    },
                marktext:"å…µ",
                content:function(){
        "step 0"
        var num=game.players.length;
        player.draw(num);
        player.chooseCard([num,Infinity],'he',get.prompt('DIY_yinbing')).set('ai',function(card){
            return 6-get.value(card);
        });
        "step 1"
        if(result.bool){
            player.$give(result.cards,player,false);
            player.logSkill('DIY_yinbing');
            game.log(player,'å°†',result.cards,'ç½®äºæ­¦å°†ç‰Œä¸Š');
            player.storage.DIY_yinbing=player.storage.DIY_yinbing.concat(result.cards);
            player.lose(result.cards,ui.special,'toStorage');
            player.markSkill('DIY_yinbing');
            player.syncStorage('DIY_yinbing');
        }
    },
                intro:{
                    content:"cards",
                    onunmark:function(storage,player){
            if(storage&&storage.length){
                player.$throw(storage,1000);
                game.cardsDiscard(storage);
                game.log(storage,'è¢«ç½®å…¥äº†å¼ƒç‰Œå †');
             storage.length=0;
            }
        },
                },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(card.name=='sha'||card.name=='juedou'){
                    if(current<0) return 1.2;
                }
            },
                    },
                    threaten:function(player,target){
            if(target.storage.DIY_yinbing&&target.storage.DIY_yinbing.length) return 2;
            return 1;
        },
                },
                subSkill:{
                    discard:{
                        trigger:{
                            player:"damageBegin4",
                        },
                        audio:"yinbing",
                        forced:true,
                        filter:function(event,player){
                return event.card&&player.storage.DIY_yinbing.length>0&&
                (event.card.name=='sha'||event.card.name=='juedou');
            },
                        content:function(){
                'step 0'
                player.chooseCardButton('ç§»å»ä¸€å¼ å¼•å…µç‰Œ',true,player.storage.DIY_yinbing);
                'step 1'
                var card=result.links[0];
                player.storage.DIY_yinbing.remove(card);
                game.cardsDiscard(card);
                player.$throw(card);
                player.draw(2);
                trigger.num=1;
                game.log(player,'å°†',card,'ç½®å…¥å¼ƒç‰Œå †');
                player.syncStorage('DIY_yinbing');
                if(player.storage.DIY_yinbing.length==0){
                    player.unmarkSkill('DIY_yinbing');
                }
            },
                        sub:true,
                    },
                },
                group:"DIY_yinbing_discard",
            },
            "DIY_juedi":{
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                filter:function(event,player){
        return player.storage.DIY_yinbing&&player.storage.DIY_yinbing.length>0;
    },
                forced:true,
                audio:"juedi",
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt2('DIY_juedi'),true).set('ai',function(target){
            var player=_status.event.player;
            var att=get.attitude(player,target);
            if(att<2) return att-10;
            var num=att/10;
            if(target==player){
                num+=player.maxHp-player.countCards('h')+0.5;
            }
            else{
                num+=_status.event.n2*2;
                if(target.isDamaged()){
                    if(target.hp==1){
                        num+=3;
                    }
                    else if(target.hp==2){
                        num+=2;
                    }
                    else{
                        num+=0.5;
                    }
                }
            }
            if(target.hasJudge('lebu')){
                num/=2;
            }
            return num;
        }).set('n2',player.storage.DIY_yinbing.length);
        'step 1'
        if(result.bool){
            player.line(result.targets[0],'green');
            if(result.targets[0]==player){
                player.$throw(player.storage.DIY_yinbing,1000);
                event.num=0;
                game.countPlayer(function(current){
                    if(current.countCards('h')>event.num) event.num=current.countCards('h');
                });
                var num=event.num-player.countCards('h');
                if(num>0) player.draw(num);
                game.cardsDiscard(player.storage.DIY_yinbing);
                player.recover();
                player.storage.DIY_yinbing=[];
                player.syncStorage('DIY_yinbing');
                player.unmarkSkill('DIY_yinbing');
            }
            else{
                var target=result.targets[0];
                target.recover();
                target.gain(player.storage.DIY_yinbing.slice(0),'gain2','log','fromStorage');
                target.draw(player.storage.DIY_yinbing.length);
                player.storage.DIY_yinbing.length=0;
            }
            player.syncStorage('DIY_yinbing');
            player.unmarkSkill('DIY_yinbing');
        }
    },
            },
            "DIY_shelie":{
                audio:"shelie",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                forced:true,
                content:function () {
        'step 0'
        trigger.cancel(null, null, 'notrigger');
        event.cards = [];
        event.num = 1;
        event.getResultString = function (str) {
          switch (str) {
            case 'åŸºæœ¬':
              return 'basic';
            case 'é”¦å›Š':
              return 'trick';
            case 'è£…å¤‡':
              return 'equip';
          }
          return str;
        };
        'step 1'
        player.chooseControl('åŸºæœ¬', 'é”¦å›Š', 'è£…å¤‡', function () {
          var randomResult = Math.random();
          if (randomResult < 0.4) return 'é”¦å›Š';
          if (randomResult < 0.8) return 'åŸºæœ¬';
          return 'è£…å¤‡';
        }).set('prompt', 'è¯·é€‰æ‹©æƒ³è¦è·å¾—çš„ç¬¬' + get.cnNumber(event.num, true) + 'å¼ ç‰Œçš„ç±»å‹');
        'step 2'
        event.control = event.getResultString(result.control);
        var card = get.cardPile2(function (card) {
          return get.type(card, 'trick') == event.control && !event.cards.contains(card);
        });
        if (card) {
          event.cards.push(card);
        } else {
          player.chat('æ— ç‰Œå¯å¾—äº†å—');
          game.log(`ä½†æ˜¯ç‰Œå †é‡Œé¢å·²ç»æ²¡æœ‰${result.control}äº†ï¼`);
        }
        if (event.num < 4) {
          event.num++;
          event.goto(1);
        } else {
          if (event.cards.length) {
            player.gain(event.cards, 'gain2');
          }
        }
      },
            },
            "DIY_gongxin":{
                audio:"gongxin",
                enable:"phaseUse",
                usable:1,
                filterTarget:function (card, player, target) {
        return target!=player&&target.countCards('h');
      },
                content:function () {
        "step 0"
        player.chooseControl(lib.suit).set('prompt','æ”»å¿ƒ:é€‰æ‹©ä¸€ç§èŠ±è‰²').ai=function(){return lib.suit.randomGet()};
        "step 1"
        event.suit=result.control;
        player.viewCards('æ”»å¿ƒ', target.get('h'));
        event.cards = target.get('h', function (card) {
          return get.suit(card) == event.suit;
        });
        if (!event.cards.length) {
          event.finish();
          return;
        }
        "step 2"
        if (event.cards.length > 1) {
          event.videoId = lib.status.videoId++;
          game.broadcastAll(function (player, id, cards) {
            var str;
            if (player == game.me && !_status.auto) {
              str = 'æ”»å¿ƒï¼šé€‰æ‹©è·å¾—å…¶ä¸­çš„ä¸€å¼ ç‰Œ';
            } else {
              str = 'æ”»å¿ƒ';
            }
            var dialog = ui.create.dialog(str, cards);
            dialog.videoId = id;
          }, player, event.videoId, event.cards);
          event.time = get.utc();
          game.addVideo('showCards', player, ['æ”»å¿ƒ', get.cardsInfo(event.cards)]);
          game.addVideo('delay', null, 2);
        } else {
          player.showCards(event.cards, get.translation(target.name) + 'çš„æ‰‹ç‰Œ');
        }
        "step 3"
        if (event.cards.length == 1) {
          target.discard(event.cards);
          target.damage();
          event.finish();
          return;
        }
        "step 4"
        if (event.cards.length == 0) {
          var num=target.countCards('h');
          player.drawTo(num);
          event.finish();
          return;
        }
        "step 5"
        var next = player.chooseButton();
        next.set('dialog', event.videoId);
        next.set('filterButton', function (button) {
          return true;
        });
        next.set('ai', function (button) {
          return get.value(button.link, _status.event.player);
        });
        "step 6"
        if (result.bool && result.links) {
          event.cards2 = result.links;
        }
        var time = 1000 - (get.utc() - event.time);
        if (time > 0) {
          game.delay(0, time);
        }
        "step 7"
        game.broadcastAll('closeDialog', event.videoId);
        if (event.cards2) {
          player.gain(event.cards2, 'log', 'gain2');
        }
      },
                ai:{
                    threaten:1.5,
                    result:{
                        target:function (player, target) {
                return -target.countCards('h');
              },
                    },
                    order:10,
                    expose:0.4,
                },
            },
            "DIY_botu":{
                audio:"botu",
                trigger:{
                    player:"phaseAfter",
                },
                round:1,
                group:["DIY_botu_suit","DIY_botu_suit_mark","DIY_botu_roundcount"],
                frequent:true,
                filter:function(event,player){
        return  player.getStorage('DIY_botu_suit_mark').contains('heart')&&player.getStorage('DIY_botu_suit_mark').contains('diamond')&&player.getStorage('DIY_botu_suit_mark').contains('club')&&player.getStorage('DIY_botu_suit_mark').contains('spade');
    },
                content:function(){
        player.insertPhase();
    },
            },
            "DIY_botu_suit":{
                trigger:{
                    global:["loseAfter","cardsDiscardAfter"],
                },
                forced:true,
                filter:function(event,player){
        if(player!=_status.currentPhase) return false;
        if(event.name=='lose'&&event.position!=ui.discardPile) return false;
        var list=[];
        for(var i=0;i<event.cards.length;i++){
            var card=event.cards[i];
            list.add(card.suit);
        }
        game.getGlobalHistory('cardMove',function(evt){
            if(evt==event||(evt.name!='lose'&&evt.name!='cardsDiscard')) return false;
            if(evt.name=='lose'&&evt.position!=ui.discardPile) return false;
            for(var i=0;i<evt.cards.length;i++){
                var card=evt.cards[i];
                list.remove(card.suit);
            }
        });
        return list.length>0;
    },
                content:function(){
        var list=[];
        var list2=[];
        for(var i=0;i<trigger.cards.length;i++){
            var card=trigger.cards[i];
            var suit=card.suit;
            list.add(suit);
            list2.add(suit);
        }
        game.getGlobalHistory('cardMove',function(evt){
            if(evt==trigger||(evt.name!='lose'&&evt.name!='cardsDiscard')) return false;
            if(evt.name=='lose'&&evt.position!=ui.discardPile) return false;
            for(var i=0;i<evt.cards.length;i++){
                var card=evt.cards[i];
                var suit=card.suit;
                list.remove(suit);
                list2.add(suit);
            }
        });
        list2.sort();
        player.storage.DIY_botu_suit_mark=list2;
        player.markSkill('DIY_botu_suit_mark');
    },
                subSkill:{
                    mark:{
                        marktext:"åšå›¾",
                        intro:{
                            name:"åšå›¾",
                            content:function(s){
                    var str='æœ¬å›åˆå·²ç»è¿›å…¥è¿‡å¼ƒç‰Œå †çš„å¡ç‰Œçš„èŠ±è‰²ï¼š';
                    for(var i=0;i<s.length;i++){
                        str+=get.translation(s[i]);
                    }
                    return str;
                },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_wuhun":{
                audio:"wuhun21",
                group:"DIY_wuhun_mark",
                trigger:{
                    player:"damageEnd",
                },
                forced:true,
                filter:function (event,player){
        return event.source!=undefined&&event.source!=player;
    },
                content:function (){
    trigger.source.addMark('DIY_wuhun_mark',trigger.num,false);
    if(player.hasSkill("DIY_wuhun_dying")) player.draw();
    },
                subSkill:{
                    mark:{
                        marktext:"é­‡",
                        intro:{
                            name:"æ¢¦é­‡",
                            content:"mark",
                        },
                        sub:true,
                    },
                },
                ai:{
                    threaten:0.01,
                    notemp:true,
                },
            },
            "DIY_wushen":{
                mod:{
                    cardname:function(card,player,name){
            if(get.suit(card)=='heart') return 'sha';
        },
                    cardnature:function(card,player){
            if(get.suit(card)=='heart') return false;
        },
                    targetInRange:function(card){
            if(get.suit(card)=='heart') return true;
        },
                    cardUsable:function(card){
            if(card.name=='sha'&&get.suit(card)=='heart') return Infinity;
        },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard",
                },
                forced:true,
                filter:function(event,player){
        return event.card.name=='sha'&&get.suit(event.card)=='heart';
    },
                content:function(){
        trigger.directHit.addArray(game.players);
        if(trigger.addCount!==false){
            trigger.addCount=false;
            if(player.stat[player.stat.length-1].card.sha>0){
                player.stat[player.stat.length-1].card.sha--;
            }
        }
    },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(get.tag(card,'respondSha')&&current<0) return 0.6
            },
                    },
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            return arg.card.name=='sha'&&get.suit(arg.card)=='heart';
        },
                },
            },
            "DIY_wuhun_dying":{
                trigger:{
                    player:"dying",
                },
                skillAnimation:true,
                animationColor:"fire",
                audio:"wuhun21",
                mark:true,
                marktext:"è¿½é­‚",
                intro:{
                    name:"è¿½é­‚",
                    content:"æœªå‘åŠ¨",
                },
                derivation:"DIY_wuhun_hun",
                forced:true,
                content:function(){
                'step 0'
                game.log(player,'å¼€å§‹ä½¿å‘½');
                player.popup('å¼€å§‹ä½¿å‘½');
                player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_shenguanyu_zhuihun (1).jpg');
                player.removeSkill('DIY_wuhun_dying');
                player.addSkill("DIY_wuhun_hun");
                var num=game.countPlayer(function(current){
                    return current.hasMark('DIY_wuhun_mark');
                });
                player.draw(num);
                player.recover(player.maxHp-player.hp);
                },
            },
            "DIY_wuhun_hun":{
                group:["DIY_zhuihun_dying","DIY_zhuihun_finish","DIY_zhuihun"],
                mark:true,
                marktext:"è¿½é­‚",
                intro:{
                    name:"è¿½é­‚",
                    content:"ä½¿å‘½è¿›è¡Œä¸­â€¦â€¦",
                },
                dutySkill:true,
                forced:true,
                audio:"wuhun21",
                trigger:{
                    source:"damageBegin2",
                },
                logTarget:"player",
                filter:function(event,player){
                    return event.player&&event.player.isIn()&&event.player.hasMark('DIY_wuhun_mark');
                },
                content:function(){
                    trigger.num++;
                    trigger.player.removeMark('DIY_wuhun_mark',1,false);
                },
            },
            "DIY_zhuihun_dying":{
                trigger:{
                    player:"dying",
                },
                skillAnimation:true,
                animationColor:"fire",
                audio:"wuhun21",
                forced:true,
                filter:function(event,player){
                    var num=game.countPlayer(function(current){
                         return current.hasMark('DIY_wuhun_mark');
                    });
                    if(!num) return false;
                    return num>=0;
                },
                content:function(){
                    player.recover(1-player.hp);
                },
            },
            "DIY_zhuihun_finish":{
                trigger:{
                    global:"die",
                },
                skillAnimation:true,
                animationColor:"fire",
                audio:"wuhun21",
                forced:true,
                filter:function(event,player){
        return event.player.countMark('DIY_wuhun_mark')>0&&player==event.source;
    },
                content:function(){
                game.log(player,'æˆåŠŸå®Œæˆä½¿å‘½');
                player.popup('æˆåŠŸå®Œæˆä½¿å‘½');
                game.countPlayer(function(current){
                    if(current!=player&&current.countMark('DIY_wuhun_mark')>0){
                        player.line(current,'yellow');
                        current.die();
                        player.addSkill("DIY_zhuihun_finish2");
                        player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_shenguanyu_zhuihun (3).jpg');
                        player.awakenSkill('DIY_wuhun_hun');
                    }
                });
                },
            },
            "DIY_zhuihun_finish2":{
                trigger:{
                    global:"phaseEnd",
                },
                mark:true,
                marktext:"è¿½é­‚",
                intro:{
                    name:"è¿½é­‚",
                    content:"ä½¿å‘½å·²å®Œæˆ",
                },
                skillAnimation:true,
                animationColor:"fire",
                audio:"wuhun21",
                forced:true,
                content:function(){
                    game.log(player,'é­‚å½’æ•…é‡Œ');
                    player.popup('é­‚å½’æ•…é‡Œ');
                    player.die();
                    player.removeSkill("DIY_zhuihun_finish2");
                },
            },
            "DIY_zhuihun":{
                trigger:{
                    global:"dying",
                },
                forced:true,
                filter:function(event,player){
                    return event.player.countMark('DIY_wuhun_mark')>0&&event.source!=player;
                },
                content:function(){
                    game.log(player,'ä½¿å‘½å¤±è´¥');
                    player.popup('ä½¿å‘½å¤±è´¥');
                    player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_shenguanyu_zhuihun (2).jpg');
                    player.awakenSkill('DIY_wuhun_hun');
                    player.die();
                },
            },
            "DIY_baonu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                marktext:"æš´",
                unique:true,
                trigger:{
                    source:"damageSource",
                    player:["damageEnd","enterGame"],
                    global:"phaseBefore",
                },
                forced:true,
                filter:function(event){
        return (event.name!='damage'&&(event.name!='phase'||game.phaseNumber==0))||event.num>0; 
    },
                content:function(){
        player.addMark('DIY_baonu',trigger.name=='damage'?trigger.num:2);
    },
                intro:{
                    name:"æš´æ€’",
                    content:"mark",
                },
                ai:{
                    combo:"DIY_shenfen",
                    maixie:true,
                    "maixie_hp":true,
                },
            },
            "DIY_wumou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard",
                },
                forced:true,
                filter:function(event){
        return get.type(event.card)=='trick';
    },
                content:function(){
        player.addTempSkill('DIY_wumou2');
    },
            },
            "DIY_wuqian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                derivation:["DIY_wushuang","DIY_shenji"],
                filter:function(event,player){
        return player.countMark('DIY_baonu')>=1;
    },
                filterTarget:function(card,player,target){
        return target!=player&&!target.hasSkill('DIY_wuqian_targeted');
    },
                content:function(){
        player.removeMark('DIY_baonu',1);
        player.draw(1);
        player.addTempSkill('DIY_wushuang');
        player.addTempSkill('DIY_shenji');
        player.storage.DIY_wuqian_target=target;
        player.addTempSkill('DIY_wuqian_target');
        target.addTempSkill('DIY_wuqian_targeted');
    },
                subSkill:{
                    equip:{
                        ai:{
                            unequip:true,
                            skillTagFilter:function(player,tag,arg){
                    if(arg&&arg.target&&arg.target.hasSkill('DIY_wuqian_targeted')) return true;
                    return false;
                },
                        },
                        sub:true,
                    },
                    targeted:{
                        ai:{
                            "unequip2":true,
                        },
                        sub:true,
                    },
                    target:{
                        mark:"character",
                        onremove:true,
                        intro:{
                            content:"è·å¾—ã€–æ— åŒã€—å’Œã€–ç¥æˆŸã€—ä¸”$é˜²å…·å¤±æ•ˆç›´åˆ°å›åˆç»“æŸ",
                        },
                        sub:true,
                    },
                },
            },
            "DIY_shenfen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
        return player.countMark('DIY_baonu')>=game.players.length-1;
    },
                usable:1,
                skillAnimation:true,
                animationColor:"metal",
                content:function(){
        "step 0"
        event.delay=false;
        var num=game.players.length-1;
        player.removeMark('DIY_baonu',num);
        event.targets=game.filterPlayer();
        event.targets.remove(player);
        event.targets.sort(lib.sort.seat);
        player.line(event.targets,'green');
        event.targets2=event.targets.slice(0);
        event.targets3=event.targets.slice(0);
        "step 1"
        if(event.targets2.length){
            event.targets2.shift().damage('nocard');
            event.redo();
        }
        "step 2"
        if(event.targets.length){
            event.current=event.targets.shift()
            if(event.current.countCards('e')) event.delay=true;
            event.current.discard(event.current.getCards('e')).delay=false;
        }
        "step 3"
        if(event.delay) game.delay(0.5);
        event.delay=false;
        if(event.targets.length) event.goto(2);
        "step 4"
        if(event.targets3.length){
            var target=event.targets3.shift();
            target.chooseToDiscard(Infinity,'h',true).delay=false;
            if(target.countCards('h')) event.delay=true;
        }
        "step 5"
        if(event.delay) game.delay(0.5);
        event.delay=false;
        if(event.targets3.length) event.goto(4);
    },
                ai:{
                    combo:"DIY_baonu",
                    order:10,
                    result:{
                        player:function(player){
                return game.countPlayer(function(current){
                    if(current!=player){
                        return get.sgn(get.damageEffect(current,player,player));
                    }
                });
            },
                    },
                },
            },
            "DIY_shenji":{
                mod:{
                    targetInRange:function (card,player){
                        if(card.name=='sha') return true;
                    },
                    selectTarget:function(card,player,range){
            if(range[1]==-1) return;
            if(card.name=='sha') range[1]+=2;
        },
                    cardUsable:function(card,player,num){
            if(card.name=='sha') return num+2;
        },
                },
            },
            "DIY_wushuang":{
                shaRelated:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                forced:true,
                locked:true,
                group:["wushuang1","wushuang2","DIY_wushuang_sha"],
                preHidden:["wushuang1","wushuang2"],
            },
            "DIY_wushuang1":{
                audio:"DIY_wushuang",
                audioname:["re_lvbu","shen_lvbu","lvlingqi"],
                trigger:{
                    player:"useCardToPlayered",
                },
                forced:true,
                filter:function(event,player){
        return event.card.name=='sha'&&!event.getParent().directHit.contains(event.target);
    },
                logTarget:"target",
                content:function(){
        var id=trigger.target.playerid;
        var map=trigger.getParent().customArgs;
        if(!map[id]) map[id]={};
        if(typeof map[id].shanRequired=='number'){
            map[id].shanRequired++;
        }
        else{
            map[id].shanRequired=2;
        }
    },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(arg.card.name!='sha'||arg.target.countCards('h','shan')>1) return false;
        },
                },
            },
            "DIY_wushuang2":{
                audio:"DIY_wushuang",
                trigger:{
                    player:"useCardToPlayered",
                    target:"useCardToTargeted",
                },
                forced:true,
                logTarget:function(trigger,player){
        return player==trigger.player?trigger.target:trigger.player
    },
                filter:function(event,player){
        return event.card.name=='juedou';
    },
                content:function(){
        var id=(player==trigger.player?trigger.target:trigger.player)['playerid'];
        var idt=trigger.target.playerid;
        var map=trigger.getParent().customArgs;
        if(!map[idt]) map[idt]={};
        if(!map[idt].shaReq) map[idt].shaReq={};
        if(!map[idt].shaReq[id]) map[idt].shaReq[id]=1;
        map[idt].shaReq[id]++;
    },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(arg.card.name!='juedou'||Math.floor(arg.target.countCards('h','sha')/2)>player.countCards('h','sha')) return false;
        },
                },
            },
            "DIY_wushuang_sha":{
                trigger:{
                    global:"damageSource",
                },
                audio:"DIY_wushuang",
                forced:true,
                logTarget:"source",
                filter:function(event,player){
        var target=event.source;
        return target&&target==_status.currentPhase&&target.isAlive()&&target.isFriendOf(player)&&event.card&&event.card.name=='sha'&&event.getParent().type=='card';
    },
                content:function(){
        var source=trigger.source;
        source.addTempSkill('DIY_wushuang_sha2');
        source.addMark('DIY_wushuang_sha2',1,false);
    },
            },
            "DIY_wushuang_sha2":{
                audio:"DIY_wushuang",
                mark:true,
                intro:{
                    name:"æ— åŒ",
                    content:function(storage,player){
                        var num=player.countMark('DIY_wushuang_sha2');
                        var str='æš‚æ— ä»»ä½•æ•ˆæœ';
                        if(num>=1){
                            str='<li>æœ¬å›åˆä½ ä½¿ç”¨ã€æ€ã€‘æ¬¡æ•°ä¸Šé™+'+get.translation(player.countMark('DIY_wushuang_sha2'));
                        }
                        return str;
                    },
                },
                onremove:true,
                charlotte:true,
                mod:{
                    cardUsable:function(card,player,num){
            if(card.name=='sha') return num+player.countMark('DIY_wushuang_sha2');
        },
                },
            },
            "DIY_wumou2":{
                unique:true,
                charlotte:true,
                intro:{
                    content:function(storage){
            return '<li>ä½ çš„é”¦å›Šç‰Œå‡è§†ä¸ºã€æ€ã€‘ä¸”ä¸è®¡å…¥æ¬¡æ•°ä¸Šé™';
        },
                },
                mark:true,
                popup:false,
                silent:true,
                firstDo:true,
                trigger:{
                    player:"useCard1",
                },
                filter:function(event,player){
                    return event.card&&event.card.name=='sha'&&event.addCount!==false&&event.cards&&event.cards.length==1&&get.type(event.cards[0],'trick')=='trick';
                },
                forced:true,
                onremove:true,
                content:function(){
                    trigger.addCount=false;
                    if(player.stat[player.stat.length-1].card.sha>0){
                        player.stat[player.stat.length-1].card.sha--;
                    }
                },
                mod:{
                    cardname:function(card,player,name){
            if(['trick','delay'].contains(lib.card[card.name].type)) return 'sha';
        },
                },
            },
            "DIY_qixing":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:["phaseBefore","phaseEnd","damage"],
                },
                group:"DIY_qixing_dying",
                forced:true,
                filter:function(event,player){
        if(player.countMark('DIY_qixing')==0&&player.hp>0) return true;
        if(player.countMark('DIY_qixing')==1&&player.countCards('h')!=0) return true;
        if(player.countMark('DIY_qixing')==2&&player.countCards('h')>player.hp) return true;
        if(player.countMark('DIY_qixing')==3&&player.countCards('e')>0) return true;
        if(player.countMark('DIY_qixing')==4&&player.countCards('j')>0) return true;
        if(player.countMark('DIY_qixing')==5&&(player.countCards('h')>0||player.countCards('e')>0||player.countCards('j')>0)) return true;
        if(player.countMark('DIY_qixing')==6&&player.countCards('hej')>=7) return true;
        return false;
    },
                content:function(){
        player.addMark('DIY_qixing',1,false);
        player.gainMaxHp();
        player.recover();
        game.log(player,'å·²ç‚¹äº®'+get.translation(player.countMark("DIY_qixing"))+'é¢—â€œæ˜Ÿâ€');
        player.draw(3);
        if(player.countMark("DIY_qixing")>6){
            player.awakenSkill('DIY_qixing');
            game.log(player,'æˆåŠŸå®Œæˆä½¿å‘½');
            player.popup('æˆåŠŸå®Œæˆä½¿å‘½');
            player.reinit('JX_shenzhugeliang','JX_BOSS_zhugeliang');
            player.recover(player.maxHp);
        }
    },
                mark:true,
                intro:{
                    content:function(storage,player){
                        var str='<li>æœªç‚¹äº®ä¸€é¢—â€œæ˜Ÿâ€';
                        if(player.countMark("DIY_qixing")==0){
                            str+='<br>ä½“åŠ›å€¼ä¸ä¸º0';
                        }
                        if(player.countMark("DIY_qixing")>0){
                            str='<li>å·²ç‚¹äº®'+get.translation(player.countMark("DIY_qixing"))+'é¢—â€œæ˜Ÿâ€';
                        }
                        if(player.countMark("DIY_qixing")==1){
                            str+='<br>æœ‰æ‰‹ç‰Œ';
                        }
                        if(player.countMark("DIY_qixing")==2){
                            str+='<br>æ‰‹ç‰Œæ•°å¤§äºä½“åŠ›å€¼';
                        }
                        if(player.countMark("DIY_qixing")==3){
                            str+='<br>è£…å¤‡åŒºæœ‰ç‰Œ';
                        }
                        if(player.countMark("DIY_qixing")==4){
                            str+='<br>åˆ¤å®šåŒºæœ‰ç‰Œ';
                        }
                        if(player.countMark("DIY_qixing")==5){
                            str+='<br>åŒºåŸŸå†…æœ‰ç‰Œ';
                        }
                        if(player.countMark("DIY_qixing")==6){
                            str+='<br>åŒºåŸŸå†…ç‰Œæ•°>7';
                        }
                        return str;
                },
                },
                mod:{
                    maxHandcard:function(player,num){
            return num+player.countMark('DIY_qixing');
        },
                },
            },
            "DIY_xiangxing":{
                unique:true,
                init:function(player){
        player.storage.DIY_xiangxing=7;
        player.storage.DIY_xiangxing_count=0;
        player.addSkill('DIY_xiangxing7');
    },
                mark:true,
                intro:{
                    content:"å½“å‰æœ‰#æšæ˜Ÿ",
                },
                trigger:{
                    player:["damageEnd","loseHpEnd"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                popup:false,
                content:function(){
        'step 0'
        var num=trigger.num;
        if(num){
            player.storage.DIY_xiangxing_count+=num;
        }
        if(player.storage.DIY_xiangxing_count>=7){
            if(player.hasSkill('DIY_yueyin')&&lib.skill.DIY_yueyin.skipDamage['x'+player.storage.DIY_xiangxing](player,trigger)){
                event.goto(3);
            }
            player.removeSkill('DIY_xiangxing'+player.storage.DIY_xiangxing);
            player.storage.DIY_xiangxing--;
            player.storage.DIY_xiangxing_count=0;
            player.updateMarks();
            if(player.storage.DIY_xiangxing){
                player.addSkill('DIY_xiangxing'+player.storage.DIY_xiangxing);
            }
            else{
                player.awakenSkill('DIY_xiangxing');
            }
            player.popup('DIY_xiangxing');
            game.log(player,'å¤±å»äº†ä¸€æšæ˜Ÿ');
        }
        else{
            player.updateMarks();
            event.finish();
        }
        'step 1'
        var list=game.filterPlayer();
        list.remove(player);
        list.sort(lib.sort.seat);
        var list2=[];
        for(var i=0;i<list.length;i++){
            list2.push(0);
        }
        for(var i=0;i<7;i++){
            list2[Math.floor(Math.random()*list2.length)]++;
        }
        event.list=list;
        event.list2=list2;
        'step 2'
        if(event.list.length){
            var target=event.list.shift();
            target.damage(event.list2.shift(),'thunder');
            player.line(target,'thunder');
            event.redo();
        }
        'step 3'
        if(player.storage.DIY_xiangxing==0){
            player.maxHp=3;
            player.update();
        }
    },
            },
            "DIY_yueyin":{
                unique:true,
                mark:true,
                intro:{
                    content:function(storage,player){
            var str='æ‰£å‡'+(7-player.storage.DIY_xiangxing_count)+'ç‚¹ä½“åŠ›åå¤±å»ä¸‹ä¸€æšæ˜Ÿ;';
            str+='<br>é˜²ä¸Šç¦³æ˜Ÿä¼¤å®³æ¡ä»¶ï¼š'+lib.translate['xiangxing'+player.storage.xiangxing+'_info'];
            return str;
        },
                    markcount:function(storage,player){
            return Math.max(0,7-player.storage.DIY_xiangxing_count);
        },
                },
                skipDamage:{
                    "x7":function(player){
            return player.countCards('h')==0;
        },
                    "x6":function(player,event){
            return event.nature=='fire';
        },
                    "x5":function(player,event){
            return event.nature=='thunder';
        },
                    "x4":function(player,event){
            return event.name=='loseHp';
        },
                    "x3":function(player,event){
            return game.hasPlayer(function(current){
                return current!=player&&current.countCards('e')>=4;
            });
        },
                    "x2":function(player){
            return player.countCards('j')>=2;
        },
                    "x1":function(){
            return game.players.length==2;
        },
                },
            },
            "DIY_fengqi":{
                trigger:{
                    player:["phaseZhunbeiBegin","phaseJieshuBegin"],
                },
                audio:"kuangfeng2",
                direct:true,
                content:function(){
        'step 0'
        var list={basic:[],equip:[],trick:[],delay:[]};
        for(var i=0;i<lib.inpile.length;i++){
            var name=lib.inpile[i];
            var info=lib.card[name];
            if(info.autoViewAs||name=='yuansuhuimie') continue;
            if(lib.filter.cardEnabled({name:name},player)){
                if(!list[info.type]){
                    list[info.type]=[];
                }
                list[info.type].push([get.translation(lib.card[name].type),'',name]);
            }
        }
        list.trick.sort(lib.sort.name);
        var dialog=ui.create.dialog('é£èµ·',[list.trick,'vcard']);
        // for(var i in list){
        //        dialog.addText(get.translation(i)+'ç‰Œ');
        //        dialog.add([list[i],'vcard']);
        // }
        var rand1=Math.random()<1/3;
        var rand2=Math.random()<0.5;
        var rand3=Math.random()<1/3;
        var rand4=Math.random()<1/3;
        player.chooseButton(dialog).ai=function(button){
            var name=button.link[2];
            if(player.hp<=1){
                switch(name){
                    case 'zhiliaobo':return 1;
                    case 'dunpaigedang':return 0.8;
                    case 'nanman':return 0.5;
                    default:return 0;
                }
            }
            if(rand4&&player.countCards('h')<=1){
                switch(name){
                    case 'zengbin':return 1;
                    case 'wuzhong':return 0.8;
                    default:return 0;
                }
            }
            if(player.hasSkill('qinglonglingzhu')){
                if(rand2) return name=='chiyuxi'?0.8:0;
                return name=='jingleishan'?0.8:0;
            }
            if(rand2) return name=='wanjian'?0.8:0;
            return name=='nanman'?0.8:0;
        }
        'step 1'
        if(result.bool){
            player.chooseUseTarget(result.links[0][2],true,false);
        }
    },
                ai:{
                    threaten:1.5,
                },
            },
            "DIY_gaiming":{
                trigger:{
                    player:"judgeBefore",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                direct:true,
                priority:1,
                unique:true,
                content:function(){
        "step 0"
        event.cards=get.cards(7);
        player.chooseCardButton(true,event.cards,'æ”¹å‘½ï¼šé€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºä½ çš„'+trigger.judgestr+'åˆ¤å®šç»“æœ').ai=function(button){
            if(get.attitude(player,trigger.player)>0){
                return 1+trigger.judge(button.link);
            }
            if(get.attitude(player,trigger.player)<0){
                return 1-trigger.judge(button.link);
            }
            return 0;
        };
        "step 1"
        if(!result.bool){
            event.finish();
            return;
        }
        player.logSkill('DIY_gaiming',trigger.player);
        var card=result.links[0];
        event.cards.remove(card);
        var judgestr=get.translation(trigger.player)+'çš„'+trigger.judgestr+'åˆ¤å®š';
        event.videoId=lib.status.videoId++;
        event.dialog=ui.create.dialog(judgestr);
        event.dialog.classList.add('center');
        event.dialog.videoId=event.videoId;

        game.addVideo('judge1',player,[get.cardInfo(card),judgestr,event.videoId]);
        for(var i=0;i<event.cards.length;i++) event.cards[i].discard();
        // var node=card.copy('thrown','center',ui.arena).animate('start');
        var node;
        if(game.chess){
            node=card.copy('thrown','center',ui.arena).animate('start');
        }
        else{
            node=player.$throwordered(card.copy(),true);
        }
        node.classList.add('thrownhighlight');
        ui.arena.classList.add('thrownhighlight');
        if(card){
            trigger.cancel();
            trigger.result={
                card:card,
                judge:trigger.judge(card),
                node:node,
                number:get.number(card),
                suit:get.suit(card),
                color:get.color(card),
            };
            if(trigger.result.judge>0){
                trigger.result.bool=true;
                trigger.player.popup('æ´—å…·');
            }
            if(trigger.result.judge<0){
                trigger.result.bool=false;
                trigger.player.popup('æ¯å…·');
            }
            game.log(trigger.player,'çš„åˆ¤å®šç»“æœä¸º',card);
            trigger.direct=true;
            trigger.position.appendChild(card);
            game.delay(2);
        }
        else{
            event.finish();
        }
        "step 2"
        ui.arena.classList.remove('thrownhighlight');
        event.dialog.close();
        game.addVideo('judge2',null,event.videoId);
        ui.clear();
        var card=trigger.result.card;
        trigger.position.appendChild(card);
        trigger.result.node.delete();
        game.delay();
    },
            },
            "DIY_qixing_dying":{
                trigger:{
                    player:"dying",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                content:function(){
    'step 0'
    game.log(player,'ä½¿å‘½å¤±è´¥');
    player.popup('ä½¿å‘½å¤±è´¥');
    var num=player.countMark('DIY_qixing');
    player.draw(num);
    player.recover(num-player.hp);
    player.awakenSkill('DIY_qixing');
    },
            },
            "DIY_sanwen":{
                audio:"xinfu_sanwen",
                trigger:{
                    player:["useCard","respond"],
                },
                frequent:true,
                filter:function(event,player){
        return get.type2(event.card)!='equip';
    },
                content:function(){
        if(player.getStorage('DIY_sanwen').contains(trigger.card.name)) player.draw();
        player.markAuto('DIY_sanwen',[trigger.card.name]);
    },
                intro:{
                    content:"å·²ä½¿ç”¨è¿‡ï¼š<br>$",
                },
            },
            "DIY_qiai":{
                audio:"spqiai",
                trigger:{
                    global:"damageBegin4",
                },
                round:1,
                filter:function(event,player){
        return event.player!=player&&!event.player.hasSkill("DIY_qiai_mark");
    },
                content:function(){
        'step 0'
        var target=trigger.player;
        player.line(target,'green');
        player.swapHandcards(target);
        target.addTempSkill("DIY_qiai_mark");
        'step 1'
        var num1=player.countCards('h');
        var num2=trigger.player.countCards('h');
        if(num1>num2) trigger.player.recover();
        if(num1<num2) trigger.player.draw();
    },
                ai:{
                    expose:0.5,
                },
                group:["DIY_qiai_roundcount"],
            },
            "DIY_denglou":{
                unique:true,
                audio:"xinfu_denglou",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter"],
                },
                round:1,
                filter:function (event,player){
        if(player.countCards('h')) return false;
        var evt=event.getl(player);
        return evt&&evt.hs&&evt.hs.length;
    },
                content:function (){
        "step 0"
        var num1=trigger.getl(player).hs.length;
        var num2=Math.min(16,num1*4);
        event.cards=get.cards(num2);
        event.gains=[]
        event.discards=[]
        var content=['ç‰Œå †é¡¶çš„'+get.cnNumber(num2)+'å¼ ç‰Œ',event.cards];
        game.log(player,'è§‚çœ‹äº†','#yç‰Œå †é¡¶çš„'+get.cnNumber(num2)+'å¼ ç‰Œ');
        player.chooseControl('ok').set('dialog',content);
        "step 1"
        if(get.type(event.cards[0])!="basic"){
            event.gains.push(event.cards[0]);
            event.cards.remove(event.cards[0]);
        }
        else{
            var bool=game.hasPlayer(function(current){
                return player.canUse(event.cards[0],current);
            });
            if(bool){
                player.chooseUseTarget(event.cards[0],true,false);
            }
            else event.discards.push(event.cards[0]);
            event.cards.remove(event.cards[0]);
        }
        "step 2"
        if(event.cards.length) event.goto(1);
        else{
            if(event.gains.length) player.gain(event.gains,'gain2');
            if(event.discards.length){
                player.$throw(event.discards);
                game.cardsDiscard(event.discards);
            }
        }
    },
                group:["DIY_denglou_roundcount"],
            },
            "DIY_qiai_mark":{
                marktext:"ä¸ƒå“€",
                mark:true,
                intro:{
                    name:"ä¸ƒå“€",
                    content:"æœ¬å›åˆå·²æˆä¸ºè¿‡ã€–ä¸ƒå“€ã€—çš„ç›®æ ‡",
                },
                locked:true,
            },
            "DIY_guolun":{
                audio:"xinfu_guolun",
                enable:"phaseUse",
                filter:function (event,player){
        return player.countCards('h')>0;
    },
                filterTarget:function (card,player,target){
        return target!=player&&target.countCards('h')&&!target.hasSkill("DIY_guolun_mark");
    },
                content:function (){
        'step 0'
        event.cardt=target.getCards('h').randomGet();
        target.showCards(event.cardt);
        player.chooseCard('he',true).ai=function(card){
            var numt=event.cardt.number;
            var att=get.attitude(player,target);
            var value=get.value(event.cardt);
            if(card.number<numt||att>2) return value+6-get.value(card);
            else if(card.number==numt) return value-get.value(card);
            return -1;
        };
        'step 1'
        if(!result.bool) event.finish();
        else{
            player.showCards(result.cards);
            event.cardp=result.cards;
        }
        'step 2'
        player.$giveAuto(event.cardp,target);
        target.gain(event.cardp,player);
        target.give(event.cardt,player);
        'step 3'
        var nump=event.cardp[0].number;
        var numt=event.cardt.number;
        if(nump<numt){
            player.draw();
            target.addTempSkill("DIY_guolun_mark");
        }
        else if(nump>numt){
            target.draw();
        }
    },
                ai:{
                    threaten:1.5,
                    order:8,
                    result:{
                        player:function (player,target){
                if(get.attitude(player,target)>0) return 1.5;
                return 0.5;
            },
                    },
                },
            },
            "DIY_songsang":{
                limited:true,
                unique:true,
                init:function (player){
        player.storage.DIY_songsang=false;
    },
                skillAnimation:true,
                animationColor:"wood",
                audio:"xinfu_songsang",
                derivation:"xinlianhuan",
                trigger:{
                    global:"dying",
                },
                filter:function (event,player){
        if(player.storage.DIY_songsang==true) return false;
        return true;
    },
                content:function (){
        player.awakenSkill('DIY_songsang');
        player.gainMaxHp();
        player.recover();
        player.storage.DIY_songsang=true;
    },
                mark:true,
                intro:{
                    content:"limited",
                },
            },
            "DIY_zhanji":{
                audio:"xinfu_zhanji",
                trigger:{
                    player:"gainAfter",
                },
                forced:true,
                filter:function (event,player){
        return event.getParent(2).name!='DIY_zhanji'&&event.getParent(2).name!='xinfu_zhanji'&&event.getParent(2).name!='zishu_draw';
    },
                content:function (){
        player.draw('nodelay');
    },
            },
            "DIY_guolun_mark":{
                marktext:"è®º",
                mark:true,
                intro:{
                    name:"è®º",
                    content:"å…±æœ‰ä¸€æšæ ‡è®°",
                },
                locked:true,
            },
            "DIY_qiaoshi":{
                audio:"qiaoshi",
                trigger:{
                    global:"phaseUseBegin",
                },
                filter:function(event,player){
        return event.player!=player&&event.player.isAlive();
    },
                check:function(event,player){
        return get.attitude(player,event.player)>=0;
    },
                logTarget:"player",
                content:function(){
                    var card=get.cardPile(function(card){
                    return card.name=='sha';
                });
                if(card) trigger.player.gain(card,'gain2');
            game.asyncDraw([player]);
    },
                ai:{
                    expose:0.1,
                },
            },
            "DIY_yanyu_sha":{
                audio:"yanyu",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                prompt:"æ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥æ”¹ä¸ºè·å¾—ä¸¤å¼ ã€æ€ã€‘ï¼Œè‹¥å¦‚æ­¤åšï¼Œæœ¬å›åˆçš„å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥é‡é“¸ä»»æ„å¼ ã€æ€ã€‘å¹¶äºå›åˆç»“æŸæ‘¸ç­‰é‡çš„ç‰Œ",
                filter:function(event,player){
        return !event.numFixed;
    },
                content:function(){
        "step 0"
        trigger.changeToZero();
        "step 1"
        var cards=[];
        for(var i=0;i<2;i++){
            cards.push(game.createCard('sha'));
        }
        player.gain(cards,'gain2');
        player.addTempSkill("DIY_yanyu_phaseUse");
    },
                ai:{
                    threaten:1.2,
                },
            },
            "DIY_yanyu_phaseUse":{
                audio:"yanyu",
                enable:"phaseUse",
                filter:function(event,player){
        return player.countCards('h','sha')>0;
    },
                filterCard:{
                    name:"sha",
                },
                prepare:function(cards,player){
        game.log(player,'å°†',cards,'ç½®å…¥äº†å¼ƒç‰Œå †');
    },
                loseTo:"discardPile",
                visible:true,
                delay:0.5,
                content:function(){
        player.draw();
        player.addMark("DIY_yanyu_draw",1,false);
    },
                ai:{
                    basic:{
                        order:1,
                    },
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_yanyu":{
                audio:"yanyu",
                group:["DIY_yanyu_sha","DIY_yanyu_draw","DIY_yanyu_man"],
            },
            "DIY_yanyu_draw":{
                audio:"yanyu",
                marktext:"ç‡•è¯­",
                intro:{
                    name:"ç‡•è¯­",
                    content:"æœ¬å›åˆå·²é‡é“¸$å¼ ã€æ€ã€‘",
                },
                trigger:{
                    player:"phaseJieshuBegin",
                },
                frequent:true,
                preHidden:true,
                filter:function(event,player){
        return player.countMark('DIY_yanyu_draw')>0;
    },
                content:function(){
                    var num=Math.min(3,player.countMark('DIY_yanyu_draw'));
                    player.draw(num);
                    player.removeMark('DIY_yanyu_draw',player.countMark('DIY_yanyu_draw'),false);
                },
            },
            "DIY_yanyu_man":{
                audio:"yanyu",
                trigger:{
                    player:["useCard","respond"],
                },
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(event.cards){
            for(var i=0;i<event.cards.length;i++){
                if(get.position(event.cards[i],true)=='o') return true;
            }
        }
        return false;
    },
                frequent:true,
                content:function(){
        'step 0'
        cards=trigger.cards.slice(0);
        for(var i=0;i<cards.length;i++){
            if(get.position(cards[i],true)!='o'){
                cards.splice(i--,1);
            }
        }
        player.chooseTarget(true,'é€‰æ‹©ä¸€åè§’è‰²è·å¾—ä¸€å¼ ã€æ€ã€‘').set('ai',function(target){
            return get.attitude(_status.event.player,target);
        }).set('source',trigger.targets);
        'step 1'
        if(result.bool){
        var targets=result.targets[0]
        player.line(target,'green');
        var card=get.cardPile(function(card){
            return card.name=='sha';
        });
        if(card) targets.gain(card,'gain2');
        }
    },
            },
            "DIY_xunxun":{
                audio:"xunxun",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                preHidden:true,
                content:function(){
        "step 0"
        var num=Math.max(4,game.players.length);
        var cards=get.cards(num);
        game.cardsGotoOrdering(cards);
        var next=player.chooseToMove('æ‚æ‚ï¼šå°†ä¸¤å¼ ç‰Œç½®äºç‰Œå †é¡¶',true);
        next.set('list',[
            ['ç‰Œå †é¡¶',cards],
            ['ç‰Œå †åº•'],
        ]);
        next.set('filterMove',function(from,to,moved){
            if(to==1&&moved[1].length>=num-2) return false;
            return true;
        });
        next.set('filterOk',function(moved){
            return moved[1].length==num-2;
        });
        next.set('processAI',function(list){
            var cards=list[0][1].slice(0).sort(function(a,b){
                return get.value(b)-get.value(a);
            });
            return [cards,cards.splice(num-2)];
        })
        'step 1'
        var top=result.moved[0];
        var bottom=result.moved[1];
        top.reverse();
        for(var i=0;i<top.length;i++){
            ui.cardPile.insertBefore(top[i],ui.cardPile.firstChild);
        }
        for(i=0;i<bottom.length;i++){
            ui.cardPile.appendChild(bottom[i]);
        }
        game.updateRoundNumber();
        game.delayx();
    },
            },
            "DIY_wangxi":{
                audio:"wangxi",
                trigger:{
                    player:"damageEnd",
                    source:"damageSource",
                },
                filter:function(event){
        if(event._notrigger.contains(event.player)) return false;
        return event.num&&event.source&&event.player&&
        event.player.isAlive()&&event.source.isAlive()&&event.source!=event.player;
    },
                check:function(event,player){
        if(player.isPhaseUsing()) return true;
        if(event.player==player) return get.attitude(player,event.source)>-3;
        return get.attitude(player,event.player)>-3;
    },
                logTarget:function(event,player){
        if(event.player==player) return event.source;
        return event.player;
    },
                preHidden:true,
                content:function(){
        "step 0"
        event.count=trigger.num;
        "step 1"
        list=[player];
        if(trigger.player.countCards('h')>trigger.source.countCards('h')) list.push(trigger.source);
        if(trigger.source.countCards('h')>trigger.player.countCards('h')) list.push(trigger.player);
        game.asyncDraw(list);
        event.count--;
        "step 2"
        game.delay();
        "step 3"
        if(event.count){
            player.chooseBool(get.prompt2('DIY_wangxi',lib.skill.DIY_wangxi.logTarget(trigger,player)))
        }
        else event.finish();
        "step 4"
        if(result.bool){
            player.logSkill('DIY_wangxi',lib.skill.DIY_wangxi.logTarget(trigger,player));
            event.goto(1);
        }
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                },
            },
            "DIY_jili":{
                audio:"jili",
                trigger:{
                    global:"useCardToTargeted",
                },
                forced:true,
                filter:function(event,player){
        if(!event.targets) return false;
        if(event.player==player) return false;
        if(event.targets.contains(player)) return false;
        if(get.info(event.card).multitarget) return false;
        var type=get.type(event.card);
        if(type!='basic'&&type!='trick') return false;
        return true;
    },
                autodelay:true,
                content:function(){
        player.logSkill('DIY_jili_audio');
        player.logSkill('DIY_jili_audio');
        player.logSkill('DIY_jili_audio');
        trigger.getParent().targets.add(player);
        trigger.player.line(player,'green');
    },
            },
            "DIY_zhidao":{
                audio:"zhidao",
                trigger:{
                    target:"useCardToTargeted",
                },
                logTarget:"player",
                forced:true,
                preHidden:true,
                filter:function(event,player){
        var source=event.player;
        if(source==player) return false;
        if(source.countCards('hej')==0) return false;
        return true;
    },
                content:function(){
        var card=trigger.player.getCards('hej').randomGet();
        player.gain(card,trigger.player,'giveAuto','bySelf');
    },
            },
            "DIY_jili_audio":{
                audio:"jili",
            },
            "DIY_shensu":{
                group:["DIY_shensu1","DIY_shensu2","DIY_shensu3","DIY_shensu4","DIY_shensu_sha"],
                audio:"shensu1",
            },
            "DIY_shebian":{
                audio:"shebian",
                group:"DIY_shebian_over",
                trigger:{
                    global:["turnOverEnd","linkEnd","showCharacterEnd","hideCharacterEnd","removeCharacterEnd"],
                },
                check:function(event,player){
        return player.canMoveCard(true,true);
    },
                filter:function(event,player){
        return player.canMoveCard(null,true);
    },
                content:function(){
        player.moveCard();
    },
            },
            "DIY_shensu_sha":{
                audio:"shensu1",
                trigger:{
                    player:["phaseJudgeSkipped","phaseJudgeCancelled","phaseDrawSkipped","phaseDrawCancelled","phaseUseSkipped","phaseUseCancelled","phaseDiscardSkipped","phaseDiscardCancelled"],
                },
                direct:true,
                content:function(){
        "step 0"
        if(player.isMinHandcard()) player.draw();
        if(player.isMinHp()) player.recover();
        var check= player.countCards('h')>2;
        player.chooseTarget(get.prompt("shensu"),"è§†ä¸ºå¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘",function(card,player,target){
            if(player==target) return false;
            return player.canUse({name:'sha'},target,false);
        }).set('check',check).set('ai',function(target){
            if(!_status.event.check) return 0;
            return get.effect(target,{name:'sha'},_status.event.player);
        }).setHiddenSkill('shensu1');
        "step 1"
        if(result.bool){
            player.logSkill('shensu1',result.targets);
            player.useCard({name:'sha',isCard:true},result.targets[0],false);
        }
    },
            },
            "DIY_shensu1":{
                audio:"shensu1",
                trigger:{
                    player:"phaseJudgeBefore",
                },
                prompt:"ç¥é€Ÿï¼šæ˜¯å¦è·³è¿‡åˆ¤å®šé˜¶æ®µï¼Ÿ",
                filter:function(event,player){
                    return player.countCards('j');
                },
                content:function(){
        trigger.cancel();
        player.link();
    },
            },
            "DIY_shensu4":{
                audio:"shensu1",
                trigger:{
                    player:"phaseDiscardBefore",
                },
                prompt:"ç¥é€Ÿï¼šæ˜¯å¦è·³è¿‡å¼ƒç‰Œé˜¶æ®µï¼Ÿ",
                filter:function(event,player){
                    return player.needsToDiscard();
                },
                content:function(){
        trigger.cancel();
        player.turnOver();
    },
            },
            "DIY_shensu2":{
                audio:"shensu1",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                prompt:"ç¥é€Ÿï¼šæ˜¯å¦è·³è¿‡æ‘¸ç‰Œé˜¶æ®µï¼Ÿ",
                filter:function(event,player){
                    return !event.numFixed;
                },
                content:function(){
        trigger.cancel();
    },
            },
            "DIY_shensu3":{
                audio:"shensu1",
                trigger:{
                    player:"phaseUseBefore",
                },
                prompt:"ç¥é€Ÿï¼šæ˜¯å¦è·³è¿‡å‡ºç‰Œé˜¶æ®µï¼Ÿ",
                filter:function(event,player){
                    return player.countCards('h')>0;
                },
                content:function(){
        trigger.cancel();
    },
            },
            "DIY_shebian_over":{
                audio:"shebian",
                trigger:{
                    player:"damageEnd",
                },
                filter:function(event,player){
        return player.classList.contains('turnedover');
    },
                check:function(event,player){
        return player.isTurnedOver();
    },
                prompt:"æ˜¯å¦å‘åŠ¨ã€è®¾å˜ã€‘ï¼Œå°†æ­¦å°†ç‰Œç¿»é¢ï¼Ÿ",
                content:function(){
        player.turnOver();
    },
            },
            "DIY_qirang":{
                audio:"qirang",
                trigger:{
                    player:"equipEnd",
                },
                frequent:true,
                content:function(){
        var card=get.cardPile(function(card){
            return get.type(card,'trick')=='trick';
        });
        if(card) player.gain(card,'gain2').gaintag.add('DIY_qirang');
    },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(get.type(card)=='equip'&&!get.cardtag(card,'gifts')) return [1,3];
            },
                    },
                    threaten:1.3,
                },
                group:["DIY_qirang2","DIY_qirang_use"],
                subSkill:{
                    use:{
                        audio:"qirang",
                        trigger:{
                            player:"useCard2",
                        },
                        direct:true,
                        filter:function(event,player){
                  if(get.type(event.card)!='trick') return false;
                  var info=get.info(event.card);
                  if(info.allowMultiple==false) return false;
                  if(!player.hasHistory('lose',function(evt){
                      if(evt.getParent()!=event) return false;
                      for(var i in evt.gaintag_map){
                          if(evt.gaintag_map[i].contains('DIY_qirang')) return true;
                      }
                      return false;
                  })) return false;
                  if(!info.multitarget){
                      if(game.hasPlayer(function(current){
                          return !event.targets.contains(current)&&lib.filter.targetEnabled2(event.card,player,current)&&lib.filter.targetInRange(event.card,player,current);
                      })){
                          return true;
                      }
                  }
                  return false;
              },
                        content:function(){
                  'step 0'
                  var prompt2='ä¸º'+get.translation(trigger.card)+'å¢åŠ ä¸€ä¸ªç›®æ ‡'
                  player.chooseTarget(get.prompt('DIY_qirang'),function(card,player,target){
                      var player=_status.event.player;
                      if(_status.event.targets.contains(target)) return false;
                      return lib.filter.targetEnabled2(_status.event.card,player,target)&&lib.filter.targetInRange(_status.event.card,player,target);
                  }).set('prompt2',prompt2).set('ai',function(target){
                      var trigger=_status.event.getTrigger();
                      var player=_status.event.player;
                      return get.effect(target,trigger.card,player,player)*(_status.event.targets.contains(target)?-1:1);
                  }).set('targets',trigger.targets).set('card',trigger.card);
                  'step 1'
                  if(result.bool){
                      if(!event.isMine()&&!event.isOnline()) game.delayx();
                      event.targets=result.targets;
                  }
                  else{
                      event.finish();
                  }
                  'step 2'
                  if(event.targets){
                      player.logSkill('DIY_qirang_use',event.targets);
                      trigger.targets.addArray(event.targets);
                  }
              },
                        sub:true,
                    },
                },
            },
            "DIY_yuhua":{
                audio:"yuhua",
                trigger:{
                    global:["loseEnd","discardAfter"],
                },
                filter:function(event,player){
        if(event.player==player) return false;
        if(event.name=='lose'&&event.parent.name!='equip') return false;
        for(var i=0;i<event.cards.length;i++){
            if(get.type(event.cards[i])=='equip'&&get.position(event.cards[i])=='d'){
                return true;
            }
        }
    },
                frequent:true,
                content:function(){
        "step 0"
        if(trigger.delay==false) game.delay();
        "step 1"
        var cards=[];
        for(var i=0;i<trigger.cards.length;i++){
            if(get.type(trigger.cards[i])=='equip'&&get.position(trigger.cards[i])=='d'){
                cards.push(trigger.cards[i]);
            }
        }
        if(cards.length){
            player.gain(cards,'gain2','log');
        }
    },
                mod:{
                    ignoredHandcard:function(card,player){
            if(get.type(card)!='basic'){
                return true;
            }
        },
                    cardDiscardable:function(card,player,name){
            if(name=='phaseDiscard'&&get.type(card)!='basic') return false;
        },
                },
            },
            "DIY_qirang2":{
                audio:"qirang",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter"],
                },
                frequent:true,
                filter:function(event,player){
        var evt=event.getl(player);
        return evt&&evt.player==player&&evt.es&&evt.es.length>0;
    },
                content:function(){
                "step 0"
        event.count=trigger.getl(player).es.length;
                "step 1"
        event.count--;
        var card=get.cardPile(function(card){
            return get.type(card,'basic')=='basic';
        });
        if(card) player.gain(card,'gain2');
                "step 2"
        if(event.count>0){
            player.chooseBool(get.prompt2('DIY_qirang')).set('frequentSkill','DIY_qirang').ai=lib.filter.all;
        }
        else event.finish();
                "step 3"
        if(result.bool){
            player.logSkill('DIY_qirang');
            event.goto(1);
        }
    },
                ai:{
                    noe:true,
                    reverseEquip:true,
                    effect:{
                        target:function(card,player,target,current){
                if(get.type(card)=='equip'&&!get.cardtag(card,'gifts')) return [1,3];
            },
                    },
                },
            },
            "DIY_fenxun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                position:"he",
                filterCard:true,
                selectCard:function(card,player,target){
                    var num=_status.event.player.getHistory('custom',function(evt){
                        return evt.DIY_fenxun==true;
                    }).length;
                    return num;
                },
                check:function(card,player,target){
                    return 6-get.value(card);
                },
                filterTarget:function(card,player,target){
                    return target!=player&&!target.hasSkill("DIY_fenxun_1");
                },
                content:function(){
                    player.line(target,'yellow');
                    player.markAuto('DIY_fenxun_2',targets);
                    player.addSkill('DIY_fenxun_2');
                    target.addSkill('DIY_fenxun_1');
                    target.storage.DIY_fenxun_1=player;
                    player.getHistory('custom').push({DIY_fenxun:true});
                },
                ai:{
                    order:6.5,
                    result:{
                        player:function(player,target){
                            if(get.distance(player,target)<=1) return 0;
                            var hs=player.getCards('h','shunshou');
                            if(hs.length&&player.canUse(hs[0],target,false)){
                                return 1;
                            }
                            var geteff=function(current){
                                return player.canUse('sha',current,false,true)&&get.effect(current,{name:'sha'},player,player)>0;
                            }
                            if(player.hasSha()&&geteff(target)){
                                var num=game.countPlayer(function(current){
                                    return current!=player&&get.distance(player,current)<=1&&geteff(current);
                                });
                                if(num==0){
                                    if(game.hasPlayer(function(current){
                                        return player.canUse('sha',current)&&geteff(current)&&current!=target;
                                    })){
                                        return 1;
                                    }
                                }
                                else if(num==1){
                                    return 1;
                                }
                            }
                            return 0;
                        },
                    },
                },
                subSkill:{
                    "1":{
                        marktext:"å¥‹è¿…",
                        mark:true,
                        intro:{
                            content:"è®¡ç®—è·ç¦»æ—¶ï¼Œè§†ä¸ºåœ¨$çš„ä½ç½®",
                        },
                        mod:{
                            globalFrom:function(from,to,distance){
                                return get.distance(from.storage.DIY_fenxun_1,to);
                            },
                            globalTo:function(from,to,distance){
                                return get.distance(to.storage.DIY_fenxun_1,from);
                            },
                        },
                        sub:true,
                    },
                    "2":{
                        audio:"fenxun",
                        trigger:{
                            player:"phaseZhunbei",
                        },
                        marktext:"å¥‹è¿…",
                        onremove:true,
                        intro:{
                            content:"åˆ°$çš„è·ç¦»è§†ä¸º1",
                        },
                        mod:{
                            globalFrom:function(from,to){
                                if(from.storage.DIY_fenxun_2.contains(to)){
                                    return -Infinity;
                                }
                            },
                        },
                        forced:true,
                        direct:true,
                        content:function(){
                player.removeSkill('DIY_fenxun_2');
                game.countPlayer(function(current){
                    if(current.hasSkill("DIY_fenxun_1")){
                        current.removeSkill('DIY_fenxun_1');
                    }
                });
            },
                        sub:true,
                    },
                    "3":{
                        audio:"fenxun",
                        trigger:{
                            player:"phaseDiscardBegin",
                        },
                        forced:true,
                        content:function(){
                    var num=game.players.length-player.countMark("DIY_fenxun_2");
                    if(num>0) player.chooseToDiscard('he',num,true);
                    player.removeMark("DIY_fenxun_2",Infinity,false);
            },
                        sub:true,
                    },
                },
            },
            "DIY_duanbing":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard2",
                },
                forced:true,
                content:function(){
        trigger.directHit.addArray(game.filterPlayer(function(current){
            return current!=player&&player.countCards('e')<=current.countCards('e');
        }));
    },
                group:"DIY_duanbing_sha",
                subSkill:{
                    sha:{
                        audio:"DIY_duanbing",
                        trigger:{
                            player:"useCardToPlayered",
                        },
                        prompt:"çŸ­å…µï¼šæ˜¯å¦ä½¿ç›®æ ‡è£…å¤‡å¤±æ•ˆï¼Ÿ",
                        filter:function(event,player){
                return event.card.name=='sha'&&get.distance(player,event.target)<=1;
            },
                        logTarget:"target",
                        content:function(){
                trigger.target.addTempSkill('qinggang2');
                trigger.target.storage.qinggang2.add(trigger.card);
            },
                        ai:{
                            "directHit_ai":true,
                            skillTagFilter:function(player,tag,arg){
            return get.distance(player,arg.target)<=1;
        },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_shenliu_jieying":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                locked:true,
                global:["DIY_shenliu_jieying_1","DIY_shenliu_jieying_3","DIY_shenliu_jieying_4"],
                ai:{
                    effect:{
                        target:function(card){
                if(card.name=='tiesuo') return 'zeroplayertarget';
            },
                    },
                },
                group:["DIY_shenliu_jieying_1","DIY_shenliu_jieying_2","DIY_shenliu_jieying_3","DIY_shenliu_jieying_4"],
                subSkill:{
                    "1":{
                        mod:{
                            maxHandcard:function (player,num){
            if(game.countPlayer(function(current){return current.hasSkill('DIY_shenliu_jieying')})>0&&player.hasMark('DIY_shenliu_jieying_1')) return num+2;
        },
                        },
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        trigger:{
                            global:"gameDrawAfter",
                            player:["linkBefore","showCharacterAfter","enterGame"],
                        },
                        direct:true,
                        marktext:"è¥",
                        intro:{
                            content:"ç»“è¿è¥ä¹‹ç­–ï¼Œæ‹’æš´è™ä¹‹è´¼ï¼",
                        },
                        forced:true,
                        filter:function(event,player){
                if(event.name=='link') return player.isLinked();
                return (event.name!='phase'||game.phaseNumber==0)&&!player.isLinked();
            },
                        content:function(){
                game.countPlayer(function(current){
                    if(current.hasSkill("DIY_shenliu_jieying")){
                        current.line(player,'yellow');
                        current.logSkill('DIY_shenliu_jieying',player);
                    }
                });
                if(trigger.name!='link') player.link(true);
                else trigger.cancel();
            },
                        ai:{
                            effect:{
                                target:function(card){
                if(card.name=='tiesuo') return 'zeroplayertarget';
            },
                            },
                        },
                        sub:true,
                    },
                    "2":{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        trigger:{
                            player:"phaseJieshuBegin",
                        },
                        direct:true,
                        filter:function(event,player){
                return game.hasPlayer(function(current){
                    return current!=player;
                });
            },
                        content:function(){
                "step 0"
                player.chooseTarget(true,'è¯·é€‰æ‹©ã€ç»“è¥ã€‘çš„ç›®æ ‡',function(card,player,target){
                    return target!=player;
                }).ai=function(target){
                    return 1+Math.random();
                };
                "step 1"
                if(result.bool){
                    result.targets[0].addMark('DIY_shenliu_jieying_1',1,false);
                    player.addMark('DIY_shenliu_jieying_1',1,false);
                    player.logSkill('DIY_shenliu_jieying');
                }else{
                    event.finish();
                };
            },
                        sub:true,
                    },
                    "3":{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        trigger:{
                            player:"phaseDrawBegin2",
                        },
                        direct:true,
                        filter:function(event,player){
                return player.countMark("DIY_shenliu_jieying_1")>0;
            },
                        content:function(){
                trigger.num+=2;
                game.countPlayer(function(current){
                    if(current.hasSkill("DIY_shenliu_jieying")){
                        current.line(player,'yellow');
                        current.logSkill('DIY_shenliu_jieying',player);
                    }
                });
            },
                        sub:true,
                    },
                    "4":{
                        trigger:{
                            player:"damageEnd",
                        },
                        direct:true,
                        filter:function(event,player){
                            if(player.hasSkill("DIY_guying")) return false;
                            if(event.nature=='fire'&&player.countMark("DIY_shenliu_jieying_1")>0) return true;
                return false;
            },
                        content:function(){
                player.removeMark('DIY_shenliu_jieying_1',1,false);
                game.countPlayer(function(current){
                    if(current.hasSkill("DIY_shenliu_jieying")){
                        current.line(player,'yellow');
                        current.logSkill('DIY_shenliu_jieying',player);
                    }
                });
            },
                        sub:true,
                    },
                },
            },
            "DIY_longnu":{
                mark:true,
                locked:true,
                marktext:"é¾™",
                intro:{
                    content:function(storage,player,skill){
            if(player.storage.DIY_longnu==true) return 'é”å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ è·å¾—å¦‚ä¸‹æ•ˆæœç›´è‡³å›åˆç»“æŸï¼šä½ çš„é”¦å›Šç‰Œå‡è§†ä¸ºé›·æ€ä¸”æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ã€‚';
            return 'é”å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ è·å¾—å¦‚ä¸‹æ•ˆæœç›´è‡³å›åˆç»“æŸï¼šä½ çš„çº¢è‰²æ‰‹ç‰Œå‡è§†ä¸ºç«æ€ä¸”æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ã€‚';
        },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseUseBegin",
                },
                frequent:true,
                content:function(){
        'step 0'
        player.draw();
        'step 1'
        if(player.storage.DIY_longnu==true){
            player.storage.DIY_longnu=false;
            player.addTempSkill('DIY_longnu_2');
        }
        else{
            player.storage.DIY_longnu=true;
            player.addTempSkill('DIY_longnu_1');
        };
    },
                subSkill:{
                    "1":{
                        mod:{
                            cardname:function(card,player){
                    if(get.color(card)=='red') return 'sha';
                },
                            cardnature:function(card,player){
                    if(get.color(card)=='red') return 'fire';
                },
                            targetInRange:function(card){
                    if(get.color(card)=='red') return true;
                },
                            cardUsable:function(card,player){
                    if(get.color(card)=='red') return Infinity;
                },
                        },
                        ai:{
                            effect:{
                                target:function(card,player,target,current){
                        if(get.tag(card,'respondSha')&&current<0) return 0.6
                    },
                            },
                            respondSha:true,
                        },
                        sub:true,
                    },
                    "2":{
                        mod:{
                            cardname:function(card,player){
                    if(['trick','delay'].contains(lib.card[card.name].type)) return 'sha';
                },
                            cardnature:function(card,player){
                    if(['trick','delay'].contains(lib.card[card.name].type)) return 'thunder';
                },
                            cardUsable:function(card,player){
                    if(card.name=='sha'&&card.nature=='thunder') return Infinity;
                },
                            targetInRange:function(card){
                    if(card.name=='sha'&&card.nature=='thunder') return true;
                },
                        },
                        ai:{
                            effect:{
                                target:function(card,player,target,current){
                        if(get.tag(card,'respondSha')&&current<0) return 0.6
                    },
                            },
                            respondSha:true,
                        },
                        sub:true,
                    },
                },
                ai:{
                    fireAttack:true,
                    halfneg:true,
                    threaten:1.05,
                },
            },
            "DIY_polu":{
                audio:"polu",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                filter:function(event,player){
        if(!lib.inpile.contains('DIY_piliche')) return true;
        return !!get.cardPile(function(card){
            return card.name=='DIY_piliche';
        });
    },
                content:function(){
        var card;
        if(!lib.inpile.contains('DIY_piliche')){
            card=game.createCard2('DIY_piliche','diamond',1);
            lib.inpile.push('DIY_piliche');
        }
        else card=get.cardPile(function(card){
            return card.name=='DIY_piliche';
        });
        player.chooseUseTarget(card,true,'nopopup');
    },
                group:"DIY_polu_damage",
                subSkill:{
                    damage:{
                        trigger:{
                            player:"damageEnd",
                        },
                        audio:"polu",
                        forced:true,
                        content:function(){
                'step 0'
                event.count=trigger.num;
                'step 1'
                event.count--;
                player.draw(2);
                'step 2'
                var card=get.cardPile2(function(card){
                    return get.subtype(card,false)=='equip1'&&player.canUse(card,player);
                });
                if(card) player.chooseUseTarget(card,true,'nopopup');
                'step 3'
                if(event.count>0) event.goto(1);
            },
                        sub:true,
                    },
                },
            },
            "DIY_choulue":{
                audio:"choulve",
                trigger:{
                    player:"phaseUseBegin",
                },
                direct:true,
                filter:function(event,player){
        return game.hasPlayer(function(current){
            return current!=player&&current.countCards('he');
        })
    },
                content:function(){
        'step 0'
        var str='ä»¤ä¸€åå…¶ä»–è§’è‰²äº¤ç»™ä½ ä¸€å¼ ç‰Œ';
        var history=player.getAllHistory('damage',function(evt){
            return evt.card&&evt.card.name&&lib.card[evt.card.name];
        })
        if(history.length) event.cardname=history[history.length-1].card.name;
        if(event.cardname){
            str+='è‹¥å…¶å¦‚æ­¤åšï¼Œè§†ä¸ºä½ ä½¿ç”¨ã€'+get.translation(event.cardname)+'ã€‘';
        }
        var goon=true;
        if(event.cardname){
            goon=game.hasPlayer(function(current){
                return player.canUse(event.cardname,current)&&get.effect(current,{name:event.cardname},player,player)>0;
            });
        }
        player.chooseTarget(get.prompt('DIY_choulue'),str,function(card,player,target){
            return target!=player&&target.countCards('he');
        }).set('ai',function(target){
            if(!_status.event.goon) return 0;
            var player=_status.event.player;
            if(get.attitude(player,target)>=0&&get.attitude(target,player)>=0){
                return Math.sqrt(target.countCards('he'));
            }
            return 0;
        }).set('goon',goon);
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_choulue',target);
            target.chooseCard(true,'he','äº¤ç»™'+get.translation(player)+'ä¸€å¼ ç‰Œ',
                event.cardname?('è‹¥å¦‚æ­¤åšï¼Œè§†ä¸º'+get.translation(player)+
                'ä½¿ç”¨ã€'+get.translation(event.cardname)+'ã€‘'):null).set('ai',function(card){
                if(_status.event.goon) return 7-get.value(card);
                return 0;
            }).set('goon',get.attitude(target,player)>1);
            event.target=target;
        }
        else{
            event.finish();
        }
        'step 2'
        if(result.bool){
            event.target.give(result.cards,player);
            if(event.cardname){
                player.chooseUseTarget(event.cardname,true,false);
            }
        }
    },
            },
            "DIY_piliche":{
                trigger:{
                    source:"damageSource",
                },
                check:function(event,player){
        return get.attitude(player,event.player)*get.value(event.player.getDiscardableCards(player,'e'),event.player)>0;
    },
                filter:function(event,player){
                    if(event.player.countCards('e')<=0&&event.player.countCards('h')<=0&&event.player.isTurnedOver()) return false;
        return player!=event.player&&event.player.isIn();
    },
                logTarget:"player",
                content:function(){
        'step 0'
        var num=[1,0].randomGet();
        if(num=1){
            player.discardPlayerCard(trigger.player,'e',true,trigger.player.countCards('e'));
            event.finish();
        }
        'step 1'
        var num=[1,0].randomGet();
        if(num=1){
            player.discardPlayerCard(trigger.player,'h',true,trigger.player.countCards('h'));
        }
        'step 2'
        var num=[1,0].randomGet();
        if(num=1&&!trigger.player.isTurnedOver()){
            trigger.player.turnOver();
        }
        'step 3'
        game.delay();
        event.finish();
    },
            },
            "DIY_guying":{
                audio:"guying",
                trigger:{
                    player:"loseAfter",
                },
                mod:{
                    maxHandcard:function(player,num){
            return num+player.countMark('DIY_guying');
        },
                },
                forced:true,
                filter:function(event,player){
        var num=player.getHistory('custom',function(evt){
            return evt.DIY_guying==true;
        }).length;
        if(event.getParent(2).name=='DIY_guying') return false;
        if(num>player.hp) return false;
        if(event.type!='discard'){
            var evt=event.getParent();
            if(evt.name!='useCard'&&evt.name!='respond') return false;
        }
        var target=_status.currentPhase;
        if(!event.cards2||event.cards2.length!=1||!target||target==player||!target.isIn()) return false;
        return get.position(event.cards2[0])=='d'||target.countCards('he')<0;
    },
                logTarget:function(){
        return _status.currentPhase;
    },
                content:function(){
        'step 0'
        if(trigger.delay===false) game.delayx();
        event.target=_status.currentPhase;
        event.card=trigger.cards2[0];
        'step 1'
        player.addMark('DIY_guying',1,false);
        event.addIndex=0;
        player.gain(event.target.getCards('he').randomGet(),'giveAuto',event.target);
        player.gain(card,'gain2');
        player.getHistory('custom').push({DIY_guying:true});
        'step 2'
        if(player.isIn()&&player.getCards('h').contains(card)&&get.type(card,player)=='equip') player.chooseUseTarget(card,true,'nopopup');
    },
                onremove:true,
                intro:{
                    content:"å·²å‘åŠ¨è¿‡#æ¬¡",
                },
                group:["DIY_guying_discard","DIY_guying_jieying","DIY_guying_shenganning","DIY_guying_lianying","DIY_guying_link","DIY_guying_xiying"],
                locked:true,
                ai:{
                    effect:{
                        target:function(card){
                if(card.name=='tiesuo') return 'zeroplayertarget';
            },
                    },
                },
                subSkill:{
                    discard:{
                        audio:"guying",
                        trigger:{
                            player:"phaseEnd",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.countMark('DIY_guying')>0;
            },
                        content:function(){
                var num=player.countMark('DIY_guying');
                player.removeMark('DIY_guying',num,false);
            },
                        sub:true,
                    },
                    jieying:{
                        audio:"guying",
                        trigger:{
                            player:"phaseEnd",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.hasMark('drlt_jieying_mark');
            },
                        content:function(){
                game.countPlayer(function(current){
            if(current!=player&&current.hasSkill("drlt_jieying")&&current.isAlive()){
                player.line(current,'yellow');
                game.log(current,'çš„<font color=#68DD7F>ã€åŠ«è¥ã€‘</font>è¢«'+get.translation(player)+'é˜²æ­¢äº†');
                current.addTempSkill('DIY_guying_drlt_jieying');
            }
        });
            },
                        sub:true,
                    },
                    shenganning:{
                        audio:"guying",
                        trigger:{
                            global:"phaseEnd",
                        },
                        forced:true,
                        filter:function(event,player){
                return player!=event.player&&event.player.hasMark('drlt_jieying_mark')&&event.player.hasSkill("drlt_jieying")&&event.player.isAlive();
            },
                        content:function(){
                game.countPlayer(function(current){
            if(current!=player&&current.hasSkill("drlt_jieying")&&current.isAlive()){
                player.line(current,'yellow');
                current.removeMark('drlt_jieying_mark',trigger.player.countMark('drlt_jieying_mark'));
                player.addMark('drlt_jieying_mark',1);
                game.log(current,'ï¼Œä½ ä¸å‘åŠ¨<font color=#68DD7F>ã€åŠ«è¥ã€‘</font>ä½ ç©ä»€ä¹ˆï¼Œä»Šå¤©æˆ‘'+get.translation(player)+'å¸®ä½ <font color=#68DD7F>ã€åŠ«è¥ã€‘</font>');
            }
        });
            },
                        sub:true,
                    },
                    link:{
                        audio:"guying",
                        trigger:{
                            player:"linkBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return !player.isLinked();
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                    lianying:{
                        audio:"guying",
                        trigger:{
                            player:"phaseBegin",
                        },
                        forced:true,
                        content:function(){
                game.countPlayer(function(current){
            if(current!=player&&current.hasSkill("lianying")&&current.isAlive()){
                player.line(current,'yellow');
                game.log(current,'å› <font color=#68DD7F>ã€è¿è¥ã€‘</font>è¢«'+get.translation(player)+'åˆ¶è£');
                current.addTempSkill('DIY_guying_drlt_jieying');
            }
        });
                game.countPlayer(function(current){
            if(current!=player&&current.hasSkill("relianying")&&current.isAlive()){
                player.line(current,'yellow');
                game.log(current,'å› <font color=#68DD7F>ã€è¿è¥ã€‘</font>è¢«'+get.translation(player)+'åˆ¶è£');
                current.addTempSkill('DIY_guying_drlt_jieying');
            }
        });
            },
                        sub:true,
                    },
                    xiying:{
                        audio:"guying",
                        trigger:{
                            global:"useCard",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.hasSkill("xiying2");
            },
                        content:function(){
                game.countPlayer(function(current){
            if(current!=player&&current.hasSkill("xiying")&&current.isAlive()){
                player.line(current,'yellow');
                game.log(current,'çš„<font color=#68DD7F>ã€è¢­è¥ã€‘</font>è¢«'+get.translation(player)+'ç ´è§£äº†');
                player.removeSkill("xiying2");
                current.addTempSkill('DIY_guying_drlt_jieying');
            }
        });
            },
                        sub:true,
                    },
                },
            },
            "DIY_guying_drlt_jieying":{
                init:function(player,skill){
        player.addSkillBlocker(skill);
    },
                onremove:function(player,skill){
        player.removeSkillBlocker(skill);
    },
                charlotte:true,
                skillBlocker:function(skill,player){
                return skill!='DIY_guying_drlt_jieying';
    },
                mark:true,
                intro:{
                    content:function(storage,player,skill){
            var list=player.getSkills(null,false,false).filter(function(i){
                return lib.skill.DIY_guying_drlt_jieying.skillBlocker(i,player);
            });
            if(list.length) return 'å¤±æ•ˆæŠ€èƒ½ï¼š'+get.translation(list);
            return 'æ— å¤±æ•ˆæŠ€èƒ½';
        },
                },
            },
            "DIY_buqu":{
                trigger:{
                    player:"changeHp",
                },
                marktext:"åˆ›",
                intro:{
                    content:"å·²æœ‰#æšâ€œåˆ›â€",
                },
                mod:{
                    maxHandcard:function(player,num){
            if(player.countMark('DIY_buqu')>0) return player.countMark('DIY_buqu');
        },
                },
                audio:"buqu",
                forced:true,
                filter:function(event,player){
        return player.hp<=0&&player.countMark('DIY_buqu')<13;
    },
                content:function(){
    player.addMark('DIY_buqu',1,false);
    player.recover(1-player.hp);
    },
                group:"DIY_buqu_draw",
                subSkill:{
                    draw:{
                        audio:"buqu",
                        trigger:{
                            player:"phaseDrawBegin2",
                        },
                        forced:true,
                        filter:function(event,player){
                             return !event.numFixed&&player.countMark('DIY_buqu')>0;
                         },
                        content:function(){
                             trigger.num=player.countMark('DIY_buqu');
                         },
                        sub:true,
                    },
                },
            },
            "DIY_fenji":{
                audio:"fenji",
                trigger:{
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAfter","loseAsyncAfter"],
                },
                group:"DIY_fenji2",
                check:function(event,player){
        return get.attitude(player,event.player)>2;
    },
                filter:function(event){
        if(event.player.countCards('h')<event.player.hp&&event.player.isAlive()) return true;
        return false;
    },
                content:function(){
        "step 0"
        player.loseHp();
        "step 1"
        player.line(trigger.player,'green');
        trigger.player.draw(2);
    },
            },
            "DIY_fenji2":{
                audio:"fenji",
                trigger:{
                    global:"damageBegin4",
                },
                check:function(event,player){
        return get.attitude(player,event.player)>3;
    },
                filter:function(event,player){
        return event.player!=player&&event.num>=event.player.hp;
    },
                content:function(){
        player.loseHp();
        trigger.cancel();
    },
            },
            "DIY_gongjian":{
                audio:"gongjian",
                trigger:{
                    global:"useCardToTarget",
                },
                usable:1,
                logTarget:"target",
                filter:function(event,player){
        return event.card.name=='sha'&&event.target!=player&&event.target&&event.target.countMark('DIY_gongjian_mark')>0;
    },
                check:function(event,player){
        return get.attitude(player,event.target)<=0;
    },
                content:function(){
        'step 0'
        if(trigger.target.countMark('DIY_gongjian_mark')==1) trigger.target.addMark('DIY_gongjian_mark',1,false);
        player.discardPlayerCard(trigger.target,true,'he',2);
        'step 1'
        if(result.bool){
            var cards=result.cards.filter(function(card){
                return get.name(card,card.original=='h'?trigger.target:false)=='sha';
            });
            if(cards.length) player.gain(cards,'gain2','log');
        }
        if(trigger.target.countCards('h')==0&&_status.currentPhase.hasSkill('xinfenyue')){
            player.say(["ä¹‰çœŸ,ä½ æˆ‘åˆåŠ¿è€Œå‡»ä¹‹ï¼›åŒºåŒºè´¼å¯‡å²‚èƒ½ä¸æºƒï¼"].randomGet());
            game.log('<font color=#96CAFF>å…¬ä¼Ÿ</font>ã€<font color=#96CAFF>ä¹‰çœŸ</font>å¹¶ä»¥ä¸Šå°†ä¹‹ç•¥ï¼Œå—è„¤ä»“å’ä¹‹æ—¶ã€‚åŠå…¶åŠŸæˆå¸ˆå…‹ï¼Œå¨å£°æ»¡å¤©ä¸‹ã€‚');
            card=game.createCard2('du','spade',1);
            trigger.target.gain(card,'gain2');
        }
        if(_status.currentPhase.hasSkill('fenyue')){
            player.say(["ä¹‰çœŸ,ä½ æˆ‘åˆåŠ¿è€Œå‡»ä¹‹ï¼›åŒºåŒºè´¼å¯‡å²‚èƒ½ä¸æºƒï¼"].randomGet());
            game.log('<font color=#96CAFF>å…¬ä¼Ÿ</font>ã€<font color=#96CAFF>ä¹‰çœŸ</font>å¹¶ä»¥ä¸Šå°†ä¹‹ç•¥ï¼Œå—è„¤ä»“å’ä¹‹æ—¶ã€‚åŠå…¶åŠŸæˆå¸ˆå…‹ï¼Œå¨å£°æ»¡å¤©ä¸‹ã€‚');
            card=game.createCard2('du','spade',1);
            trigger.target.gain(card,'gain2');
        }
    },
                group:"DIY_gongjian_count",
                subSkill:{
                    count:{
                        trigger:{
                            player:"useCardToTargeted",
                        },
                        logTarget:"target",
                        forced:true,
                        charlotte:true,
                        filter:function(event,player){
                return event.card.name=='sha'&&event.target!=player&&event.target&&event.target.countMark('DIY_gongjian_mark')==0;
            },
                        content:function(){
                trigger.target.addMark('DIY_gongjian_mark',1,false);
            },
                        sub:true,
                    },
                },
            },
            "DIY_kuimang":{
                audio:"kuimang",
                trigger:{
                    global:"damage",
                },
                forced:true,
                filter:function(event,player){
        return event.player!=player&&event.player.countMark('DIY_gongjian_mark')==2;
    },
                content:function(){
        if(_status.currentPhase==player) player.draw(1);
    },
            },
            "DIY_gongjian_mark":{
                marktext:"åš",
                intro:{
                    content:function(storage,player){
                        var num=player.countMark("DIY_gongjian_mark");
                        var str='æš‚æ— ä»»ä½•æ•ˆæœ';
                        if(num>=1){
                            str='<li>å·²æˆä¸ºè¿‡ã€æ€ã€‘çš„ç›®æ ‡';
                        }
                        if(num>=2){
                            str+='<br><li>å·²æˆä¸ºè¿‡ã€–æ”»åšã€—çš„ç›®æ ‡';
                        }
                        return str;
                    },
                },
            },
            "DIY_biantian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseBegin",
                },
                forced:true,
                charlotte:true,
                content:function(){
        "step 0"
        player.judge(function(card){
            return get.color(card)!='black'?1:-1;
        }).judge2=function(result){
            return result.bool;
        };
        "step 1"
        if(result.bool){
            game.countPlayer(function(current){
            if(current.isAlive()){
                player.line(current,'green');
                game.playTLAoAudio('kuangfeng1');
                game.playTLAoAudio('kuangfeng2');
                current.addTempSkill("kuangfeng2");
            }
            });
        }
        else{
            game.countPlayer(function(current){
            if(current.isAlive()){
                player.line(current,'green');
                game.playTLAoAudio('dawu1');
                current.addTempSkill("dawu2")
            }
            });
        }
    },
                ai:{
                    expose:0.3,
                },
            },
            "DIY_zhuiji":{
                mod:{
                    globalFrom:function(from,to){
                        var history=from.getAllHistory('useCard',function(evtx){
                            return evtx.card.name=='sha'
                        });
                        if(history.length>0){
                            var targets=history[history.length-1].targets;
                            if(targets.contains(to)){
                                return -Infinity;
                            }
                        }
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard",
                },
                forced:true,
                charlotte:true,
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        var history=player.getAllHistory('useCard',function(evtx){
                return evtx.card.name=='sha'
        });
        if(history.length<2) return false;
        var targets=history[history.length-2].targets;
        return game.hasPlayer(function(current){
            return !event.targets.contains(current)&&targets.contains(current);
        });
    },
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt('DIY_zhuiji'),'ä¸º'+get.translation(trigger.card)+'å¢åŠ ä¸€ä¸ªç›®æ ‡',function(card,player,target){
            var history=player.getAllHistory('useCard',function(evtx){
                return evtx.card.name=='sha'
            });
            if(history.length<2) return false;
            var targets=history[history.length-2].targets;
            return !_status.event.sourcex.contains(target)&&targets.contains(target);
        }).set('sourcex',trigger.targets).set('ai',function(target){
            var player=_status.event.player;
            return get.effect(target,_status.event.card,player,player);
        }).set('card',trigger.card).setHiddenSkill(event.name);
        'step 1'
        if(result.bool){
            if(!event.isMine()&&!event.isOnline()) game.delayx();
            event.target=result.targets[0];
        }
        else{
            event.finish();
        }
        'step 2'
        player.logSkill('DIY_zhuiji',event.target);
        trigger.targets.push(event.target);
    },
            },
            "DIY_shichou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardAfter",
                },
                usable:1,
                mod:{
                    cardUsable:function(card,player,num){
                        if(card.name=='sha') return num+1;
                    },
                    targetInRange:function(card,player){
                        if(card.name=='sha'&&player.countUsed('sha',true)==0) return true;
                    },
                },
                forced:true,
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        return !player.getHistory('sourceDamage',function(evt){
            return evt.card==event.card;
        }).length&&event.cards.filterInD().length>0;
    },
                content:function(){
        player.gain(trigger.cards.filterInD(),'gain2');
    },
            },
            "DIY_tieqi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                enable:"phaseUse",
                position:"he",
                filterTarget:function(card,player,target){
        return target!=player;
    },
                filter:function(event,player){
        return get.skillCount('DIY_tieqi',player)<game.countGroup();
    },
                content:function(){
        'step 0'
        target.addTempSkill('fengyin');
        'step 1'
        if(player.inRange(target)){
            player.useCard({name:'sha'},target,false);
        }
        else{
            player.discardPlayerCard(target,1,'he',true);
        }
    },
                group:"DIY_tieqi_sha",
                subSkill:{
                    sha:{
                        shaRelated:true,
                        audio:"DIY_tieqi",
                        trigger:{
                            player:"useCardToPlayered",
                        },
                        check:function(event,player){
                            return get.attitude(player,event.target)<=0;
                        },
                        filter:function(event,player){
                            return event.card.name=='sha'&&event.target.countCards('he')>1;
                        },
                        logTarget:"target",
                        content:function(){
                            'step 0'
                            player.choosePlayerCard(get.prompt('DIY_tieqi',trigger.target),'he',trigger.target,2,true);
                            'step 1'
                            if(result.bool&&result.cards.length==2&&get.color(result.cards[0],result.cards[0].original=='h'?trigger.target:false)!=get.color(result.cards[1],result.cards[1].original=='h'?trigger.target:false)){
                                player.showCards(result.cards);
                                trigger.getParent().directHit.add(trigger.target);
                            }
                            else{
                                player.showCards(result.cards);
                                player.gain(result.cards,'gain2','log');
                            }
                        },
                        sub:true,
                    },
                },
                check:function(card){
        return 6-get.value(card);
    },
                filterCard:true,
                ai:{
                    order:4,
                    result:{
                        return:-1,
                    },
                },
            },
            "DIY_machaocaidan":{
                trigger:{
                    global:"gameDrawAfter",
                },
                filter:function(event,player){
        if(game.hasPlayer(function(current){
             return current.name1=='caocao';
        })) return true;
        if(game.hasPlayer(function(current){
             return current.name1=='re_caocao';
        })) return true;
        if(game.hasPlayer(function(current){
             return current.name1=='shen_caocao';
        })) return true;
        return false;
    },
                forced:true,
                charlotte:true,
                content:function(){
    player.say(["æ›¹è´¼ï¼æ¶è´¼ï¼å¥¸è´¼ï¼é€†è´¼ï¼<br>æ›¹è´¼ï¼ä½ ä¹Ÿæœ‰è„¸ææœå»·äºŒå­—å—ï¼<br>ä½ æ¬ºå›ç½”ä¸Š æ€æˆ‘çˆ¶å…„<br>æˆ‘èª“å½“ç”Ÿæ“’æ± é£Ÿæ±è‚‰ å¯æ±çš®"].randomGet());
    var card=get.cardPile(function(card){
        return card.name=='sha';
    });
    if(card) player.gain(card,'gain2');
    player.gainMaxHp();
    player.recover();
        game.countPlayer(function(current){
            if(current!=player&&current.name1=='shen_caocao'){
                player.line(current,'yellow');
                player.useCard({name:'sha',isCard:true},current,false,'noai');
            }
        });
        game.countPlayer(function(current){
            if(current!=player&&current.name1=='re_caocao'){
                player.line(current,'yellow');
                player.useCard({name:'sha',isCard:true},current,false,'noai');
            }
        });
        game.countPlayer(function(current){
            if(current!=player&&current.name1=='caocao'){
                player.line(current,'yellow');
                player.useCard({name:'sha',isCard:true},current,false,'noai');
            }
        });
    ui.backgroundMusic.src=lib.assetURL+'extension/å¤©ç‰¢ä»¤/840229455.mp3'
    },
            },
            "DIY_kunfen":{
                audio:"kunfen",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                direct:true,
                content:function(){
        player.logSkill('DIY_kunfen');
        player.loseHp();
        player.draw(2);
    },
                ai:{
                    threaten:1.5,
                },
            },
            "DIY_fengliang":{
                skillAnimation:true,
                animationColor:"thunder",
                unique:true,
                juexingji:true,
                audio:"fengliang",
                derivation:["DIY_tiaoxin","DIY_zhiji","DIY_guanxing"],
                trigger:{
                    player:"dying",
                },
                forced:true,
                charlotte:true,
                content:function(){
        "step 0"
        player.gainMaxHp();
        "step 1"
        player.recover(player.maxHp-player.hp);
        "step 2"
        player.addSkill('DIY_tiaoxin');
        player.addSkill('DIY_zhiji');
        player.changeGroup("shu");
        player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_jiangwei.jpg');
        player.removeSkill('DIY_kunfen');
        player.awakenSkill('DIY_fengliang');
        
    },
            },
            "DIY_tiaoxin":{
                audio:"tiaoxin",
                audioname:["sp_jiangwei","xiahouba","re_jiangwei","gz_jiangwei","ol_jiangwei"],
                enable:"phaseUse",
                usable:2,
                filter:function(event,player){
        if(player.getStat('skill').oltiaoxin) return !player.hasSkill('oltiaoxin2');
        return true;
    },
                filterTarget:function(card,player,target){
        return target!=player&&target.inRange(player)&&target.countCards('he')>0;
    },
                content:function(){
        "step 0"
        target.chooseToUse(function(card,player,event){
            if(get.name(card)!='sha') return false;
            return lib.filter.filterCard.apply(this,arguments);
        },'æŒ‘è¡…ï¼šå¯¹'+get.translation(player)+'ä½¿ç”¨ä¸€å¼ æ€ï¼Œæˆ–ä»¤å…¶å¼ƒç½®ä½ çš„ä¸€å¼ ç‰Œ').set('targetRequired',true).set('complexSelect',true).set('filterTarget',function(card,player,target){
            if(target!=_status.event.sourcex&&!ui.selected.targets.contains(_status.event.sourcex)) return false;
            return lib.filter.filterTarget.apply(this,arguments);
        }).set('sourcex',player);
        "step 1"
        if(result.bool&&player.getHistory('damage',function(evt){
            return evt.getParent().type=='card'&&evt.getParent(4)==event;
        }).length>0) player.addTempSkill('oltiaoxin2','phaseUseEnd');
        else if(target.countDiscardableCards(player,'he')>0) player.discardPlayerCard(target,'he',true).boolline=true;
    },
                ai:{
                    order:4,
                    expose:0.2,
                    result:{
                        target:-1,
                        player:function(player,target){
                if(target.countCards('h')==0) return 0;
                if(target.countCards('h')==1) return -0.1;
                if(player.hp<=2) return -2;
                if(player.countCards('h','shan')==0) return -1;
                return -0.5;
            },
                    },
                    threaten:1.1,
                },
                group:"DIY_tiaoxin_2",
                subSkill:{
                    "2":{
                        audio:"tiaoxin",
                        trigger:{
                            global:"phaseEnd",
                        },
                        filter:function(event,player){
        if(event.player==player||!event.player.isAlive()) return false;
        var history=event.player.getHistory('useCard');
        for(var i=0;i<history.length;i++){
            if(history[i].card.name=='sha'&&history[i].isPhaseUsing()) return false;
        }
        return true;
    },
                        content:function(){
        "step 0"
        trigger.player.chooseToUse(function(card,player,event){
            if(get.name(card)!='sha') return false;
            return lib.filter.filterCard.apply(this,arguments);
        },'æŒ‘è¡…ï¼šå¯¹'+get.translation(player)+'ä½¿ç”¨ä¸€å¼ æ€ï¼Œæˆ–ä»¤å…¶å¼ƒç½®ä½ çš„ä¸€å¼ ç‰Œ').set('targetRequired',true).set('complexSelect',true).set('filterTarget',function(card,player,target){
            if(target!=_status.event.sourcex&&!ui.selected.targets.contains(_status.event.sourcex)) return false;
            return lib.filter.filterTarget.apply(this,arguments);
        }).set('sourcex',player);
        "step 1"
        if(result.bool&&player.getHistory('damage',function(evt){
            return evt.getParent().type=='card'&&evt.getParent(4)==event;
        }).length>0) player.addTempSkill('oltiaoxin2','phaseUseEnd');
        else if(trigger.player.countDiscardableCards(player,'he')>0) player.discardPlayerCard(trigger.player,'he',true).boolline=true;
    },
                        sub:true,
                    },
                },
            },
            "DIY_zhiji":{
                skillAnimation:true,
                animationColor:"fire",
                audio:"zhiji",
                unique:true,
                juexingji:true,
                derivation:"DIY_guanxing",
                trigger:{
                    global:"phaseZhunbeiBegin",
                },
                forced:true,
                filter:function(event,player){
        if(player.storage.DIY_zhiji) return false;
        return player.countCards('h')==0||player.hp<=1;
    },
                content:function(){
        "step 0"
        player.gainMaxHp();
        player.awakenSkill('DIY_zhiji');
        "step 1"
        player.chooseDrawRecover(2,true);
        player.storage.DIY_zhiji=true;
        if(player.hp>player.maxHp) player.hp=player.maxHp;
        player.update();
        player.addSkill('DIY_guanxing');
        player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_jiangwei2.jpg');
    },
            },
            "DIY_guanxing":{
                trigger:{
                    global:["drawBegin","judgeBegin"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                direct:true,
                filter:function(){
        return ui.cardPile.childNodes.length>0;
    },
                content:function(){
        'step 0'
        player.logSkill("DIY_guanxing");
        player.chooseButton(['è§‚æ˜Ÿï¼šè¯·é€‰æ‹©è¦ç½®äºç‰Œå †'+(trigger.bottom?'åº•':'é¡¶')+'çš„ç‰Œï¼ˆå…ˆé€‰æ‹©çš„åœ¨ä¸Šï¼‰',Array.from(ui.cardPile.childNodes)],[1,trigger.num||1]);
        'step 1'
        if(result.bool){
            while(result.links.length){
                if(trigger.bottom){
                    var card=result.links.shift();
                    ui.cardPile.removeChild(card);
                    ui.cardPile.appendChild(card);
                }
                else{
                    var card=result.links.pop();
                    ui.cardPile.removeChild(card);
                    ui.cardPile.insertBefore(card,ui.cardPile.firstChild)
                }
            }
        }
    },
                ai:{
                    isLuckyStar:true,
                },
            },
            "DIY_jiangchi":{
                audio:"new_jiangchi",
                trigger:{
                    player:"damageEnd",
                },
                derivation:["DIY_jiangchi_chaofeng"],
                group:["DIY_jiangchi_push","DIY_jiangchi_push_zhuan"],
                content:function (){
        "step 0"
        if(get.itemtype(trigger.cards)=='cards'&&get.position(trigger.cards[0],true)=='o'){
            player.gain(trigger.cards,"gain2");
        }
        player.draw(4);
        player.turnOver();
        'step 1'
        player.chooseCard('h',true,'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œï¼Œè‹¥ä½ ä»¥æ­¤æ³•å¼ƒç½®çš„æ˜¯è£…å¤‡ç‰Œï¼Œåˆ™ä½ æ”¹ä¸ºä½¿ç”¨ä¹‹ï¼›è‹¥ä¸ä¸ºè£…å¤‡ç‰Œï¼Œä½ å°†æ­¤ç‰Œç½®äºæ­¦å°†ç‰Œä¸Š');
        'step 2'
        if(result.bool&&result.cards.length){
            if(get.type(result.cards[0])=='equip'&&!player.isDisabled(get.subtype(result.cards[0]))){
                player.chooseUseTarget(result.cards[0],true,'nopopup');
            }
            else{
                player.addToExpansion(result.cards[0],'give',player).gaintag.add('DIY_jiangchi');
            }
        }
    },
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    effect:{
                        target:function (card,player,target){
                if(player.hasSkillTag('jueqing',false,target)) return [1,-1];
                if(get.tag(card,'damage')&&player!=target) return [1,0.6];
            },
                    },
                },
            },
            "DIY_jiangchi_push":{
                trigger:{
                    global:"phaseUseBegin",
                },
                filter:function(event,player){
        return event.player!=player&&player.getExpansions('DIY_jiangchi').length>0;
    },
                content:function(){
        'step 0'
        player.viewHandcards(trigger.player);
        'step 1'
        player.chooseButton([get.prompt('DIY_jiangchi',trigger.player),player.getExpansions('DIY_jiangchi')],true).set('ai',function(button){
            var player=_status.event.player;
            var target=_status.event.getTrigger().player;
            if(get.attitude(player,target)>-1) return 0;
            var card=button.link;
            var color=get.color(button.link,false);
            var eff=target.countCards('h',function(card){
                return get.color(card,target)==color&&target.hasValueTarget(card);
            });
            if(!target.countCards('h',function(card){
                return get.color(card,target)==color&&get.name(card,target)=='sha'&&target.hasValueTarget(card);
            })) eff+=1.5;
            if(!target.countCards('h',function(card){
                return get.color(card,target)==color&&get.type2(card,target)=='trick'&&target.hasValueTarget(card);
            })) eff+=1.5;
            return eff-1;
        });
        'step 2'
        if(result.bool){
            if(!trigger.DIY_jiangchi) trigger.DIY_jiangchi=[];
            trigger.DIY_jiangchi.push(player);
            var card=result.links[0];
            var target=trigger.player;
            player.logSkill('DIY_jiangchi',target);
            player.loseToDiscardpile(card);
            var color=get.color(card,false);
            if(!target.storage.DIY_jiangchi2) target.storage.DIY_jiangchi2=[];
            target.storage.DIY_jiangchi2.add(color);
            target.addTempSkill('DIY_jiangchi2','phaseUseAfter');
            target.markSkill('DIY_jiangchi2');
            player.addTempSkill('DIY_jiangchi3','phaseUseAfter');
        }
    },
                subSkill:{
                    zhuan:{
                        trigger:{
                            source:"damageAfter",
                        },
                        forced:true,
                        popup:false,
                        filter:function(event,player){
               return event.parent.parent.parent.name=='DIY_jiangchi3'&&player!=event.player&&!event.player.storage._disableJudge&&event.player.countCards('he')&&!event.player.countCards('j');
            },
                        content:function(){
                'step 0'
        player.choosePlayerCard(trigger.player,'he').set('ai',function(card){
            if(get.attitude(_status.event.player,_status.event.target)>=0) return 0;
            return get.buttonValue(card);
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_jiangchi');
            var card=result.cards[0];
            trigger.player.$throw(card);
            game.delayx();
            if(get.type(card,false)=='delay') trigger.player.addJudge(card);
            else trigger.player.addJudge({name:get.color(card,false)=='red'?'lebu':'bingliang'},result.cards);
        }
            },
                        sub:true,
                    },
                },
            },
            "DIY_jiangchi2":{
                onremove:true,
                mod:{
                    "cardEnabled2":function(card,player){
            if(player.getStorage('DIY_jiangchi2').contains(get.color(card,player))) return false;
        },
                },
                intro:{
                    content:"ä¸èƒ½ä½¿ç”¨$çš„ç‰Œ",
                },
                marktext:"å°†é©°",
            },
            "DIY_jiangchi3":{
                audio:"rejiangchi",
                trigger:{
                    global:"phaseUseEnd",
                },
                forced:true,
                filter:function(event,player){
        if(!event.DIY_jiangchi||!event.DIY_jiangchi.contains(player)) return false;
        var sha=(player.canUse('sha',event.player,false)),trick=true;
        event.player.getHistory('useCard',function(evt){
            if(evt.getParent('phaseUse')!=event) return false;
            if(sha&&evt.card.name=='sha') sha=false;
            if(trick&&get.type2(evt.card,false)=='trick') trick=false;
        });
        return sha||trick;
    },
                content:function(){
        var sha=(player.canUse('sha',trigger.player,false)),trick=true;
        trigger.player.getHistory('useCard',function(evt){
            if(evt.getParent('phaseUse')!=trigger) return false;
            if(sha&&evt.card.name=='sha') sha=false;
            if(trick&&get.type2(evt.card,false)=='trick') trick=false;
        });
        if(sha) player.useCard({name:'sha',isCard:true},trigger.player);
        if(trick) player.draw(2);
        if(sha&&trick) player.recover();
    },
            },
            "DIY_jiangchi_chaofeng":{
            },
            "DIY_luanji":{
                audio:"reluanji",
                enable:"phaseUse",
                viewAs:{
                    name:"wanjian",
                },
                filterCard:function(card,player){
        if(!player.storage.DIY_luanji) return true;
        return !player.storage.DIY_luanji.contains(get.suit(card));
    },
                position:"hs",
                selectCard:2,
                check:function(card){
        var player=_status.event.player;
        var targets=game.filterPlayer(function(current){
            return player.canUse('wanjian',current);
        });
        var num=0;
        for(var i=0;i<targets.length;i++){
            var eff=get.sgn(get.effect(targets[i],{name:'wanjian'},player,player));
            if(targets[i].hp==1){
                eff*=1.5;
            }
            num+=eff;
        }
        if(!player.needsToDiscard(-1)){
            if(targets.length>=7){
                if(num<2) return 0;
            }
            else if(targets.length>=5){
                if(num<1.5) return 0;
            }
        }
        return 6-get.value(card);
    },
                ai:{
                    basic:{
                        order:2,
                        useful:1,
                        value:5,
                    },
                    wuxie:function(target,card,player,viewer){
            if(get.attitude(viewer,target)>0&&target.countCards('h','shan')){
                if(!target.countCards('h')||target.hp==1||Math.random()<0.7) return 0;
            }
        },
                    result:{
                        "target_use":function(player,target){
                if(player.hasUnknown(2)&&get.mode()!='guozhan') return 0;
                var nh=target.countCards('h');
                if(get.mode()=='identity'){
                    if(target.isZhu&&nh<=2&&target.hp<=1) return -100;
                }
                if(nh==0) return -2;
                if(nh==1) return -1.7
                return -1.5;
            },
                        target:function(player,target){
                var nh=target.countCards('h');
                if(get.mode()=='identity'){
                    if(target.isZhu&&nh<=2&&target.hp<=1) return -100;
                }
                if(nh==0) return -2;
                if(nh==1) return -1.7
                return -1.5;
            },
                    },
                    tag:{
                        respond:1,
                        respondShan:1,
                        damage:1,
                        multitarget:1,
                        multineg:1,
                    },
                },
                group:["DIY_luanji_count","DIY_luanji_reset","DIY_luanji_respond","DIY_luanji_draw"],
                subSkill:{
                    reset:{
                        trigger:{
                            player:"phaseAfter",
                        },
                        silent:true,
                        content:function(){
                delete player.storage.DIY_luanji;
                delete player.storage.DIY_luanji2;
            },
                        sub:true,
                        forced:true,
                        popup:false,
                        "audioname2":{
                            "key_shiki":"shiki_omusubi",
                        },
                    },
                    count:{
                        trigger:{
                            player:"useCard",
                        },
                        silent:true,
                        content:function(){
                "step 0"
                if(trigger.cards.name!='wanjian'){
                    player.storage.DIY_luanji2=trigger.card;
                }
                "step 1"
                if(trigger.cards.name=='wanjian'){
                    player.addTempSkill("DIY_luanji_invalid");
                }
                "step 2"
                if(trigger.skill=='DIY_luanji'){
                    player.addTempSkill("DIY_luanji_invalid");
                    if(!player.storage.DIY_luanji){
                        player.storage.DIY_luanji=[];
                    }
                    for(var i=0;i<trigger.cards.length;i++){
                        player.storage.DIY_luanji.add(get.suit(trigger.cards[i]));
                    }
                }
            },
                        sub:true,
                        forced:true,
                        popup:false,
                        "audioname2":{
                            "key_shiki":"shiki_omusubi",
                        },
                    },
                    respond:{
                        trigger:{
                            global:"respond",
                        },
                        silent:true,
                        filter:function(event){
                return event.getParent(2).skill=='DIY_luanji';
            },
                        content:function(){
                trigger.player.draw();
            },
                        sub:true,
                        forced:true,
                        popup:false,
                        "audioname2":{
                            "key_shiki":"shiki_omusubi",
                        },
                    },
                    invalid:{
                        mark:true,
                        marktext:"ä¹±å‡»",
                        intro:{
                            content:"æœ¬å›åˆã€–ä¹±å‡»ã€—å¤±æ•ˆ",
                        },
                        sub:true,
                        forced:true,
                        popup:false,
                    },
                    draw:{
                        audio:"reluanji",
                        trigger:{
                            player:"useCardAfter",
                        },
                        forced:true,
                        silent:true,
                        popup:false,
                        filter:function(event,player){
                return player==_status.currentPhase&&player.storage.DIY_luanji2&&event.card==player.storage.DIY_luanji2&&!player.hasSkill("DIY_luanji_invalid");
            },
                        content:function(){
                player.logSkill("DIY_luanji");
                player.draw(trigger.targets.length);
                delete player.storage.DIY_luanji2;
            },
                        sub:true,
                        "audioname2":{
                            "key_shiki":"shiki_omusubi",
                        },
                    },
                },
                "audioname2":{
                    "key_shiki":"shiki_omusubi",
                },
            },
            "DIY_xueyi":{
                trigger:{
                    player:"phaseDiscardBefore",
                },
                audio:"xueyi",
                forced:true,
                firstDo:true,
                filter:function(event,player){
        return player.hasZhuSkill('DIY_xueyi')&&game.hasPlayer(function(current){
            return current!=player;
        })&&player.countCards('h')>player.hp;
    },
                content:function(){},
                mod:{
                    maxHandcard:function(player,num){
            if(player.hasZhuSkill('DIY_xueyi')){
                return num+game.countPlayer(function(current){
                    if(player!=current) return 2;
                });
            }
            return num;
        },
                },
                zhuSkill:true,
                "audioname2":{
                    "key_shiki":"shiki_omusubi",
                },
            },
            "DIY_qiangxi":{
                subSkill:{
                    off:{
                        sub:true,
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filterCard:function (card){
        return get.subtype(card)=='equip1';
    },
                selectCard:function (){
        return [0,1];
    },
                filterTarget:function(card,player,target){
        if(player==target) return false;
        return true;
    },
                filter:function(event,player){
        return !player.hasSkill('DIY_qiangxi2');
    },
                content:function (){
        "step 0"
        if(cards.length==0){
            player.loseHp();
        }
        "step 1"
        player.addTempSkill('DIY_qiangxi3');
        target.damage('nocard');
    },
                check:function (card){
        return 10-get.value(card);
    },
                position:"he",
                ai:{
                    order:8.5,
                    result:{
                        target:function (player,target){
                if(!ui.selected.cards.length){
                    if(player.hp<2) return 0;
                    if(target.hp>=player.hp) return 0;
                }
                return get.damageEffect(target,player);
            },
                    },
                },
                threaten:1.5,
            },
            "DIY_qiangxi3":{
                trigger:{
                    global:"dyingAfter",
                },
                forced:true,
                popup:false,
                charlotte:true,
                filter:function(event,player){
        return event.player.isAlive()&&event.reason&&event.reason.getParent().name=='DIY_qiangxi';
    },
                content:function(){
        player.addTempSkill('DIY_qiangxi2');
    },
            },
            "DIY_qiangxi2":{
                mark:true,
                marktext:"å¼ºè¢­",
                intro:{
                    content:"æœ¬å›åˆã€–å¼ºè¢­ã€—å¤±æ•ˆ",
                },
            },
            "DIY_zhanhuo":{
                trigger:{
                    source:"damageEnd",
                },
                audio:"nzry_dinghuo",
                direct:true,
                filter:function(event,player){
        return event.nature='fire';
    },
                filterTarget:function(card,player,target){
        return get.distance(event.player,target)<=1;
    },
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt2('DIY_zhanhuo'),function(card,player,target){
            return get.distance(trigger.player,target)==1;
        }).set('ai',function(target){
            return -get.attitude(_status.event.player,target);
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_zhanhuo',result.targets);
            var target=result.targets[0];
            event.target=target;
            player.judge(function(card){
                if(get.color(card)=='red') return -1;
                return 0;
            });
        }
        else{
            event.finish();
        }
        'step 2'
        if(result.color){
            if(result.color=='red'){
                event.target.damage(1,'fire');
            }
        }
    },
            },
            "DIY_cuike":{
                trigger:{
                    source:"damageBefore",
                },
                forced:true,
                audio:"nzry_cuike",
                filter:function(event){
                    return event.nature!='fire';
                },
                check:function(){return false;},
                content:function(){
        trigger.nature='fire';
    },
                ai:{
                    jueqing:true,
                },
            },
            "DIY_junlue":{
                audio:"nzry_junlve",
                trigger:{
                    target:"useCardToTarget",
                },
                frequent:true,
                filter:function(event,player){
        return get.tag(event.card,'damage')&&event.player!=player&&event.targets.length==1;
    },
                logTarget:"player",
                content:function(){
        'step 0'
        player.line(trigger.player,'green');
        var list1=["è¯±æ•Œå‡ºæˆ˜","è¿è¥ç ´æ•Œ"];
        trigger.player.chooseControl(list1).set("displayIndex", false).set('choiceList',[
                'è¯±æ•Œå‡ºæˆ˜ï¼šé˜²æ­¢'+get.translation(player)+'å¯¹ä½ é€ æˆä¼¤å®³',
                'è¿è¥ç ´æ•Œï¼šé˜²æ­¢'+get.translation(player)+'æ— æ•ˆ'+get.translation(trigger.cards),
            ]).set('ai',function(){
            var num=[0,1].randomGet();
            if(num==0){
                return 'è¯±æ•Œå‡ºæˆ˜';
            }
            else{
                return 'è¿è¥ç ´æ•Œ';
            }
        }).set('prompt','è¯·é€‰æ‹©ä¸€ç§ç­–ç•¥');
        'step 1'
        if(result.control=='è¯±æ•Œå‡ºæˆ˜'){
            trigger.player.say(["æŸèº«ç†¬å¿ƒï¼Œèª“æŠ¥æ­¤ä»‡ï¼","æ€’ä¼¤å¿ƒè‚ï¼Œä¹Ÿé˜»æ­¢ä¸äº†è¿™å¤ä»‡ä¹‹ç«ï¼"].randomGet());
            game.delay();
            event.goto(2);
        }
        else{
            trigger.player.say(["æ€’ä¼¤å¿ƒè‚ï¼Œä¹Ÿé˜»æ­¢ä¸äº†è¿™å¤ä»‡ä¹‹ç«ï¼","æŸèº«ç†¬å¿ƒï¼Œèª“æŠ¥æ­¤ä»‡ï¼"].randomGet());
            game.delay();
            event.goto(4);
        }
        'step 2'
        var list2=["ç«‹å³å‡ºæˆ˜","åšå®ˆä¸æˆ˜"];
            player.chooseControl(list2).set("displayIndex", false).set('choiceList',[
                'ç«‹å³å‡ºæˆ˜ï¼šå¯¹'+get.translation(trigger.player)+'é€ æˆ1ç‚¹ç«ç„°ä¼¤å®³',
                'åšå®ˆä¸æˆ˜ï¼šä»¤'+get.translation(trigger.cards)+'å¯¹ä½ æ— æ•ˆ',
            ]).set('ai',function(){
                return 'åšå®ˆä¸æˆ˜';
            }).set('prompt','è¯·é€‰æ‹©ä¸€ç§ç­–ç•¥');
        'step 3'
        if(result.control=='ç«‹å³å‡ºæˆ˜'){
            trigger.player.say(["è¯±æ•Œå‡ºæˆ˜"].randomGet());
            player.say(["ç«‹å³å‡ºæˆ˜"].randomGet());
            game.delay();
            game.log(player,'è°‹å¼ˆå¤±è´¥');
            player.popup('è°‹å¼ˆå¤±è´¥');
            event.goto(6);
        }
        else{
            trigger.player.say(["è¯±æ•Œå‡ºæˆ˜"].randomGet());
            player.say(["åšå®ˆä¸æˆ˜"].randomGet());
            game.delay();
            trigger.targets.remove(player);
            game.log(player,'è°‹å¼ˆæˆåŠŸ');
            player.popup('è°‹å¼ˆæˆåŠŸ');
            event.goto(6);
        }
        event.goto(6);
        'step 4'
        var list2=["ç«‹å³å‡ºæˆ˜","åšå®ˆä¸æˆ˜"];
            player.chooseControl(list2).set("displayIndex", false).set('choiceList',[
                'ç«‹å³å‡ºæˆ˜ï¼šå¯¹'+get.translation(trigger.player)+'é€ æˆ1ç‚¹ç«ç„°ä¼¤å®³',
                'åšå®ˆä¸æˆ˜ï¼šä»¤'+get.translation(trigger.cards)+'å¯¹ä½ æ— æ•ˆ',
            ]).set('ai',function(){
                return 'ç«‹å³å‡ºæˆ˜';
            }).set('prompt','å†›ç•¥ï¼šè¯·é€‰æ‹©ä¸€ç§ç­–ç•¥');
        'step 5'
        if(result.control=='ç«‹å³å‡ºæˆ˜'){
            trigger.player.say(["è¿è¥ç ´æ•Œ"].randomGet());
            player.say(["ç«‹å³å‡ºæˆ˜"].randomGet());
            game.delay();
            trigger.player.damage('fire');
            game.log(player,'è°‹å¼ˆæˆåŠŸ');
            player.popup('è°‹å¼ˆæˆåŠŸ');
            event.goto(6);
        }
        else{
            trigger.player.say(["è¿è¥ç ´æ•Œ"].randomGet());
            player.say(["åšå®ˆä¸æˆ˜"].randomGet());
            game.delay();
            game.log(player,'è°‹å¼ˆå¤±è´¥');
            player.popup('è°‹å¼ˆå¤±è´¥');
            event.goto(6);
        }
        'step 6'
        game.delay();
    },
            },
            "DIY_qianxi":{
                audio:"oldqianxi",
                trigger:{
                    source:"damageBegin2",
                },
                frequent:true,
                group:"DIY_reqianxi",
                check:function(event,player){
        var att=get.attitude(player,event.player);
        if(event.player.hp==event.player.maxHp) return att<0;
        if(event.player.hp==event.player.maxHp-1&&
            (event.player.maxHp<=3||event.player.hasSkillTag('maixie'))) return att<0;
        return att>0;
    },
                filter:function(event,player){
        return true;
    },
                logTarget:"player",
                content:function(){
        trigger.cancel();
        trigger.player.loseMaxHp(true);
    },
            },
            "DIY_reqianxi":{
                audio:"qianxi",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                preHidden:true,
                content:function(){
        "step 0"
        player.draw();
        player.chooseToDiscard('he',true);
        "step 1"
        if(!result.bool){
            event.finish();
            return;
        }
        event.color=get.color(result.cards[0],result.cards[0].original=='h'?player:false);
        player.chooseTarget(function(card,player,target){
            return player!=target;
        },true).set('ai',function(target){
            return -get.attitude(_status.event.player,target);
        });
        "step 2"
        if(result.bool&&result.targets.length){
            result.targets[0].loseMaxHp(true);
            result.targets[0].storage.DIY_reqianxi2=event.color;
            result.targets[0].addTempSkill('DIY_reqianxi2');
            player.line(result.targets,'green');
            game.addVideo('storage',result.targets[0],['DIY_reqianxi2',event.color]);
        }
    },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(!arg.target.hasSkill('DIY_reqianxi2')) return false;
            if(arg.card.name=='sha') return arg.target.storage.qianxi2=='red'&&(!arg.target.getEquip('bagua')||player.hasSkillTag('unequip',false,{
                name:arg.card?arg.card.name:null,
                target:arg.target,
                card:arg.card
            })||player.hasSkillTag('unequip_ai',false,{
                name:arg.card?arg.card.name:null,
                target:arg.target,
                card:arg.card
            }));
            return arg.target.storage.DIY_reqianxi2=='black';
        },
                },
            },
            "DIY_reqianxi2":{
                forced:true,
                mark:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:false",
                content:function(){
        player.removeSkill('reqianxi2');
        delete player.storage.reqianxi2;
    },
                mod:{
                    "cardEnabled2":function(card,player){
            if(get.color(card)==player.storage.reqianxi2&&get.position(card)=='h') return false;
        },
                },
                intro:{
                    content:function(color){
            return 'ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡º'+get.translation(color)+'çš„æ‰‹ç‰Œ';
        },
                },
            },
            "DIY_guijin":{
                audio:"zhaoran",
                superCharlotte:true,
                charlotte:true,
                fixed:true,
                unique:true,
                noAdd:true,
                noRemove:true,
                noDisabled:true,
                silent:true,
                forced:true,
                skillAnimation:true,
                animationColor:"thunder",
                init:function(event,player){
                    if(get.mode()!='boss'&&player!=game.boss) game.over(true);
                },
                content:function(){
                },
                popup:false,
            },
            "DIY_guijin_audio":{
                audio:"zhaoran",
            },
            "DIY_jizhi":{
                audio:"rejizhi",
                trigger:{
                    global:"useCard",
                },
                frequent:true,
                preHidden:true,
                filter:function(event){
        return (get.type(event.card)=='trick'&&event.card.isCard);
    },
                content:function(){
        player.draw();
    },
                ai:{
                    threaten:1.4,
                    noautowuxie:true,
                },
            },
            "DIY_qicai":{
                audio:"reqicai",
                mod:{
                    targetInRange:function(card,player,target,now){
            var type=get.type(card);
            if(type=='trick'||type=='delay') return true;
        },
                },
                trigger:{
                    target:"useCardToBefore",
                },
                usable:1,
                forced:true,
                check:function(event,player){
        return get.effect(event.target,event.card,event.player,player)<0;
    },
                filter:function(event,player){
        return get.type(event.card,'trick')=='trick'&&_status.currentPhase!=player;
    },
                content:function(){
        trigger.cancel();
    },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(get.type(card,'trick')=='trick'&&get.distance(player,target)>1) return 'zeroplayertarget';
            },
                    },
                },
            },
            "DIY_zhendu":{
                audio:"zhendu",
                trigger:{
                    global:"phaseUseBegin",
                },
                derivation:"DIY_zhendu_dushi",
                group:"DIY_zhendu2",
                check:function(event,player){
        return get.damageEffect(event.player,player,player)>0;
    },
                filter:function(event,player){
        return /*(get.mode()!='guozhan'||event.player!=player)&&*/player.countCards('h')>0&&event.player.isAlive()&&event.player!=player;
    },
                direct:true,
                preHidden:true,
                content:function(){
        "step 0"
        var nono=(Math.abs(get.attitude(player,trigger.player))<3);
        if(player==trigger.player||get.damageEffect(trigger.player,player,player)<=0||!trigger.player.hasUseTarget({name:'jiu'},null,true)){
            nono=true
        }
        else if(trigger.player.hp>2){
            nono=true;
        }
        else if(trigger.player.hp>1&&player.countCards('h')<3&&(trigger.player.canUse('sha',player)&&!player.countCards('h','shan')&&trigger.player.countCards('h')>=3)){
            nono=true;
        }
        var next=player.chooseToDiscard('he',get.prompt2("é¸©æ¯’:æ˜¯å¦å¼ƒç½®ä¸€å¼ ç‰Œä»¤å…¶ä½¿ç”¨ä¸€å¼ é…’ï¼Œå¹¶å—åˆ°ä¸€ç‚¹ä¼¤å®³",trigger.player));
        next.set('ai',function(card){
            if(_status.event.nono) return -1;
            return 7-get.useful(card);
        });
        next.set('logSkill',['zhendu',trigger.player]);
        next.set('nono',nono);
        next.setHiddenSkill('zhendu');
        "step 1"
        if(result.bool){
            trigger.player.chooseUseTarget({name:'jiu'},true,'noTargetDelay','nodelayx');
            trigger.player.damage();
        }
    },
                ai:{
                    threaten:2,
                    expose:0.3,
                },
            },
            "DIY_qiluan":{
                audio:"qiluan2",
                preHidden:true,
                trigger:{
                    global:"dieAfter",
                },
                frequent:true,
                group:"DIY_qiluan_damage",
                content:function(){
            player.draw(3);
    },
                subSkill:{
                    damage:{
                        trigger:{
                            global:"damageBegin4",
                        },
                        preHidden:true,
                        audio:"qiluan2",
                        direct:true,
                        filter:function(event,player,name){
        return event.num>0&&event.player!=player&&_status.currentPhase!=player&&player.countCards('he')>0;
    },
                        content:function(){
                            'step 0'
                            num=get.cnNumber(2*trigger.num,true);
                            var nono=(Math.abs(get.attitude(player,trigger.player))<3);
        var next=player.chooseToDiscard('he','æˆšä¹±ï¼šæ˜¯å¦å¼ƒç½®ä¸€å¼ ç‰Œä»¤å³å°†å¯¹'+get.translation(trigger.player)+'çš„ä¼¤å®³ç¿»å€è‡³'+get.translation(num)+'ç‚¹');
        next.set('ai',function(card){
            if(_status.event.nono) return -1;
            return 7-get.useful(card);
        });
        next.complexCard=true,
        next.logSkill=['DIY_qiluan',trigger.player];
        'step 1'
        if(result.bool){
            trigger.num=trigger.num*2;
        }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_kuangbi":{
                enable:"phaseUse",
                usable:1,
                audio:"kuangbi",
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('he')>0;
    },
                content:function(){
        'step 0'
        target.chooseCard('he',3,'åŒ¡å¼¼ï¼šå°†3å¼ ç‰Œç½®äº'+get.translation(player)+'çš„æ­¦å°†ç‰Œä¸Š',true).set('ai',function(card){
            if(get.attitude(_status.event.player,_status.event.getParent().player)>0){
                return 7-get.value(card);
            }
            return -get.value(card);
        });
        'step 1'
        if(result.bool){
            target.$give(result.cards.length,player,false);
            target.lose(result.cards,ui.special,'toStorage');
            if(!player.storage.DIY_kuangbi_draw) player.storage.DIY_kuangbi_draw=[];
            player.storage.DIY_kuangbi_draw.push([result.cards,target]);
            player.addSkill('DIY_kuangbi_draw');
            player.syncStorage('DIY_kuangbi_draw');
            player.updateMarks('DIY_kuangbi_draw');
        }
    },
                ai:{
                    order:1,
                    result:{
                        target:function(player,target){
                if(get.attitude(player,target)>0){
                    return Math.sqrt(target.countCards('he'));
                }
                return 0;
            },
                        player:1,
                    },
                },
                subSkill:{
                    draw:{
                        trigger:{
                            player:"phaseZhunbeiBegin",
                        },
                        forced:true,
                        mark:true,
                        charlotte:true,
                        audio:"kuangbi",
                        intro:{
                            onunmark:function(storage,player){
                    var cards=[];
                    while(storage.length){
                        cards.addArray(storage.shift()[0]);
                    }
                    if(cards.length){
                        game.cardsDiscard(cards);
                        player.$throw(cards,1000);
                        game.log(cards,'è¢«ç½®å…¥äº†å¼ƒç‰Œå †');
                    }
                },
                            markcount:function(content){
                    var cards=[];
                    for(var i=0;i<content.length;i++){
                        cards.addArray(content[i][0]);
                    }
                    return cards.length;
                },
                            mark:function(dialog,content,player){
                    if(content&&content.length){
                        var cards=[];
                        for(var i=0;i<content.length;i++){
                            cards.addArray(content[i][0]);
                        }
                        dialog.addText('å…±æœ‰'+get.cnNumber(cards.length)+'å¼ ç‰Œ');
                    }
                },
                        },
                        content:function(){
                var storage=player.storage.DIY_kuangbi_draw;
                if(storage.length){
                    var next=storage.shift();
                    player.gain(next[0],'gain2','fromStorage');
                    var target=next[1];
                    if(target&&target.isAlive()){
                        target.draw(next[0].length);
                    }
                    event.redo();
                }
                else player.removeSkill('DIY_kuangbi_draw');
            },
                        sub:true,
                    },
                },
            },
            "DIY_liangyin":{
                audio:"DIY_liangyin",
                group:["DIY_liangyin_1","DIY_liangyin_2"],
                subSkill:{
                    "1":{
                        trigger:{
                            global:["loseAfter","addToExpansionAfter","cardsGotoSpecialAfter","loseAsyncAfter"],
                        },
                        filter:function(event,player,name){
                if(event.name=='lose'||event.name=='loseAsync') return event.getlx!==false&&event.toStorage==true;
                if(event.name=='cardGotoSpecial') return !event.notrigger;
                return true;
            },
                        direct:true,
                        content:function(){
                "step 0"
                player.chooseTarget('æ˜¯å¦å‘åŠ¨ã€è‰¯å§»ã€‘ä»¤ä¸€åè§’è‰²æ‘¸1-2éšæœºå¼ ç‰Œï¼Ÿ').ai=function(target){
                    return get.attitude(player,target);
                };
                "step 1"
                if(result.bool){
                    var num=[1,2].randomGet();
                    if(get.isLuckyStar(player)) num=2;
                    player.logSkill('liangyin',result.targets);
                    result.targets[0].draw(num);
                }
            },
                        sub:true,
                    },
                    "2":{
                        trigger:{
                            global:"gainAfter",
                        },
                        filter:function(event,player){
                return event.fromStorage==true||game.hasPlayer2(function(current){
                    var evt=event.getl(current);
                    return evt&&evt.xs&&evt.xs.length>0;
                });
            },
                        direct:true,
                        content:function(){
                "step 0"
                player.chooseTarget('æ˜¯å¦å‘åŠ¨ã€è‰¯å§»ã€‘ä»¤ä¸€åè§’è‰²å¼ƒç½®1-2éšæœºå¼ ç‰Œï¼Ÿ',function(card,player,target){
                    return target.countCards('he')>0;
                }).ai=function(target){
                    return -get.attitude(player,target);
                };
                "step 1"
                if(result.bool){
                    var num=[1,2].randomGet();
                    if(get.isLuckyStar(player)) num=2;
                    player.logSkill('liangyin',result.targets);
                    result.targets[0].chooseToDiscard('he',(num),true);
                }
            },
                        sub:true,
                    },
                },
            },
            "DIY_kongsheng":{
                audio:"kongsheng",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                direct:true,
                filter:function(event,player){
        return player.countCards('he')>0;
    },
                content:function(){
        'step 0'
        player.chooseCard(get.prompt('DIY_kongsheng'),'å°†ä»»æ„å¼ ç‰Œç½®äºæ­¦å°†ç‰Œä¸Š','he',[1,player.countCards('he')]).set('ai',function(card){
            if(get.position(card)=='e') return 1-get.value(card);
            if(card.name=='shan'||card.name=='du'||!player.hasValueTarget(card)) return 1;
            return 4-get.value(card);
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_kongsheng');
            player.addSkill('DIY_kongsheng2');
            player.addToExpansion(result.cards,'log','give',player).gaintag.add('DIY_kongsheng2');
        }
    },
            },
            "DIY_kongsheng2":{
                audio:"kongsheng",
                marktext:"ç®œ",
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                trigger:{
                    player:"phaseJieshuBegin",
                },
                filter:function(event,player){
        return player.getExpansions('DIY_kongsheng2').length>0;
    },
                forced:true,
                charlotte:true,
                content:function(){
        'step 0'
        player.addTempSkill('kongsheng_ai','DIY_kongsheng2After');
        'step 1'
        var cards=player.getExpansions('DIY_kongsheng2').filter(function(i){
            return get.type(i,false)=='equip'&&player.hasUseTarget(i);
        });
        if(cards.length==1){
            event._result={bool:true,links:cards}
        }
        else if(cards.length) player.chooseButton(true,['é€‰æ‹©è¦ä½¿ç”¨çš„è£…å¤‡ç‰Œ',cards]).set('ai',function(button){
            return get.order(button.link);
        });
        else event.goto(3);
        'step 2'
        if(result.bool){
            player.chooseUseTarget(result.links[0],true);
            event.goto(1);
        }
        'step 3'
        var cards=player.getExpansions('DIY_kongsheng2');
        if(cards.length) player.gain(cards,'gain2');
    },
            },
            "DIY_zhendu2":{
                trigger:{
                    global:"dying",
                },
                audio:"zhendu",
                direct:true,
                check:function(event,player){
        return get.attitude(player,event.target)>3;
    },
                filter:function(event,player){
        return event.player.hp<=0&&player!=event.player&&player.countCards('he')>0;
    },
                content:function(){
                    'step 0'
        var nono=(Math.abs(get.attitude(player,trigger.player))<3);
        var next=player.chooseToDiscard('he','é¸©æ¯’ï¼šæ˜¯å¦å¼ƒç½®ä¸€å¼ ç‰Œä»¤'+get.translation(trigger.player)+'è·å¾—â€œæ¯’é€â€ç›´åˆ°ä¸‹è½®å¼€å§‹ï¼Ÿ');
        next.ai=function(card){
            if(nono){
                return 7-get.useful(card);
            }
            return 0;
        };
        next.complexCard=true,
        next.logSkill=['DIY_zhensha',trigger.player];
        'step 1'
        if(result.bool){
        trigger.player.addTempSkill("DIY_zhendu_dushi","roundStart");
        }
    },
                ai:{
                    expose:10,
                    threaten:1.5,
                },
            },
            "DIY_jueyan":{
                mark:true,
                marktext:"å†³å °",
                intro:{
                    content:function(storage,player){
            name:'å†³å °';
            var str='<li>æš‚æ— ä»»ä½•æ•ˆæœ';
            if(player.countDisabled()>0){
                str='<li>å½“å‰æ‹¥æœ‰æ•ˆæœï¼š';
            }
            if(player.isDisabled('equip1')){
                str+='<br>å¯ä»¥å¤šä½¿ç”¨ä¸‰å¼ ã€æ€ã€‘';
            }
            if(player.isDisabled('equip2')){
                str+='<br>æ‰‹ç‰Œä¸Šé™+3';
            }
            if(player.isDisabled('equip3')||player.isDisabled('equip4')){
            str+='<br>ä½¿ç”¨ç‰Œæ²¡æœ‰è·ç¦»é™åˆ¶';
            }
            if(player.isDisabled('equip5')){
            str+='<br>æ‹¥æœ‰æŠ€èƒ½ã€–é›†æ™ºã€—';
            }
            return str;
        },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                derivation:["DIY_jueyan5"],
                group:["DIY_jueyan1","DIY_jueyan2","DIY_jueyan3","DIY_jueyan5"],
                filter:function(event,player){
        return player.storage.disableEquip!=undefined&&player.storage.disableEquip.length<5;
    },
                content:function(){
        'step 0'
        player.chooseToDisable(true).set('ai',function(event,player,list){
            if(list.contains('equip2')) return 'equip2';
            if(list.contains('equip1')&&(player.countCards('h',function(card){
                return get.name(card,player)=='sha'&&player.hasUseTarget(card);
            })-player.getCardUsable('sha'))>1) return 'equip1';
            if(list.contains('equip5')&&player.countCards('h',function(card){
                return get.type2(card,player)=='trick'&&player.hasUseTarget(card);
            })>1) return 'equip5';
        });
        'step 1'
        if(result.control=='equip1'){
        };
        if(result.control=='equip2'){
            player.draw(3);
        };
        if(result.control=='equip6'){
        };
        if(result.control=='equip5'){
        };
    },
                ai:{
                    order:13,
                    result:{
                        player:function(player){
                if(!player.isDisabled('equip2')) return 1;
                if(!player.isDisabled('equip1')&&(player.countCards('h',function(card){
                    return get.name(card,player)=='sha'&&player.hasValueTarget(card);
                })-player.getCardUsable('sha'))>1) return 1;
                if(!player.isDisabled('equip5')&&player.countCards('h',function(card){
                    return get.type2(card,player)=='trick'&&player.hasUseTarget(card);
                })>1) return 1;
                return -1;
            },
                    },
                },
            },
            "DIY_qianjie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                group:["DIY_qianjie_1","DIY_qianjie_2","DIY_qianjie_3"],
                locked:true,
                mod:{
                    targetEnabled:function(card,player,target,now){
                    if(card.name=='shunshou'||card.name=='zhujinqiyuan'||card.name=='chuqibuyi') return false;
                    },
                },
                ai:{
                    effect:{
                        target:function(card){
                if(card.name=='tiesuo') return 'zeroplayertarget';
            },
                    },
                },
                subSkill:{
                    "1":{
                        audio:'DIY_qianjie',
                        trigger:{
                            player:"linkBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return !player.isLinked();
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                    "2":{
                        mod:{
                            targetEnabled:function(card,player,target){
                    if(get.type(card)=='delay') return false;
                },
                        },
                        sub:true,
                    },
                    "3":{
                        ai:{
                            noCompareTarget:true,
                        },
                        sub:true,
                    },
                },
            },
            "DIY_poshi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                skillAnimation:true,
                animationColor:"wood",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                unique:true,
                juexingji:true,
                derivation:["DIY_huairou"],
                init:function(player){
        player.storage.DIY_poshi=false;
    },
                filter:function(event,player){
        return !player.storage.DIY_poshi&&((player.storage.disableEquip!=undefined&&player.storage.disableEquip.length==5)||player.hp==1);
    },
                content:function(){
        "step 0"
        player.storage.DIY_poshi=true;
        player.awakenSkill('DIY_poshi');
        player.addSkill('DIY_huairou');
        player.gainMaxHp();
        player.disableEquip('equip1');
        player.disableEquip('equip2');
        player.disableEquip('equip3');
        player.disableEquip('equip4');
        player.disableEquip('equip5');
        player.disableJudge();
        "step 1"
        var num1=player.maxHp-player.countCards('h');
        if(num1>0) player.draw(num1);
        player.recover(player.maxHp-player.hp);
    },
            },
            "DIY_jueyan1":{
                mod:{
                    cardUsable:function(card,player,num){
            if(player.isDisabled('equip1')&&card.name=='sha') return num+3;
        },
                },
                intro:{
                    name:"å†³å ° - æ­¦å™¨",
                    content:"å¯ä»¥å¤šä½¿ç”¨ä¸‰å¼ ã€æ€ã€‘",
                },
            },
            "DIY_jueyan2":{
                mod:{
                    targetInRange:function(card,player,target,now){
            if(player.isDisabled('equip3')||player.isDisabled('equip4')) return true;
        },
                },
                intro:{
                    name:"å†³å ° - åéª‘",
                    content:"ä½¿ç”¨ç‰Œæ²¡æœ‰è·ç¦»é™åˆ¶",
                },
            },
            "DIY_jueyan3":{
                mod:{
                    maxHandcard:function(player,num){
            if(player.isDisabled('equip2')) return num+3;
        },
                },
                intro:{
                    name:"å†³å ° - é˜²å…·",
                    content:"æ‰‹ç‰Œä¸Šé™+3",
                },
            },
            "DIY_jueyan5":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:"useCard",
                },
                frequent:true,
                filter:function(event,player){
        return player.isDisabled('equip5')&&(get.type(event.card)=='trick'&&event.card.isCard);
    },
                content:function(){
        player.draw();
    },
                ai:{
                    threaten:1.4,
                    noautowuxie:true,
                },
            },
            "DIY_huairou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"damageBegin2",
                },
                direct:true,
                filter:function(event,player){
                    return player.countCards('he',function(card){
                        return get.type(card)=='equip';
                    })>0;
                },
                content:function(){
                    'step 0'
                    player.chooseCard(get.prompt('DIY_huairou'),'é‡é“¸ä¸€å¼ è£…å¤‡ç‰Œå¹¶é˜²æ­¢æ­¤ä¼¤å®³','he',function(card){
                        return get.type(card)=='equip';
                    }).set('ai',function(card){
                        return 6-get.value(card);
                    });
                    'step 1'
                    if(result&&result.cards){
                        player.logSkill('DIY_huairou');
                        trigger.cancel();
                        var card=result.cards[0];
                        player.lose(result.cards,ui.discardPile,'visible');
                        player.$throw(result.cards,1000);
                        game.log(player,'å°†',result.cards,'ç½®å…¥å¼ƒç‰Œå †');
                        player.draw();
                    }
                },
                mod:{
                    ignoredHandcard:function(card,player){
                        if(get.type(card)=='equip'){
                            return true;
                        }
                    },
                    cardDiscardable:function(card,player,name){
                        if(name=='phaseDiscard'&&get.type(card)=='equip'){
                            return false;
                        }
                    },
                },
            },
            "DIY_hanzhan":{
                audio:"hanzhan",
                trigger:{
                    global:"chooseToCompareBegin",
                },
                filter:function(event,player){
        if(player==event.player) return true;
        if(event.targets) return event.targets.contains(player);
        return player==event.target;
    },
                logTarget:function(event,player){
        if(player!=event.player) return event.player;
        return event.targets||event.target;
    },
                "prompt2":function(event,player){
        return 'é€‰æ‹©ä½ åŒºåŸŸå†…çš„ä¸€å¼ ç‰Œä½œä¸ºå…¶çš„æ‹¼ç‚¹ç‰Œè¿›è¡Œæ‹¼ç‚¹'
    },
                content:function(){
        "step 0"
        var cards=player.getCards('hej');            
        player.chooseButton(['è¯·é€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºæ‹¼ç‚¹ç‰Œ', player.getCards('hej')],1,true).set('ai',function(card){
            return 13-get.number(card);
        });
        "step 1"
        if(result.bool){
            var targets=player==trigger.player?(trigger.targets?trigger.targets.slice(0):[trigger.target]):[trigger.player];
            if(!trigger.fixedResult) trigger.fixedResult={};
            while(targets.length){
				var target=targets.shift();
                trigger.fixedResult[target.playerid]=result.links[0];
			}
        }
    },
            },
            "DIY_tianyi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filterTarget:function(card,player,target){
        return player.canCompare(target);
    },
                filter:function(event,player){
        return !player.hasSkill('DIY_tianyi2');
    },
                content:function(){
        "step 0"
        player.draw();
        player.chooseToCompare(target);
        "step 1"
        if(result.bool){
            player.gainPlayerCard(target,true,'he','visibleMove');
            if(target.isAlive) player.chooseToUse(function(card,player,event){
            if(get.name(card)!='sha') return false;
            return lib.filter.filterCard.apply(this,arguments);
        },'å¤©ä¹‰ï¼šæ˜¯å¦å¯¹'+get.translation(target)+'ä½¿ç”¨ä¸€å¼ æ€ï¼Ÿ').set('logSkill','DIY_tianyi').set('complexSelect',true).set('filterTarget',function(card,player,target){
            if(target!=_status.event.sourcex&&!ui.selected.targets.contains(_status.event.sourcex)) return false;
            return lib.filter.targetEnabled.apply(this,arguments);
        }).set('sourcex',target);
        }
        else{
            player.addTempSkill('DIY_tianyi2');
        }
    },
                ai:{
                    order:function(name,player){
            var cards=player.getCards('h');
            if(player.countCards('h','sha')==0){
                return 1;
            }
            for(var i=0;i<cards.length;i++){
                if(cards[i].name!='sha'&&cards[i].number>11&&get.value(cards[i])<7){
                    return 9;
                }
            }
            return get.order({name:'sha'})-1;
        },
                    result:{
                        player:function(player){
                if(player.countCards('h','sha')>0) return 0.6;
                var num=player.countCards('h');
                if(num>player.hp) return 0;
                if(num==1) return -2;
                if(num==2) return -1;
                return -0.7;
            },
                        target:function(player,target){
                var num=target.countCards('h');
                if(num==1) return -1;
                if(num==2) return -0.7;
                return -0.5
            },
                    },
                    threaten:1.3,
                },
            },
            "DIY_tianyi2":{
                charlotte:true,
                mod:{
                    cardEnabled:function(card){
            if(card.name=='sha') return false;
        },
                    ignoredHandcard:function(card,player){
            if(get.name(card)=='sha'){
                return true;
            }
        },
                    cardDiscardable:function(card,player,name){
            if(name=='phaseDiscard'&&get.name(card)=='sha'){
                return false;
            }
        },
                },
            },
            "DIY_xuxie":{
                audio:"xuxie",
                trigger:{
                    global:"phaseUseBegin",
                },
                logTarget:function(event,player){
        return game.filterPlayer(function(current){
            return get.distance(player,current)<=1;
        }).sortBySeat();
    },
                forced:true,
                content:function(){
        'step 0'
        player.loseMaxHp();
        'step 1'
        var targets=game.filterPlayer(function(current){
            return current==player||current.inRange(player)||player.inRange(current);
        }).sortBySeat();
        if(!targets.length) event.finish();
        else{
            event.targets=targets;
            player.chooseControl().set('choiceList',[
                'å¼ƒç½®'+get.translation(targets)+'çš„å„ä¸€å¼ ç‰Œ',
                'ä»¤'+get.translation(targets)+'å„æ‘¸ä¸€å¼ ç‰Œ',
            ]).set('ai',function(){
                var player=_status.event.player;
                var list=_status.event.getParent().targets.slice(0);
                var draw=0;
                var discard=0;
                while(list.length){
                    var target=list.shift();
                    var att=get.attitude(player,target);
                    if(att>0){
                        draw++;
                        if(target.countDiscardableCards(player,'he')>0) discard--;
                    }
                    if(att<0){
                        draw--;
                        if(target.countDiscardableCards(player,'he')>0) discard++;
                    }
                }
                if(draw>discard) return 1;
                return 0;
            });
        }
        'step 2'
        event.index=result.index;
        if(result.index==1){
            game.asyncDraw(targets);
        }
        else event.goto(4);
        'step 3'
        game.delay();
        event.finish();
        'step 4'
        var target=targets.shift();
        if(target.countDiscardableCards(player,'he')>0) player.discardPlayerCard(target,'he',true);
        if(targets.length) event.redo();
    },
                group:["DIY_xuxie_add","DIY_xuxie_draw"],
            },
            "DIY_xuxie_add":{
                audio:"xuxie",
                trigger:{
                    global:"phaseUseEnd",
                },
                forced:true,
                locked:false,
                content:function(){
        player.gainMaxHp();
    },
            },
            "DIY_xuxie_draw":{
                audio:"xuxie",
                trigger:{
                    player:["gainMaxHpEnd","loseMaxHpEnd"],
                },
                forced:true,
                filter:function(event,player){
                    return !player.isMaxHandcard()
                },
                content:function(){
                    player.draw();
                },
            },
            "DIY_shushen":{
                audio:"shushen",
                trigger:{
                    player:"recoverAfter",
                },
                direct:true,
                filter:function (event,player){
                    return event.getParent(2).name!='DIY_shushen';
                },
                content:function(){
        "step 0"
        event.count=trigger.num;
        "step 1"
        player.chooseTarget(get.prompt('DIY_shushen'),'ä»¤ä¸€åè§’è‰²é€‰æ‹©æ‘¸ä¸¤å¼ ç‰Œæˆ–å›å¤1ç‚¹ä½“åŠ›').set('ai',function(target){
            return get.attitude(_status.event.player,target);
        });
        "step 2"
        if(result.bool){
            event.count--;
            player.logSkill('DIY_shushen',result.targets);
            result.targets[0].chooseDrawRecover(2,true);
            if(event.count) event.goto(1);
        }
    },
                ai:{
                    threaten:0.8,
                    expose:0.1,
                },
            },
            "DIY_shenzhi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                check:function(event,player){
        if(player.hp>2) return false;
        var cards=player.getCards('h');
        if(cards.length>3) return false;
        for(var i=0;i<cards.length;i++){
            if(get.value(cards[i])>7||get.tag(cards[i],'recover')>=1) return false;
        }
        return true;
    },
                filter:function(event,player){
        return player.countCards('h')>=player.hp&&player.isDamaged();
    },
                preHidden:true,
                content:function(){
        player.chooseToDiscard(player.hp,'he',true);
        player.recover();
    },
            },
            "DIY_guixiu":{
                audio:"spguixiu",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                forced:true,
                filter:function(event,player){
                    if(player.hp%2==1&&player.countCards('h')%2==1) return false;
        return true;
    },
                content:function(){
        player.recover();
    },
            },
            "DIY_qingyu":{
                audio:"qingyu",
                dutySkill:true,
                trigger:{
                    player:"damage",
                },
                forced:true,
                filter:function(event,player){
                    return player.countCards('he',function(card){
                        return lib.filter.cardDiscardable(card,player,'DIY_qingyu');
                        })>1;
                },
                content:function(){
        player.chooseToDiscard(2,'he',true);
        player.recover();
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    "maixie_defend":true,
                    filterDamage:true,
                    skillTagFilter:function(player,tag,arg){
            if(arg&&arg.player){
                if(arg.player.hasSkillTag('jueqing',false,player)) return false;
            }
        },
                },
                group:["DIY_qingyu_achieve","DIY_qingyu_fail"],
                subSkill:{
                    achieve:{
                        trigger:{
                            player:"phaseZhunbeiBegin",
                        },
                        forced:true,
                        skillAnimation:true,
                        animationColor:"fire",
                        filter:function(event,player){
                return player.isHealthy()&&player.countCards('h')==0;
            },
                        content:function(){
                game.log(player,'æˆåŠŸå®Œæˆä½¿å‘½');
                player.awakenSkill('DIY_qingyu');
                player.addSkillLog('DIY_xuancun');
            },
                        sub:true,
                    },
                    fail:{
                        trigger:{
                            player:"dying",
                        },
                        forced:true,
                        content:function(){
                game.log(player,'ä½¿å‘½å¤±è´¥');
                player.awakenSkill('DIY_qingyu');
                player.loseMaxHp();
            },
                        ai:{
                            threaten:2,
                        },
                        sub:true,
                    },
                },
                derivation:"DIY_xuancun",
            },
            "DIY_xuancun":{
                audio:"xuancun",
                trigger:{
                    global:"phaseEnd",
                },
                filter:function(event,player){
        return player.countCards('h')<player.hp;
    },
                logTarget:"player",
                check:function(event,player){
        return get.attitude(player,event.player)>0;
    },
                "prompt2":function(event,player){
        return 'ä»¤ä½ ä¸å…¶æ‘¸'+get.cnNumber(player.hp-player.countCards('h'))+'å¼ ç‰Œ';
    },
                content:function(){
        trigger.player.draw(player.hp-player.countCards('h'));
    },
            },
            "DIY_bifa":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:7",
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                mark:true,
                marktext:"æª„",
                intro:{
                    name:"ã€Šä¸ºè¢ç»æª„è±«å·æ–‡ã€‹",
                    content:function(storage,player){
                        var num=Math.min(1756,player.countMark("DIY_bifa"));
                        var str='  å·¦å°†å†›é¢†è±«å·åˆºå²éƒ¡å›½ç›¸å®ˆï¼š';
                        var list='ç›–é—»æ˜ä¸»å›¾å±ä»¥åˆ¶å˜ï¼Œå¿ è‡£è™‘éš¾ä»¥ç«‹æƒã€‚æ˜¯ä»¥æœ‰éå¸¸ä¹‹äººï¼Œç„¶åæœ‰éå¸¸ä¹‹äº‹ï¼Œæœ‰éå¸¸ä¹‹äº‹ï¼Œç„¶åç«‹éå¸¸ä¹‹åŠŸã€‚å¤«éå¸¸è€…ï¼Œæ•…éå¸¸äººæ‰€æ‹Ÿä¹Ÿã€‚æ›©è€…å¼ºç§¦å¼±ä¸»ï¼Œèµµé«˜æ‰§æŸ„ï¼Œä¸“åˆ¶æœæƒï¼Œå¨ç¦ç”±å·±ï¼Œæ—¶äººè¿«èƒï¼Œè«æ•¢æ­£è¨€ï¼Œç»ˆæœ‰æœ›å¤·ä¹‹è´¥ï¼Œç¥–å®—ç„šç­ï¼Œæ±¡è¾±è‡³ä»Šï¼Œæ°¸ä¸ºä¸–é‰´ã€‚åŠè‡»å•åå­£å¹´ï¼Œäº§ã€ç¦„ä¸“æ”¿ï¼Œå†…å…¼äºŒå†›ï¼Œå¤–ç»Ÿæ¢ã€èµµï¼Œæ“…æ–­ä¸‡æœºï¼Œå†³äº‹çœç¦ï¼Œä¸‹å‡Œä¸Šæ›¿ï¼Œæµ·å†…å¯’å¿ƒã€‚äºæ˜¯ç»›ä¾¯ã€æœ±è™šå…´å…µå¥‹æ€’ï¼Œè¯›å¤·é€†æš´ï¼Œå°Šç«‹å¤ªå®—ï¼Œæ•…èƒ½ç‹é“å…´éš†ï¼Œå…‰æ˜æ˜¾èï¼Œæ­¤åˆ™å¤§è‡£ç«‹æƒä¹‹æ˜è¡¨ä¹Ÿã€‚å¸ç©ºæ›¹æ“ç¥–çˆ¶ä¸­å¸¸ä¾è…¾ï¼Œä¸å·¦æ‚ºã€å¾ç’œå¹¶ä½œå¦–å­½ï¼Œé¥•é¤®æ”¾æ¨ªï¼Œä¼¤åŒ–è™æ°‘ã€‚çˆ¶åµ©ï¼Œä¹ä¸æºå…»ï¼Œå› èµƒå‡ä½ï¼Œèˆ†é‡‘è¾‡ç’§ï¼Œè¾“è´§æƒé—¨ï¼Œçªƒç›—é¼å¸ï¼Œå€¾è¦†é‡å™¨ã€‚æ“èµ˜é˜‰é—ä¸‘ï¼Œæœ¬æ— æ‡¿å¾·ï¼Œåƒ„ç‹¡é”‹åï¼Œå¥½ä¹±ä¹ç¥¸ã€‚å¹•åºœè‘£ç»Ÿé¹°æ‰¬ï¼Œæ‰«é™¤å‡¶é€†ã€‚ç»­é‡è‘£å“ä¾µå®˜æš´å›½ï¼Œäºæ˜¯æå‰‘æŒ¥é¼“ï¼Œå‘å‘½ä¸œå¤ã€‚æ”¶ç½—è‹±é›„ï¼Œå¼ƒç‘•å–ç”¨ï¼Œæ•…é‚ä¸æ“åŒè°˜åˆè°‹ï¼Œæˆä»¥è£¨å¸ˆï¼Œè°“å…¶é¹°çŠ¬ä¹‹æ‰ï¼Œçˆªç‰™å¯ä»»ã€‚è‡³ä¹ƒæ„šä½»çŸ­ç•¥ï¼Œè½»è¿›æ˜“é€€ï¼Œä¼¤å¤·æŠ˜è¡„ï¼Œæ•°ä¸§å¸ˆå¾’ã€‚å¹•åºœè¾„å¤åˆ†å…µå‘½é”ï¼Œä¿®å®Œè¡¥è¾‘ï¼Œè¡¨è¡Œä¸œéƒ¡é¢†å…–å·åˆºå²ï¼Œè¢«ä»¥è™æ–‡ï¼Œå¥–ä¸­éå¨æŸ„ï¼Œå†€è·ç§¦å¸ˆä¸€å…‹ä¹‹æŠ¥ã€‚è€Œæ“é‚æ‰¿èµ„æ‹”æ‰ˆï¼Œè‚†è¡Œå‡¶å¿’ï¼Œå‰²å‰¥å…ƒå…ƒï¼Œæ®‹è´¤å®³å–„ã€‚æ•…ä¹æ±Ÿå¤ªå®ˆè¾¹è®©ï¼Œè‹±æ‰ä¿Šä¼Ÿï¼Œå¤©ä¸‹çŸ¥åï¼Œç›´è¨€æ­£è‰²ï¼Œè®ºä¸é˜¿è°„ï¼Œèº«é¦–è¢«æ­æ‚¬ä¹‹è¯›ï¼Œå¦»å­¥å—ç°ç­ä¹‹å’ã€‚è‡ªæ˜¯å£«æ—æ„¤ç—›ï¼Œæ°‘æ€¨å¼¥é‡ï¼Œä¸€å¤«å¥‹è‡‚ï¼Œä¸¾å·åŒå£°ï¼Œæ•…èº¬ç ´äºå¾æ–¹ï¼Œåœ°å¤ºäºå•å¸ƒï¼Œå½·å¾¨ä¸œè£”ï¼Œè¹ˆæ®æ— æ‰€ã€‚å¹•åºœæƒŸå¼ºå¹²å¼±æä¹‹ä¹‰ï¼Œä¸”ä¸ç™»å›äººä¹‹å…šï¼Œæ•…å¤æ´æ—Œæ“ç”²ï¼Œå¸­å·èµ·å¾ï¼Œé‡‘é¼“å“æŒ¯ï¼Œå¸ƒä¼—å¥”æ²®ï¼Œæ‹¯å…¶æ­»äº¡ä¹‹æ‚£ï¼Œå¤å…¶æ–¹ä¼¯ä¹‹ä½ï¼Œåˆ™å¹•åºœæ— å¾·äºå…–åœŸä¹‹æ°‘ï¼Œè€Œæœ‰å¤§é€ äºæ“ä¹Ÿã€‚åä¼šé¸¾é©¾åæ—†ï¼Œç¾¤è™å¯‡æ”»ã€‚æ—¶å†€å·æ–¹æœ‰åŒ—é„™ä¹‹è­¦ï¼ŒåŒªé‘ç¦»å±€ï¼Œæ•…ä½¿ä»äº‹ä¸­éƒå¾å‹‹å°±å‘é£æ“ï¼Œä½¿ç¼®ä¿®éƒŠåº™ï¼Œç¿Šå«å¹¼ä¸»ã€‚æ“ä¾¿æ”¾å¿—ï¼Œä¸“è¡Œèƒè¿ï¼Œå½“å¾¡è€…ç¦ï¼Œå‘ä¾®ç‹å®¤ï¼Œè´¥æ³•ä¹±çºªï¼Œåé¢†ä¸‰å°ï¼Œä¸“åˆ¶æœæ”¿ï¼Œçˆµèµç”±å¿ƒï¼Œåˆ‘æˆ®åœ¨å£ï¼Œæ‰€çˆ±å…‰äº”å®—ï¼Œæ‰€æ¶ç­ä¸‰æ—ï¼Œç¾¤è°ˆè€…å—æ˜¾è¯›ï¼Œè…¹è®®è€…è’™éšæˆ®ï¼Œç™¾å¯®é’³å£ï¼Œé“è·¯ä»¥ç›®ï¼Œå°šä¹¦è®°æœä¼šï¼Œå…¬å¿å……å‘˜å“è€Œå·²ã€‚æ•…å¤ªå°‰æ¨å½ªï¼Œå…¸å†äºŒå¸ï¼Œäº«å›½æä½ï¼Œæ“å› ç¼˜çœ¦çšï¼Œè¢«ä»¥éç½ªï¼Œæ¦œæ¥šå‚å¹¶ï¼Œäº”æ¯’å¤‡è‡³ï¼Œè§¦æƒ…ä»»å¿’ï¼Œä¸é¡¾å®ªçº²ã€‚åˆè®®éƒèµµå½¦ï¼Œå¿ è°ç›´è¨€ï¼Œè®®æœ‰å¯çº³ã€‚æ˜¯ä»¥åœ£æœå«å¬ï¼Œæ”¹å®¹åŠ é¥°ï¼Œæ“æ¬²è¿·å¤ºæ—¶æ˜ï¼Œæœç»è¨€è·¯ï¼Œæª€æ”¶ç«‹æ€ï¼Œä¸ä¿ŸæŠ¥é—»ã€‚åˆæ¢å­ç‹ï¼Œå…ˆå¸æ¯æ˜†ï¼ŒåŸé™µå°Šæ˜¾ï¼Œæ¡‘æ¢“æ¾æŸï¼ŒçŠ¹å®œè‚ƒæ­ï¼Œè€Œæ“å¸…å°†åå£«ï¼Œäº²ä¸´å‘æ˜ï¼Œç ´æ£ºè£¸å°¸ï¼Œæ å–é‡‘å®ï¼Œè‡³ä»¤åœ£æœæµæ¶•ï¼Œå£«æ°‘ä¼¤æ€€ã€‚æ“åˆç‰¹ç½®å‘ä¸˜ä¸­éƒå°†ã€æ‘¸é‡‘æ ¡å°‰ï¼Œæ‰€é‡éš³çªï¼Œæ— éª¸ä¸éœ²ã€‚èº«å¤„ä¸‰å…¬ä¹‹ä½ï¼Œè€Œè¡Œæ¡€è™ä¹‹æ€ï¼Œæ±¡å›½è™æ°‘ï¼Œæ¯’æ–½äººé¬¼ã€‚åŠ å…¶ç»†æ”¿è‹›æƒ¨ï¼Œç§‘é˜²äº’è®¾ï¼Œç½¾ç¼´å……è¹Šï¼Œå‘é˜±å¡è·¯ï¼Œä¸¾æ‰‹æŒ‚ç½‘ç½—ï¼ŒåŠ¨è¶³è¹ˆæœºé™·ï¼Œæ˜¯ä»¥å…–ã€è±«æœ‰æ— èŠä¹‹æ°‘ï¼Œå¸éƒ½æœ‰åå—Ÿä¹‹æ€¨ã€‚å†è§‚è½½ç±ï¼Œæ— é“ä¹‹è‡£ï¼Œè´ªæ®‹é…·çƒˆï¼Œäºæ“ä¸ºç”šã€‚å¹•åºœæ–¹è¯˜å¤–å¥¸ï¼ŒæœªåŠæ•´è®­ï¼ŒåŠ ç»ªå«å®¹ï¼Œå†€å¯å¼¥ç¼ã€‚è€Œæ“è±ºç‹¼é‡å¿ƒï¼Œæ½œåŒ…ç¥¸è°‹ï¼Œä¹ƒæ¬²æ‘§æŒ æ ‹æ¢ï¼Œå­¤å¼±æ±‰å®¤ï¼Œé™¤ç­å¿ æ­£ï¼Œä¸“ä¸ºæ­é›„ã€‚å¾€è€…ä¼é¼“åŒ—å¾å…¬å­™ç“’ï¼Œå¼ºå¯‡æ¡€é€†ï¼Œæ‹’å›´ä¸€å¹´ã€‚æ“å› å…¶æœªç ´ï¼Œé˜´äº¤ä¹¦å‘½ï¼Œå¤–åŠ©ç‹å¸ˆï¼Œå†…ç›¸æ©è¢­ï¼Œæ•…å¼•å…µé€ æ²³ï¼Œæ–¹èˆŸåŒ—æµã€‚ä¼šå…¶è¡Œäººå‘éœ²ï¼Œç“’äº¦æ­å¤·ï¼Œæ•…ä½¿é”‹èŠ’æŒ«ç¼©ï¼Œå¥å›¾ä¸æœã€‚å°”ä¹ƒå¤§å†›è¿‡è¡è¥¿å±±ï¼Œå± å„å·¦æ ¡ï¼Œçš†æŸæ‰‹å¥‰è´¨ï¼Œäº‰ä¸ºå‰ç™»ï¼ŒçŠ¬ç¾Šæ®‹ä¸‘ï¼Œæ¶ˆæ²¦å±±è°·ã€‚äºæ˜¯æ“å¸ˆéœ‡æ…‘ï¼Œæ™¨å¤œé€‹éï¼Œå±¯æ®æ•–ä»“ï¼Œé˜»æ²³ä¸ºå›ºï¼Œæ¬²ä»¥è—è‚ä¹‹æ–§ï¼Œå¾¡éš†è½¦ä¹‹éš§ã€‚å¹•åºœå¥‰æ±‰å¨çµï¼ŒæŠ˜å†²å®‡å®™ï¼Œé•¿æˆŸç™¾ä¸‡ï¼Œèƒ¡éª‘åƒç¾¤ï¼Œå¥‹ä¸­é»„ã€è‚²ã€è·ä¹‹å£«ï¼Œéª‹è‰¯å¼“åŠ²å¼©ä¹‹åŠ¿ï¼Œå¹¶å·è¶Šå¤ªè¡Œï¼Œé’å·æ¶‰æµã€æ¼¯ï¼Œå¤§å†›æ³›é»„æ²³è€Œè§’å…¶å‰ï¼Œè†å·ä¸‹å®›ã€å¶è€Œæå…¶åï¼Œé›·éœ†è™æ­¥ï¼Œå¹¶é›†è™åº­ï¼Œè‹¥ä¸¾ç‚ç«ä»¥ç„«é£è“¬ï¼Œè¦†æ²§æµ·ä»¥æ²ƒç†›ç‚­ï¼Œæœ‰ä½•ä¸ç­è€…å“‰ï¼Ÿåˆæ“å†›åå£«ï¼Œå…¶å¯æˆ˜è€…ï¼Œçš†å‡ºè‡ªå¹½ã€å†€ï¼Œæˆ–æ•…è¥éƒ¨æ›²ï¼Œå’¸æ€¨æ—·æ€å½’ï¼Œæµæ¶•åŒ—é¡¾ã€‚å…¶é¦€å…–ã€è±«ä¹‹æ°‘ï¼ŒåŠå•å¸ƒã€å¼ æ‰¬ä¹‹é—ä¼—ï¼Œè¦†äº¡è¿«èƒï¼Œæƒæ—¶è‹Ÿä»ï¼Œå„è¢«åˆ›ç—ï¼Œäººä¸ºé› æ•Œã€‚è‹¥å›æ—†æ–¹å¾‚ï¼Œç™»é«˜ç½”è€Œå‡»é¼“å¹ï¼Œæ‰¬ç´ æŒ¥ä»¥å¯é™è·¯ï¼Œå¿…åœŸå´©ç“¦è§£ï¼Œä¸ä¿Ÿè¡€åˆƒã€‚æ–¹ä»Šæ±‰å®¤é™µè¿Ÿï¼Œçº²ç»´å¼›ç»ï¼Œåœ£æœæ— ä¸€ä»‹ä¹‹è¾…ï¼Œè‚¡è‚±æ— æŠ˜å†²ä¹‹åŠ¿ï¼Œæ–¹ç•¿ä¹‹å†…ï¼Œç®€ç»ƒä¹‹è‡£çš†å‚å¤´æ‹“ç¿¼ï¼Œè«æ‰€å‡­æƒï¼Œè™½æœ‰å¿ ä¹‰ä¹‹ä½ï¼Œèƒäºæš´è™ä¹‹è‡£ï¼Œç„‰èƒ½å±•å…¶èŠ‚ï¼Ÿåˆæ“æŒéƒ¨æ›²ç²¾å…µä¸ƒç™¾ï¼Œå›´å®ˆå®«é˜™ï¼Œå¤–æ‰˜å®¿å«ï¼Œå†…å®æ‹˜æ‰§ï¼Œæƒ§å…¶ç¯¡é€†ä¹‹èŒï¼Œå› æ–¯è€Œä½œã€‚æ­¤ä¹ƒå¿ è‡£è‚è„‘æ¶‚åœ°ä¹‹ç§‹ï¼Œçƒˆå£«ç«‹åŠŸä¹‹ä¼šï¼Œå¯ä¸å‹–å“‰ï¼æ“åˆçŸ«å‘½ç§°åˆ¶ï¼Œé£ä½¿å‘å…µï¼Œæè¾¹è¿œå·éƒ¡è¿‡å¬è€Œç»™ä¸ï¼Œå¼ºå¯‡å¼±ä¸»è¿ä¼—æ—…å›ï¼Œä¸¾ä»¥ä¸§åï¼Œä¸ºå¤©ä¸‹ç¬‘ï¼Œåˆ™æ˜å“²ä¸æ•¢ä¹Ÿã€‚å³æ—¥å¹½ã€å¹¶ã€é’ã€å†€å››å·å¹¶è¿›ã€‚ä¹¦åˆ°ï¼Œè†å·å‹’è§å…µï¼Œä¸å»ºå¿ å°†å†›ååŒå£°åŠ¿ï¼Œå·éƒ¡å„æ•´æˆé©¬ï¼Œç½—è½å¢ƒç•Œï¼Œä¸¾å¸ˆæ‰¬å¨ï¼Œå¹¶åŒ¡ç¤¾ç¨·ï¼Œåˆ™éå¸¸ä¹‹åŠŸäºæ˜¯ä¹è‘—ã€‚å…¶å¾—æ“é¦–è€…ï¼Œå°äº”è¡Œæˆ·ä¾¯ï¼Œèµé’±äº”åƒä¸‡ã€‚éƒ¨æ›²åè£¨å°†æ ¡è¯¸åé™è€…ï¼Œå‹¿æœ‰æ‰€é—®ã€‚å¹¿å®£æ©ä¿¡ï¼Œç­æ‰¬ç¬¦èµï¼Œå¸ƒå‘Šå¤©ä¸‹ï¼Œå’¸ä½¿çŸ¥åœ£æœæœ‰æ‹˜é€¼ä¹‹éš¾ï¼Œå¦‚å¾‹ä»¤ã€‚';
                        for(var i=0;i<num;i++){
                            str+=list[i];
                        }
                        if(num<1756) str+='<br><li>'+get.translation(player)+'æ­£åœ¨å¥‹ç¬”ç–¾ä¹¦ä¸­...';
                        return str;
                    },
                },
                forced:true,
                content:function(){
                    'step 0'
                    var num=get.translation(trigger.card.name).length*5;
                    player.addMark('DIY_bifa',num,false);
                    if(!player.storage.DIY_bifa_damage) player.storage.DIY_bifa_damage=0;
                    player.storage.DIY_bifa_damage+=num;
                    'step 1'
                    var num=player.countMark("DIY_bifa");
                    if(num<1756) event.goto(4);
                    'step 2'
                    player.chooseTarget(get.prompt('DIY_bifa'),'ç¬”ä¼ï¼šå¯¹ä¸€åè§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³',true).set('ai',function(target){
                        var att=get.attitude(player,target);
                        return att<0;
                    });
                    'step 3'
                    if(result.bool){
                        player.storage.DIY_bifa_damage--;
                        var target=result.targets[0];
                        target.damage(1);
                        if(player.storage.DIY_bifa_damage>0) event.goto(2);
                    }
                    'step4'
                },
            },
            "DIY_songci":{
                audio:"songci",
                enable:"phaseUse",
                filterTarget:true,
                filter:function(event,player){
        return player.getHistory('custom',function(evt){
            return evt.DIY_songci==true;
        }).length<player.hp;
    },
                content:function(){
        player.getHistory('custom').push({DIY_songci:true});
        if(target.countCards('h')>target.hp){
            target.chooseToDiscard(2,'he',true);
        }
        else{
            target.draw(2);
        }
    },
                ai:{
                    order:7,
                    threaten:1.6,
                    expose:0.2,
                    result:{
                        target:function(player,target){
                if(target.countCards('h')<=target.hp){
                    return 1;
                }
                else if(target.countCards('h')>target.hp){
                    return -1;
                }
            },
                    },
                },
            },
            "DIY_pingjian":{
                audio:"pingjian",
                trigger:{
                    player:["phaseZhunbeiBegin","damageEnd","phaseJieshuBegin"],
                },
                initList:function(){
        var list=[];
        if(_status.connectMode) var list=get.charactersOL();
        else{
            var list=[];
            for(var i in lib.character){
                if(lib.filter.characterDisabled2(i)||lib.filter.characterDisabled(i)) continue;
                list.push(i);
            }
        }
        game.countPlayer2(function(current){
            list.remove(current.name);
            list.remove(current.name1);
            list.remove(current.name2);
            if(current.storage.DIY_baobian&&current.storage.DIY_baobian.character) list.removeArray(current.storage.DIY_baobian.character)
        });
        _status.characterlist=list;
    },
                frequent:true,
                content:function(){
        'step 0'
        if(!player.storage.DIY_pingjian) player.storage.DIY_pingjian=[];
        event._result={bool:true};
        'step 1'
        if(result.bool){
            if(!_status.characterlist){
                lib.skill.DIY_pingjian.initList();
            }
            var list=[];
            var skills=[];
            var map=[];
            _status.characterlist.randomSort();
            var name2=event.triggername;
            for(var i=0;i<_status.characterlist.length;i++){
                var name=_status.characterlist[i];
                if(name.indexOf('zuoci')!=-1||name.indexOf('xushao')!=-1) continue;
                var skills2=lib.character[name][3];
                for(var j=0;j<skills2.length;j++){
                    if(player.storage.DIY_pingjian.contains(skills2[j])) continue;
                    if(skills.contains(skills2[j])){
                        list.add(name);
                        if(!map[name]) map[name]=[];
                        map[name].push(skills2[j]);
                        skills.add(skills2[j]);
                        continue;
                    }
                    var list2=[skills2[j]];
                    game.expandSkills(list2);
                    for(var k=0;k<list2.length;k++){
                        var info=lib.skill[list2[k]];
                        if(!info||!info.trigger||!info.trigger.player||info.silent||info.juexingji||info.hiddenSkill) continue;
                        if(info.trigger.player==name2||Array.isArray(info.trigger.player)&&info.trigger.player.contains(name2)){
                            if(info.init||info.ai&&(info.ai.combo||info.ai.notemp||info.ai.neg)) continue;
                            if(info.filter){
                                try{
                                    var bool=info.filter(trigger,player,name2);
                                    if(!bool) continue;
                                }
                                catch(e){
                                    continue;
                                }
                            }
                            list.add(name);
                            if(!map[name]) map[name]=[];
                            map[name].push(skills2[j]);
                            skills.add(skills2[j]);
                            break;
                        }
                    }
                }
                if(list.length>2) break;
            }
            if(!skills.length){
                //player.draw();
                event.finish();
            }
            else{
                //skills.unshift('æ‘¸ä¸€å¼ ç‰Œ');
                player.chooseControl(skills).set('dialog',['è¯·é€‰æ‹©è¦å‘åŠ¨çš„æŠ€èƒ½',[list,'character']]).set('ai',function(){return skills.randomGet()});
            }
        }
        else event.finish();
        'step 2'
        if(result.control=='æ‘¸ä¸€å¼ ç‰Œ'){
            player.draw();
            return;
        }
        player.storage.DIY_pingjian.add(result.control);
        player.addSkill(result.control);
    },
                group:"DIY_pingjian_use",
                "phaseUse_special":["xinfu_lingren"],
            },
            "DIY_pingjian_use":{
                audio:"pingjian",
                enable:"phaseUse",
                usable:1,
                position:"he",
                content:function(){
        'step 0'
        if(!player.storage.DIY_pingjian) player.storage.DIY_pingjian=[];
        event._result={bool:true};
        'step 1'
        if(result.bool){
            var list=[];
            var skills=[];
            var map=[];
            if(!_status.characterlist){
                lib.skill.DIY_pingjian.initList();
            }
            _status.characterlist.randomSort();
            for(var i=0;i<_status.characterlist.length;i++){
                var name=_status.characterlist[i];
                if(name.indexOf('zuoci')!=-1||name.indexOf('xushao')!=-1) continue;
                var skills2=lib.character[name][3];
                for(var j=0;j<skills2.length;j++){
                    if(player.storage.DIY_pingjian.contains(skills2[j])) continue;
                    if(skills.contains(skills2[j])||lib.skill.DIY_pingjian.phaseUse_special.contains(skills2[j])){
                        list.add(name);
                        if(!map[name]) map[name]=[];
                        map[name].push(skills2[j]);
                        skills.add(skills2[j]);
                        continue;
                    }
                    var list2=[skills2[j]];
                    game.expandSkills(list2);
                    for(var k=0;k<list2.length;k++){
                        var info=lib.skill[list2[k]];
                        if(!info||!info.enable||info.viewAs||info.juexingji||info.hiddenSkill) continue;
                        if(info.enable=='phaseUse'||Array.isArray(info.enable)&&info.enable.contains('phaseUse')){
                            if(info.init||info.onChooseToUse||info.ai&&(info.ai.combo||info.ai.notemp||info.ai.neg)) continue;
                            if(info.filter){
                                try{
                                    var bool=info.filter(event.getParent(2),player);
                                    if(!bool) continue;
                                }
                                catch(e){
                                    continue;
                                }
                            }
                            list.add(name);
                            if(!map[name]) map[name]=[];
                            map[name].push(skills2[j]);
                            skills.add(skills2[j]);
                            break;
                        }
                    }
                }
                if(list.length>2) break;
            }
            if(!skills.length){
                //player.draw();
                event.finish();
            }
            else{
                //skills.unshift('æ‘¸ä¸€å¼ ç‰Œ');
                player.chooseControl(skills).set('dialog',['è¯·é€‰æ‹©è¦å‘åŠ¨çš„æŠ€èƒ½',[list,'character']]).set('ai',function(){return skills.randomGet()});
            }
        }
        else event.finish();
        'step 2'
        if(result.control=='æ‘¸ä¸€å¼ ç‰Œ'){
            player.draw();
            return;
        }
        player.storage.DIY_pingjian.add(result.control);
        player.addSkill(result.control);
        player.addTempSkill('pingjian_temp','phaseUseEnd');
        player.storage.DIY_pingjian_temp=result.control;
        //event.getParent(2).goto(0);
    },
                ai:{
                    order:10,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_biluan":{
                audio:"biluan",
                trigger:{
                    global:["phaseBefore","gameDrawAfter"],
                    player:["phaseBefore","enterGame","showCharacterAfter"],
                },
                forced:true,
                charlotte:true,
                skillAnimation:true,
                animationColor:"thunder",
                content:function(){
        player.logSkill("DIY_biluan_audio");
        var Identity=player.identity;
        player.identity="zhu";
        player.showIdentity();
        player.update();
        player.logSkill("DIY_biluan_audio");
        game.zhu.identity=Identity;
        game.zhu.showIdentity();
        game.zhu.update();
        player.logSkill("DIY_biluan_audio");
        game.zhu=player;
        player.out("DIY_biluan");
        game.countPlayer(function(current){
            if(current!=player&&current.identity=="nei"){
                current.identity="zhong";
            }
        });
        game.countPlayer(function(current){
            if(current!=player){
                player.line(current,'yellow');
                current.showIdentity();
                current.goMad();
            }
        });
    },
            },
            "DIY_biluan_audio":{
                audio:"biluan",
                charlotte:true,
            },
            "DIY_qice":{
                hiddenCard:function(player,name){
        return get.type(name)=='trick'&&!player.getStorage('DIY_qice2').contains(name)&&player.countCards('h')>1;
    },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                enable:"chooseToUse",
                filter:function(event,player){
        var cards=player.getCards('h');
        if(cards.length==0) return false;
        var mod2=game.checkMod(cards[0],player,'unchanged','cardEnabled2',player);
        if(mod2===false) return false;
        var storage=player.getStorage('DIY_qice2');
        for(var i of lib.inpile){
            if(!storage.contains(i)&&get.type(i)=='trick'&&event.filterCard({
                name:i,
                cards:cards,
            },player,event)) return true;
        }
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var cards=player.getCards('h');
            var storage=player.getStorage('DIY_qice2');
            var list=[];
            for(var i of lib.inpile){
                if(!storage.contains(i)&&get.type(i)=='trick'&&event.filterCard({
                    name:i,
                    cards:cards,
                },player,event)){
                    list.push(['é”¦å›Š','',i]);
                }
            }
            return ui.create.dialog('å¥‡ç­–',[list,'vcard'],'hidden');
        },
                    check:function(button){
            var player=_status.event.player;
            return player.getUseValue({name:button.link[2]})+1;
        },
                    backup:function(links,player){
            return {
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                popname:true,
                filterCard:true,
                selectCard:1,
                position:'h',
                popname:true,
                check:function(card){
                    return 6-get.value(card);
                },
                viewAs:{
                    name:links[0][2],
                },
                onuse:function(links,player){
                    if(!player.storage.DIY_qice2) player.storage.DIY_qice2=[];
                    player.storage.DIY_qice2.add(links.card.name);
                    player.addTempSkill('DIY_qice2');
                    player.logSkill("DIY_qice");
                },
            }
        },
                    prompt:function(links,player){
            return 'å°†ä¸€å¼ ç‰Œå½“åš'+get.translation(links[0][2])+'ä½¿ç”¨';
        },
                },
                ai:{
                    order:12,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_qice2":{
                onremove:true,
            },
            "DIY_ranshang":{
                audio:"ranshang",
                trigger:{
                    player:"damageEnd",
                },
                filter:function(event,player){
        return event.nature=='fire';
    },
                forced:true,
                check:function(){
        return false;
    },
                content:function(){
        player.addMark('DIY_ranshang',trigger.num);
    },
                intro:{
                    "name2":"ç‡ƒ",
                    content:"mark",
                },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(card.name=='sha'){
                    if(card.nature=='fire'||player.hasSkill('zhuque_skill')) return 2;
                }
                if(get.tag(card,'fireDamage')&&current<0) return 2;
            },
                    },
                },
                group:"DIY_ranshang2",
            },
            "DIY_ranshang2":{
                audio:"ranshang",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_ranshang')>0;
    },
                content:function(){
        player.loseHp(player.countMark('DIY_ranshang'));
        player.loseMaxHp();
        player.draw(player.countMark('DIY_ranshang'));
    },
            },
            "DIY_hanyong":{
                trigger:{
                    player:"useCard",
                },
                audio:"hanyong",
                filter:function(event,player){
        return (event.card.name=='nanman'||event.card.name=='wanjian'||event.card.name=='sha')&&event.card;
    },
                content:function(){
        player.loseMaxHp();
        trigger.baseDamage++;
        if(!player.isMaxHp(true)){
            trigger.nowuxie=true;
            trigger.directHit.addArray(game.players);
        }
    },
                group:"DIY_hanyong2",
            },
            "DIY_hanyong2":{
                trigger:{
                    player:"damageBegin3",
                    source:"damageBegin1",
                },
                audio:"hanyong",
                forced:true,
                filter:function(event,player){
        return player.isMaxHp(true);
    },
                content:function(){
        trigger.num++;
    },
                ai:{
                    presha:true,
                },
            },
            "DIY_fenyin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:8",
                group:["DIY_fenyin1","DIY_fenyin2","DIY_fenyin3","DIY_fenyin4","DIY_fenyin5","DIY_fenyin6","DIY_fenyin7","DIY_fenyin8"],
                mark:true,
                marktext:"å¥‹éŸ³",
                intro:{
                    "name2":"å¥‹éŸ³",
                    content:function(storage,player){
            var num=player.countMark("DIY_fenyin");
            var str='<li>é€ç»™ä½ å°å¿ƒå¿ƒ é€ä½ èŠ±ä¸€æœµ';
            if(num==1){
            str='<li>ä½ åœ¨æˆ‘ç”Ÿå‘½ä¸­ å¤ªå¤šçš„æ„ŸåŠ¨';
            }
            if(num==2){
            str='<li>ä½ æ˜¯æˆ‘çš„å¤©ä½¿ ä¸€è·¯æŒ‡å¼•æˆ‘';
            }
            if(num==3){
            str='<li>æ— è®ºå²æœˆå˜å¹» çˆ±ä½ å”±æˆæ­Œ';
            }
            if(num==4){
            str='<li>å¬æˆ‘è¯´è°¢è°¢ä½ <br>å› ä¸ºæœ‰ä½  æ¸©æš–äº†å››å­£';
            }
            if(num==5){
            str='<li>è°¢è°¢ä½  æ„Ÿè°¢æœ‰ä½ <br>ä¸–ç•Œæ›´ç¾ä¸½';
            }
            if(num==6){
            str='<li>æˆ‘è¦è°¢è°¢ä½  å› ä¸ºæœ‰ä½ <br>çˆ±å¸¸åœ¨å¿ƒåº•';
            }
            if(num==7){
            str='<li>è°¢è°¢ä½  æ„Ÿè°¢æœ‰ä½ <br>æŠŠå¹¸ç¦ä¼ é€’';
            }
            return str;
        },
                },
                init:function(player){
        player.storage.DIY_fenyin=[];
    },
            },
            "DIY_fenyin1":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==0;
    },
                content:function(){
        player.say(["é€ç»™ä½ å°å¿ƒå¿ƒ é€ä½ èŠ±ä¸€æœµ"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return ['wuzhong','zengbin','sadouchengbing','dongzhuxianji','tongzhougongji'].contains(card.name);
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin2":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==1;
    },
                content:function(){
        player.say(["ä½ åœ¨æˆ‘ç”Ÿå‘½ä¸­ å¤ªå¤šçš„æ„ŸåŠ¨"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return ['shan','tao','zong','xionghuangjiu'].contains(card.name);
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin3":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==2;
    },
                content:function(){
        player.say(["ä½ æ˜¯æˆ‘çš„å¤©ä½¿ ä¸€è·¯æŒ‡å¼•æˆ‘"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return get.type(card)=='trick'&&!get.tag(card,'damage')>0;
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin4":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==3;
    },
                content:function(){
        player.say(["æ— è®ºå²æœˆå˜å¹» çˆ±ä½ å”±æˆæ­Œ"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return ['shunshou','guohe'].contains(card.name);
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin5":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==4;
    },
                content:function(){
        player.say(["å¬æˆ‘è¯´è°¢è°¢ä½ <br>å› ä¸ºæœ‰ä½  æ¸©æš–äº†å››å­£"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return get.type(card)=='equip';
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin6":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==5;
    },
                content:function(){
        player.say(["è°¢è°¢ä½  æ„Ÿè°¢æœ‰ä½ <br>ä¸–ç•Œæ›´ç¾ä¸½"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return ['sha','jiu'].contains(card.name);
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin7":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==6;
    },
                content:function(){
        player.say(["æˆ‘è¦è°¢è°¢ä½  å› ä¸ºæœ‰ä½ <br>çˆ±å¸¸åœ¨å¿ƒåº•"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return ['shandian','lebu','bingliang','fulei','caomu'].contains(card.name);
        });
        player.gain(card,'gain2',false);
        trigger.cancel();
    },
            },
            "DIY_fenyin8":{
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                forced:true,
                filter:function(event,player){
        return player.countMark('DIY_fenyin')==7;
    },
                content:function(){
        player.say(["è°¢è°¢ä½  æ„Ÿè°¢æœ‰ä½ <br>æŠŠå¹¸ç¦ä¼ é€’"].randomGet());
        player.addMark('DIY_fenyin',1,false);
        var card=get.cardPile2(function(card){
            return get.type(card)=='trick'&&get.tag(card,'damage')>0;
        });
        player.gain(card,'gain2',false);
        lib.skill.DIY_fenyin.init(player)
        trigger.cancel();
    },
            },
            "DIY_shilu":{
                marktext:"æˆ®",
                intro:{
                    "name2":"æˆ®",
                    content:"mark",
                },
                mod:{
                    maxHandcard:function(player,num){
            return num+player.countMark('DIY_shilu');
        },
                },
                trigger:{
                    global:"damageBegin1",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                filter:function(event,player){
        return event.player!=player;
    },
                content:function(){
        trigger.source=player;
        player.addMark('DIY_shilu',trigger.num);
        trigger._triggered=null;
    },
                group:"DIY_shilu_draw",
                subSkill:{
                    draw:{
                        trigger:{
                            player:"phaseUseBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.countMark('DIY_shilu')>0;
            },
                        content:function(){
                "step 0"
                player.chooseToDiscard('he',true,get.prompt("å¼ƒç½®è‡³å¤š"+get.translation(player.countMark('DIY_shilu'))+"å¼ ç‰Œå¹¶æ‘¸åŒå€çš„ç‰Œ"),[1,player.countMark('DIY_shilu')]).set('ai',function(card){
                    return 5-get.value(card);
                });
                "step 1"
                if(result.bool){
                    player.draw(2*result.cards.length);
                    player.logSkill('DIY_shilu');
                }
            },
                        ai:{
                            result:{
                                player:2,
                            },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_xiongnve":{
                trigger:{
                    global:"dying",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                derivation:"DIY_wansha",
                filter:function(event,player){
        return event.player.hp<=0&&player!=event.player;
    },
                content:function(){
        if(trigger.player.identity=="zhong"){
            player.draw();
            player.addSkill("DIY_wansha");
            trigger.player.identity="fan";
            trigger.player.showIdentity();
            trigger.player.update();
        }
        if(trigger.player.identity=="zhu"){
            if(trigger.player.hasSkill('bahu')){
                trigger.player.removeSkill('bahu');
                trigger.player.removeSkill('feiyang');
                player.addSkill('bahu');
                player.addSkill('feiyang');
            }
            if(trigger.player.hasSkill('tianming')){
                trigger.player.removeSkill('tianming');
                player.addSkill('tianming');
            }
            if(trigger.player.hasSkill('zhuSkill_jiangling')){
                trigger.player.removeSkill('zhuSkill_jiangling');
                player.addSkill('zhuSkill_jiangling');
            }
            if(trigger.player.hasSkill('zhuSkill_xiangyang')){
                trigger.player.removeSkill('zhuSkill_xiangyang');
                player.addSkill('zhuSkill_xiangyang');
            }
            if(trigger.player.hasSkill('zhuSkill_fancheng')){
                trigger.player.removeSkill('zhuSkill_fancheng');
                player.addSkill('zhuSkill_fancheng');
            }
            game.zhu.identity="fan";
            game.zhu.showIdentity();
            game.zhu.update();
            game.zhu=player;
            player.identity="zhu";
            player.showIdentity();
            player.update();
        }
        if(trigger.player.identity=="fan"){
            if(player.identity!=="zhu"){
                player.draw();
                player.recover();
            }
            game.zhu.draw();
            game.zhu.recover();
        }
        if(trigger.player.identity=="nei"){
            player.draw(3);
            lib.element.player.die.apply(trigger.player,[]);
            trigger.player.showIdentity();
            trigger.player.update();
        }
    },
                ai:{
                    expose:10,
                    threaten:1.5,
                },
            },
            "DIY_wansha":{
                audio:"wansha",
                global:"DIY_wansha_global",
                trigger:{
                    global:"dyingBegin",
                },
                forced:true,
                logTarget:"player",
                filter:function(event,player){
        return player==_status.currentPhase;
    },
                content:function(){
        game.countPlayer(function(current){
            if(current!=player&&current!=trigger.player) current.addSkillBlocker('DIY_wansha_fengyin');
        });
        player.addTempSkill('DIY_wansha_clear');
    },
                subSkill:{
                    global:{
                        mod:{
                            cardEnabled:function(card,player){
                    var source=_status.currentPhase;
                    if(card.name=='tao'&&source&&source!=player&&source.hasSkill('DIY_wansha')&&!player.isDying()) return false;
                },
                            cardSavable:function(card,player){
                    var source=_status.currentPhase;
                    if(card.name=='tao'&&source&&source!=player&&source.hasSkill('DIY_wansha')&&!player.isDying()) return false;
                },
                        },
                        sub:true,
                    },
                    fengyin:{
                        inherit:"fengyin",
                        sub:true,
                        init:function(player,skill){
                player.addSkillBlocker(skill);
            },
                        onremove:function(player,skill){
                player.removeSkillBlocker(skill);
            },
                        charlotte:true,
                        skillBlocker:function(skill,player){
                return !lib.skill[skill].charlotte&&!get.is.locked(skill,player);
            },
                        mark:true,
                        mod:{
                            cardEnabled:function(){
                                return false;
                            },
                            cardRespondable:function(){
                                return false;
                            },
                            cardSavable:function(){
                                return false;
                            },
                        },
                        intro:{
                            content:function(storage,player,skill){
                    var list=player.getSkills(null,false,false).filter(function(i){
                        return lib.skill.fengyin.skillBlocker(i,player);
                    });
                    if(list.length) return 'ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºå¡ç‰Œ<br>å¤±æ•ˆæŠ€èƒ½ï¼š'+get.translation(list);
                    return 'ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºå¡ç‰Œ<br>æ— å¤±æ•ˆæŠ€èƒ½';
                },
                        },
                    },
                    clear:{
                        trigger:{
                            global:"dyingAfter",
                        },
                        forced:true,
                        charlotte:true,
                        popup:false,
                        filter:function(event,player){
                return !_status.dying.length;
            },
                        content:function(){
                player.removeSkill('DIY_wansha_clear');
            },
                        onremove:function(){
                game.countPlayer2(function(current){
                    current.removeSkillBlocker('DIY_wansha_fengyin');
                });
            },
                        sub:true,
                    },
                },
            },
            "DIY_zhoufu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"loseAfter",
                    global:"cardsDiscardAfter",
                },
                filter:function(event,player){
                    if(player.getExpansions('DIY_zhoufu').length) return false;
                    if(event.getParent(2).name=='DIY_zhoufu_judge') return false;
        if(event.name=='lose'){
            if(event.type!='discard') return false;
        }
        else{
            var evt=event.getParent();
            if(evt.name!='orderingDiscard'||!evt.relatedEvent||evt.relatedEvent.player!=player||!['useCard','respond'].contains(evt.relatedEvent.name)) return false;
        }
        return (event.cards2||event.cards).filterInD('d').length>0;
                },
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                forced:true,
                content:function(){
                    var cards=(trigger.cards2||trigger.cards).filterInD('d');
        player.addToExpansion(cards[0],player,'give').gaintag.add('DIY_zhoufu');
    },
                ai:{
                    order:8,
                },
                group:["DIY_zhoufu_judge","DIY_zhoufu2"],
                subSkill:{
                    judge:{
                        audio:"DIY_zhoufu",
                        trigger:{
                            global:"judge",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.getExpansions('DIY_zhoufu').length&&event.player.isAlive();
            },
                        logTarget:"player",
                        content:function(){
                'step 0'
                var list=player.getExpansions('DIY_zhoufu');
                player.chooseButton([get.translation(trigger.player)+'çš„'+(trigger.judgestr||'')+'åˆ¤å®šä¸º'+get.translation(trigger.player.judging[0])+
            'ï¼Œ'+get.prompt('DIY_zhoufu'),list,'hidden'],function(button){
                   var card=button.link;
                   var trigger=_status.event.getTrigger();
                   var player=_status.event.player;
                   var judging=_status.event.judging;
                   var result=trigger.judge(card)-trigger.judge(judging);
                   var attitude=get.attitude(player,trigger.player);
                   return result*attitude;
                }).set('judging',trigger.player.judging[0]).set('filterButton',function(button){
                   var player=_status.event.player;
                   var card=button.link;
                   var mod2=game.checkMod(card,player,'unchanged','cardEnabled2',player);
                   if(mod2!='unchanged') return mod2;
                   var mod=game.checkMod(card,player,'unchanged','cardRespondable',player);
                   if(mod!='unchanged') return mod;
                   return true;
                });
                'step 1'
                if(result.bool){
                    event.forceDie=true;
                    player.respond(result.links,'DIY_zhoufu_judge','highlight','noOrdering');
                    result.cards=result.links;
                    var card=result.cards[0];
                    event.card=card;
                }
                else{
                   event.finish(); 
                }
                'step 2'  
                if(result.bool){
                    if(trigger.player.judging[0].clone){
                        trigger.player.judging[0].clone.classList.remove('thrownhighlight');
                        game.broadcast(function(card){
                            if(card.clone){
                               card.clone.classList.remove('thrownhighlight');
                            }
                        },
                        trigger.player.judging[0]);
                        game.addVideo('deletenode',player,get.cardsInfo([trigger.player.judging[0].clone]));
                    }
                    game.cardsDiscard(trigger.player.judging[0]);
                    trigger.player.judging[0]=result.cards[0];
                    trigger.orderingCards.addArray(result.cards);
                    game.log(trigger.player,'çš„åˆ¤å®šç‰Œæ”¹ä¸º',card);
                    if(player!=_status.currentPhase){
                        _status.currentPhase.addTempSkill("DIY_zhoufu_losehp");
                        _status.currentPhase.addMark("DIY_zhoufu_losehp",false);
                    }
                }
            },
                        ai:{
                            rejudge:true,
                            tag:{
                                rejudge:0.6,
                            },
                        },
                        sub:true,
                    },
                    losehp:{
                        audio:"DIY_zhoufu",
                        trigger:{
                            player:"phaseEnd",
                        },
                        direct:true,
                        forced:true,
                        charlotte:true,
                        mark:true,
                        marktext:'å’’ç¼š',
                        intro:{
                            content:"æœ¬å›åˆç»“æŸæ—¶å¤±å»$ç‚¹ä½“åŠ›",
                        },
                        content:function(){
                            var num=player.countMark("DIY_zhoufu_losehp");
                            player.removeMark("DIY_zhoufu_losehp",num);
                            player.loseHp(num);
            },
                        sub:true,
                    },
                },
            },
            "DIY_zhoufu2":{
                audio:"DIY_zhoufu",
                unique:true,
                trigger:{
                    global:"phaseBefore",
                },
                forced:true,
                filter:function(event,player){
                    return !player.getExpansions('DIY_zhoufu').length&&event.player.isAlive();
                },
                content:function(){
                    player.addToExpansion(get.cards(1),'gain2').gaintag.add('DIY_zhoufu');
                },
            },
            "DIY_yingbing":{
                trigger:{
                    global:"useCard",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                check:function(event,player){
        return get.attitude(player,event.player)<0;
    },
                filter:function(event,player){
                if(player==event.player) return false;
                var cards=player.getExpansions('DIY_zhoufu');
        return cards.length&&get.color(cards[0])==get.color(event.card);
    },
                content:function(){
        player.draw();
        trigger.cancel();
        var cards=player.getExpansions('DIY_zhoufu');
        player.loseToDiscardpile(cards);
    },
                ai:{
                    threaten:1.8,
                    expose:0.3,
                },
            },
            "DIY_chexuan":{
                audio:"chexuan",
                enable:"phaseUse",
                derivation:["DIY_sichengliangyu","DIY_tiejixuanyu","DIY_feilunzhanyu"],
                filter:function(event,player){
        return !player.getEquip(5)&&!player.isDisabled(5);
    },
                filterCard:true,
                position:"he",
                check:function(card){
        return 5-get.value(card);
    },
                content:function(){
        'step 0'
        player.chooseButton(['è¯·é€‰æ‹©è¦è£…å¤‡çš„èˆ†',[lib.skill.DIY_chexuan.derivation.map(function(i){
            return ['èˆ†','',i];
        }),'vcard']],true).set('ai',function(button){
            if(button.link[2]=='DIY_sichengliangyu'&&player.countCards('h')<player.hp) return 1;
            return Math.random();
        });
        'step 1'
        var card=game.createCard(result.links[0][2]);
        player.$gain2(card);
        player.equip(card);
        game.delay();
    },
                group:"DIY_chexuan_lose",
                ai:{
                    order:6,
                    result:{
                        player:1,
                    },
                },
                subSkill:{
                    lose:{
                        audio:"chexuan",
                        trigger:{
                            player:"loseAfter",
                            global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                        },
                        frequent:true,
                        filter:function(event,player){
                if(player.isDisabled(5)) return false;
                var evt=event.getl(player);
                if(!evt||!evt.es||!evt.es.length) return false;
                if(event.name=='equip'&&event.player==player) return false;
                for(var i of evt.es){
                    if(get.subtype(i,false)=='equip5') return true;
                }
                return false;
            },
                        content:function(){
                'step 0'
        player.chooseButton(['è¯·é€‰æ‹©è¦è£…å¤‡çš„å®ç‰©',[lib.skill.DIY_chexuan.derivation.map(function(i){
            return ['å®ç‰©','',i];
        }),'vcard']],true).set('ai',function(button){
            if(button.link[2]=='DIY_sichengliangyu'&&player.countCards('h')<player.hp) return 1;
            return Math.random();
        });
        'step 1'
        var card=game.createCard(result.links[0][2]);
        player.$gain2(card);
        player.equip(card);
        game.delay();
            },
                        sub:true,
                    },
                },
            },
            "DIY_qiangshou":{
                mod:{
                    cardUsable:function(card,player,num){
            if(card.name=='sha'&&player.getEquip(1)) return num+1;
        },
                    maxHandcard:function(player,num){
            if(player.getEquip(3)||player.getEquip(4)||player.getEquip(6)) return num+1;
        },
                    globalFrom:function(player,target,distance){
            if(player.getEquip(5)) return distance-1;
        },
                },
            },
            "DIY_feilunzhanyu":{
                trigger:{
                    global:"phaseJieshuBegin",
                },
                equipSkill:true,
                filter:function(event,player){
        return player!=event.player&&event.player.countCards('he')>0&&player.getEquip('DIY_feilunzhanyu');
    },
                logTarget:"player",
                check:function(event,player){
        return get.attitude(player,event.player)<=0;
    },
                content:function(){
        'step 0'
        trigger.player.chooseCard('he',true,'å°†ä¸€å¼ ç‰Œäº¤ç»™'+get.translation(player));
        'step 1'
        if(result.bool) player.gain(result.cards,trigger.player,'giveAuto');
        'step 2'
        var card=player.getEquip('DIY_feilunzhanyu');
        if(card) player.discard(card);
    },
            },
            "DIY_sichengliangyu":{
                trigger:{
                    global:"phaseJieshuBegin",
                },
                equipSkill:true,
                filter:function(event,player){
        return player.getEquip('DIY_sichengliangyu');
    },
                content:function(){
        'step 0'
        player.draw(2);
        'step 1'
        var card=player.getEquip('DIY_sichengliangyu');
        if(card) player.discard(card);
    },
            },
            "DIY_tiejixuanyu":{
                trigger:{
                    global:"phaseJieshuBegin",
                },
                equipSkill:true,
                filter:function(event,player){
        return player!=event.player&&event.player.countCards('he')>0&&player.getEquip('DIY_tiejixuanyu');
    },
                logTarget:"player",
                check:function(event,player){
        return get.attitude(player,event.player)<0;
    },
                content:function(){
        'step 0'
        trigger.player.chooseToDiscard('he',2,true);
        'step 1'
        var card=player.getEquip('DIY_tiejixuanyu');
        if(card) player.discard(card);
    },
            },
            "DIY_fenli":{
                audio:"fenli",
                group:["DIY_fenli_judge","DIY_fenli_draw","DIY_fenli_use","DIY_fenli_discard"],
                subfrequent:["discard"],
                subSkill:{
                    judge:{
                        audio:"fenli",
                        trigger:{
                            player:"phaseJudgeBefore",
                        },
                        prompt:"æ˜¯å¦å‘åŠ¨ã€å¥‹åŠ±ã€‘è·³è¿‡åˆ¤å®šé˜¶æ®µï¼Ÿ",
                        frequent:true,
                        filter:function(event,player){
                return player.countCards('j')&&(player.isMaxHandcard()||player.isMaxHp()||(player.isMaxEquip()&&player.countCards('e')));
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                    draw:{
                        audio:"fenli",
                        trigger:{
                            player:"phaseDrawBefore",
                        },
                        prompt:"æ˜¯å¦å‘åŠ¨ã€å¥‹åŠ±ã€‘è·³è¿‡æ‘¸ç‰Œé˜¶æ®µï¼Ÿ",
                        filter:function(event,player){
                return !event.numFixed&&(player.isMaxHandcard()||player.isMaxHp()||(player.isMaxEquip()&&player.countCards('e')));
            },
                        check:function(event,player){
                if(player.getHistory('skipped').length>0) return false;
                return game.hasPlayer(function(current){
                    return get.attitude(player,current)<0&&current.hp==1&&get.damageEffect(current,player,player)>0;
                });
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                    use:{
                        audio:"fenli",
                        trigger:{
                            player:"phaseUseBefore",
                        },
                        prompt:"æ˜¯å¦å‘åŠ¨ã€å¥‹åŠ±ã€‘è·³è¿‡å‡ºç‰Œé˜¶æ®µï¼Ÿ",
                        filter:function(event,player){
                return player.countCards('h')>0&&(player.isMaxHandcard()||player.isMaxHp()||(player.isMaxEquip()&&player.countCards('e')));
            },
                        check:function(event,player){
                if(!player.needsToDiscard()||(player.countCards('e')&&player.isMaxEquip())) return true;
                if(player.getHistory('skipped').length>0) return false;
                return game.hasPlayer(function(current){
                    return get.attitude(player,current)<0&&current.hp==1&&get.damageEffect(current,player,player)>0;
                });
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                    discard:{
                        audio:"fenli",
                        trigger:{
                            player:"phaseDiscardBefore",
                        },
                        prompt:"æ˜¯å¦å‘åŠ¨ã€å¥‹åŠ±ã€‘è·³è¿‡å¼ƒç‰Œé˜¶æ®µï¼Ÿ",
                        frequent:true,
                        filter:function(event,player){
                return player.needsToDiscard()&&(player.isMaxHandcard()||player.isMaxHp()||(player.isMaxEquip()&&player.countCards('e')));
            },
                        content:function(){
                trigger.cancel();
            },
                        sub:true,
                    },
                },
                ai:{
                    combo:"DIY_pingkou",
                },
            },
            "DIY_pingkou":{
                audio:"pingkou",
                trigger:{
                    global:"phaseEnd",
                },
                direct:true,
                filter:function(event,player){
        return event.player.getHistory('skipped').length>0;
    },
                content:function(){
        'step 0'
        player.draw(Math.max(1,(Math.ceil(event.player.getHistory('skipped').length/2))));
        player.chooseTarget([1,event.player.getHistory('skipped').length],get.prompt2('DIY_pingkou'),function(card,player,target){
            return target!=player;
        }).set('ai',function(target){
            var player=_status.event.player;
            return get.damageEffect(target,player,player);
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_pingkou',result.targets);
            event.targets=result.targets.slice(0).sortBySeat();
        }
        else{
            event.finish();
        }
        'step 2'
        if(event.targets&&event.targets.length){
            event.targets.shift().damage();
            event.redo();
        }
    },
                ai:{
                    combo:"DIY_fenli",
                    effect:{
                        target:function(card){
                if(card.name=='lebu'||card.name=='bingliang') return 0.5;
            },
                    },
                },
            },
            "DIY_jiuchi":{
                mod:{
                    cardUsable:function(card,player,num){
            if(card.name=='jiu') return Infinity;
        },
                },
                audio:"jiuchi",
                group:["DIY_jiuchi_draw","DIY_jiuchi_ma"],
                enable:"chooseToUse",
                filterCard:function(card){
        return get.color(card)=='black';
    },
                viewAs:{
                    name:"jiu",
                },
                position:"hes",
                viewAsFilter:function(player){
        if(!player.countCards('he',{color:'black'})) return false;
        return true;
    },
                prompt:"å°†ä¸€å¼ é»‘è‰²ç‰Œå½“é…’ä½¿ç”¨",
                check:function(cardx,player){
        if(player&&player==cardx.player) return true;
        if(_status.event.type=='dying') return 1;
        var player=_status.event.player;
        var shas=player.getCards('he',function(card){
            return card!=cardx&&get.name(card,player)=='sha';
        });
        if(!shas.length) return -1;
        if(shas.length>1&&(player.getCardUsable('sha')>1||player.countCards('he','zhuge'))){
            return 0;
        }
        shas.sort(function(a,b){
            return get.order(b)-get.order(a);
        });
        var card=false;
        if(shas.length){
            for(var i=0;i<shas.length;i++){
                if(shas[i]!=cardx&&lib.filter.filterCard(shas[i],player)){
                    card=shas[i];break;
                }
            }
        }
        if(card){
            if(game.hasPlayer(function(current){
                return (get.attitude(player,current)<0&&
                !current.hasShan()
                &&current.hp+current.countCards('he',{name:['tao','jiu']})>1+(player.storage.jiu||0)
                &&player.canUse(card,current,true,true)&&
                !current.hasSkillTag('filterDamage',null,{
                    player:player,
                    card:card,
                    jiu:true,
                })&&
                get.effect(current,card,player)>0);
            })){
                return 4-get.value(cardx);
            }
        }
        return -1;
    },
                ai:{
                    threaten:1.5,
                    basic:{
                        useful:function(card,i){
                if(_status.event.player.hp>1){
                    if(i==0) return 4;
                    return 1;
                }
                if(i==0) return 7.3;
                return 3;
            },
                        value:function(card,player,i){
                if(player.hp>1){
                    if(i==0) return 5;
                    return 1;
                }
                if(i==0) return 7.3;
                return 3;
            },
                    },
                    order:function(){
            return get.order({name:'sha'})+0.2;
        },
                    result:{
                        target:function(player,target){
                if(target&&target.isDying()) return 2;
                if(target&&!target.isPhaseUsing()) return 0;
                if(lib.config.mode=='stone'&&!player.isMin()){
                    if(player.getActCount()+1>=player.actcount) return 0;
                }
                var shas=player.getCards('he','sha');
                if(shas.length>1&&(player.getCardUsable('sha')>1||player.countCards('he','zhuge'))){
                    return 0;
                }
                shas.sort(function(a,b){
                    return get.order(b)-get.order(a);
                })
                var card;
                if(shas.length){
                    for(var i=0;i<shas.length;i++){
                        if(lib.filter.filterCard(shas[i],target)){
                            card=shas[i];break;
                        }
                    }
                }
                else if(player.hasSha()&&player.needsToDiscard()){
                    if(player.countCards('he','hufu')!=1){
                        card={name:'sha'};
                    }
                }
                if(card){
                    if(game.hasPlayer(function(current){
                        return (get.attitude(target,current)<0&&
                            target.canUse(card,current,true,true)&&
                            !current.hasSkillTag('filterDamage',null,{
                                player:player,
                                card:card,
                                jiu:true,
                            })&&
                            get.effect(current,card,target)>0);
                    })){
                        return 1;
                    }
                }
                return 0;
            },
                    },
                    tag:{
                        save:1,
                    },
                },
                trigger:{
                    source:"damageEnd",
                },
                locked:true,
                direct:true,
                filter:function(event,player){
        if(event.name=='chooseToUse') return player.countCards('he',{color:'black'})>0;
        return event.card&&event.card.name=='sha'&&event.getParent(2).jiu==true&&!player.hasSkill('DIY_jiuchi_air');
    },
                content:function(){
        player.logSkill('DIY_jiuchi');
        player.addTempSkill('DIY_jiuchi_air');
    },
                subSkill:{
                    air:{
                        sub:true,
                    },
                },
            },
            "DIY_jiuchi_draw":{
                trigger:{
                    player:"useCard",
                },
                marktext:"é…’æ± ",
                intro:{
                    name:"é…’æ± ",
                    content:"ä½ å·²ç»å–äº†$æ–¤é…’",
                },
                filter:function(event,player){
        if(event.card.name=='jiu') return true;
        return false;
    },
                frequent:true,
                content:function(){
        player.logSkill('DIY_jiuchi');
        player.draw();
        player.addMark("DIY_jiuchi_draw",1,false);
    },
            },
            "DIY_jiuchi_ma":{
                trigger:{
                    player:"useCard",
                },
                filter:function(event,player){
        if(player.hasSkill('jiu')&&(get.subtype(event.card)=='equip3'||get.subtype(event.card)=='equip4')) return true;
        if((player.getEquip(3)||player.getEquip(4))&&event.card.name=="jiu") return true;
        return false;
    },
                frequent:true,
                content:function(){
        player.say(["ä¸œæ±‰æ´›é˜³äºé•¿å®‰è”åˆé“è·¯ç½²æé†’æ‚¨:é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›<br>å–é…’ä¸éª‘é©¬ï¼Œéª‘é©¬ä¸å–é…’ã€‚"].randomGet());
    },
            },
            "DIY_roulin":{
                audio:"roulin",
                audioname:["re_dongzhuo","ol_dongzhuo"],
                trigger:{
                    player:"useCardToPlayered",
                    target:"useCardToTargeted",
                },
                forced:true,
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(player==event.player){
            return event.target.hasSex('female');
        }
        return event.player.hasSex('female');
    },
                check:function(event,player){
        return player==event.player;
    },
                content:function(){
        var id=(player==trigger.player?trigger.target:player).playerid;
        var map=trigger.getParent().customArgs;
        if(!map[id]) map[id]={};
        if(typeof map[id].shanRequired=='number'){
            map[id].shanRequired++;
        }
        else{
            map[id].shanRequired=2;
        }
    },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(arg.card.name!='sha'||!arg.target.hasSex('female')||arg.target.countCards('h','shan')>1) return false;
        },
                },
            },
            "DIY_roulin_juedou":{
                audio:"roulin",
                audioname:["re_dongzhuo","ol_dongzhuo"],
                trigger:{
                    player:"useCardToPlayered",
                    target:"useCardToTargeted",
                },
                forced:true,
                filter:function(event,player){
        if(event.card.name!='juedou') return false;
        if(player==event.player){
            return event.target.hasSex('female');
        }
        return event.player.hasSex('female');
    },
                check:function(event,player){
        return player==event.player;
    },
                content:function(){
        var id=(player==trigger.player?trigger.target:player).playerid;
        var map=trigger.getParent().customArgs;
        if(!map[id]) map[id]={};
        if(typeof map[id].shaRequired=='number'){
            map[id].shaRequired++;
        }
        else{
            map[id].shaRequired=2;
        }
    },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(arg.card.name!='sha'||!arg.target.hasSex('female')||arg.target.countCards('h','shan')>1) return false;
        },
                },
            },
            "DIY_benghuai":{
                audio:"benghuai",
                audioname:["zhugedan","re_dongzhuo","ol_dongzhuo"],
                trigger:{
                    player:"phaseJieshuBegin",
                },
                forced:true,
                check:function(){
        return false;
    },
                filter:function(event,player){
        return !player.isMinHp()&&!player.hasSkill('DIY_jiuchi_air');
    },
                content:function(){
         player.loseHp();
         player.loseMaxHp(true);
         var card=get.cardPile2(function(card){
             return get.color(card,false)=='black';
         });
         if(card) player.gain(card,'gain2');
    },
                ai:{
                    threaten:0.5,
                    neg:true,
                },
            },
            "DIY_baonue":{
                audio:"baonue2",
                unique:true,
                zhuSkill:true,
                trigger:{
                    global:"damageSource",
                },
                filter:function(event,player){
        if(player==event.source||!event.source||event.source.group!='qun') return false;
        return player.hasZhuSkill('DIY_baonue',event.source);
    },
                direct:true,
                content:function(){
        'step 0'
        event.count=trigger.num;
        'step 1'
        event.count--;
        trigger.source.chooseBool('æ˜¯å¦å¯¹'+get.translation(player)+'å‘åŠ¨ã€æš´è™ã€‘ï¼Ÿ').set('choice',get.attitude(trigger.source,player)>0);
        'step 2'
        if(result.bool){
            player.logSkill('DIY_baonue');
            trigger.source.line(player,'green')
            player.gainMaxHp();
            player.recover();
        }
        if(event.count) event.goto(1);
    },
            },
            "Tianlao_equip4":{
                group:["liulongjiayu"],
            },
            "DIY_qizhou":{
                trigger:{
                    player:["equipEnd","loseEnd"],
                },
                forced:true,
                popup:false,
                mod:{
                    canBeDiscarded:function(card){
                        if(get.position(card)=='e'&&['equip1','equip2','equip3','equip4','equip5'].contains(get.subtype(card))) return false;
                    },
                },
                init:function(player){
        if(game.online) return;
        player.removeAdditionalSkill('DIY_qizhou');
        var list=[];
        if(player.countCards('e')>0){
            list.push('reyingzi');
        }
        if(player.countCards('e')>0){
            list.push('mashu');
        }
        if(player.countCards('e')>1){
            list.push('jiang');
        }
        if(player.countCards('e')>1){
            list.push('DIY_qianjie');
        }
        if(player.countCards('e')>2){
            list.push('decadexuanfeng');
        }
        if(player.countCards('e')>2){
            list.push('heji');
        }
        if(player.countCards('e')>3){
            list.push('DIY_pingkou');
        }
        if(player.countCards('e')>3){
            list.push('xindanshou');
        }
        if(player.countCards('e')>4){
            list.push('DIY_fenli');
        }
        if(player.countCards('e')>4){
            list.push('DIY_gongxin');
        }
    },
                content:function(){
        var list=[];
        if(player.countCards('e')>0){
            list.push('reyingzi');
        }
        if(player.countCards('e')>0){
            list.push('mashu');
        }
        if(player.countCards('e')>1){
            list.push('jiang');
        }
        if(player.countCards('e')>1){
            list.push('DIY_qianjie');
        }
        if(player.countCards('e')>2){
            list.push('decadexuanfeng');
        }
        if(player.countCards('e')>2){
            list.push('heji');
        }
        if(player.countCards('e')>3){
            list.push('DIY_pingkou');
        }
        if(player.countCards('e')>3){
            list.push('xindanshou');
        }
        if(player.countCards('e')>4){
            list.push('DIY_fenli');
        }
        if(player.countCards('e')>4){
            list.push('DIY_gongxin');
        }
        if(list.length){
            player.addAdditionalSkill('DIY_qizhou',list);
        }
    },
            },
            "DIY_shanxi":{
                skillAnimation:true,
                animationColor:"wood",
                trigger:{
                    global:"gameDrawAfter",
                },
                frequent:true,
                audio:"shanxi",
                group:"DIY_shanxi_end",
                content:function(){
        "step 0"
        event.num=0;
        event.toequip=[];
        "step 1"
        while(!player.isEmpty(event.num)){
            event.num++;
            if(event.num>5){
                event.finish();
                return;
            }
        }
        var card=get.cardPile2(function(card){
            return get.subtype(card)=='equip'+event.num&&player.canUse(card,player);
        });
        if(card){
            player.chooseUseTarget(card,true,'nopopup');
        }
        event.num++;
        if(event.num<=5) event.redo();
    },
            },
            "DIY_shanxi_phase":{
                audio:"reshanxi",
                enable:"phaseUse",
                usable:1,
                filterCard:{
                    color:"red",
                },
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('he');
    },
                check:function(card){
        return 6-get.value(card);
    },
                content:function(){
        var max=Math.min(player.hp,target.countCards('he'));
        player.discardPlayerCard(max,target,true);
    },
                ai:{
                    order:8,
                    result:{
                        target:-1,
                    },
                },
            },
            "DIY_shanxi_end":{
                trigger:{
                    player:"phaseEnd",
                },
                frequent:true,
                audio:"shanxi",
                content:function(){
        "step 0"
        event.num=1;
        event.toequip=[];
        "step 1"
        var equip=get.cardPile(function(card){
            var bool1=true;
            for(var i=0;i<event.toequip.length;i++){
                if(get.type(card)=='equip'&&get.subtype(card)==get.subtype(event.toequip[i])) bool1=false;
            }
            return (get.type(card)=='equip'&&!event.toequip.contains(card)&&player.isEmpty(get.subtype(card))&&bool1);
        });
        if(equip) event.toequip.push(equip);
        else event.num=0;
        event.num--;
        "step 2"
        if(event.num>0) event.goto(1);
        "step 3"
        for (var i=0;i<event.toequip.length;i++){
            player.chooseUseTarget(event.toequip[i],true).set('animate',false).set('nopopup',true);
        }
    },
            },
            "DIY_jieyue":{
            },
            "DIY_yizhong":{
                trigger:{
                    target:"shaBefore",
                },
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
        if(player.getEquip(2)) return false;
        return (event.card.name=='sha'&&get.color(event.card)=='black')
    },
                content:function(){
        trigger.cancel();
    },
                ai:{
                    effect:{
                        target:function(card,player,target){
                if(player==target&&get.subtype(card)=='equip2'){
                    if(get.equipValue(card)<=8) return 0;
                }
                if(target.getEquip(2)) return;
                if(card.name=='sha'&&get.color(card)=='black') return 'zerotarget';
            },
                    },
                },
            },
            "DIY_zhenjun":{
                audio:"decadezhenjun",
                group:["DIY_zhenjun1","DIY_zhenjun2"],
            },
            "DIY_zhenjun1":{
                audio:"decadezhenjun",
                trigger:{
                    player:["phaseZhunbeiBegin","phaseJieshuBegin"],
                },
                filter:function (event,player){
        return game.hasPlayer(function(current){
            return current.countCards('he')>0;
        });
    },
                direct:true,
                content:function (){
        'step 0'
        player.chooseTarget(get.prompt2('decadezhenjun')).ai=function(target){
            return -get.attitude(_status.event.player,target)*(target.countCards('e')+1);
        };
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            event.target=target;
            var num=Math.max(target.countCards('h')-target.hp,1);
            player.logSkill('decadezhenjun',target);
            player.discardPlayerCard(num,target,true);
        }
        'step 2'
        if(result.cards&&result.cards.length){
            for(var i=0;i<result.cards.length;i++){
                if(get.type(result.cards[i])=='equip'){
                    event.finish();
                    return;
                }
            }
            event.num=result.cards.length;
            if(event.num>0){
                var prompt='å¼ƒç½®ä¸€å¼ ç‰Œï¼Œæˆ–ä»¤'+get.translation(event.target)+'æ‘¸ä¸€å¼ ç‰Œ';
                player.chooseToDiscard(prompt,'hej').ai=function(card){
                    return 7-get.value(card);
                }
            }
            else event.finish();
        }
        else event.finish();
        'step 3'
        if(!result.bool){
            event.target.draw(1);
        }
    },
            },
            "DIY_zhenjun2":{
                audio:"xinzhenjun",
                trigger:{
                    player:"phaseUseBegin",
                },
                direct:true,
                filter:function(event,player){
        return player.countCards('he')>0;
    },
                content:function(){
        'step 0'
        player.chooseCardTarget({
            filterCard:true,
            filterTarget:true,
            position:'he',
            prompt:get.prompt2('xinzhenjun'),
            ai1:function(card){
                var player=_status.event.player;
                if(card.name=='sha'&&get.color(card)=='red'){
                    for(var i=0;i<game.players.length;i++){
                        var current=game.players[i];
                        if(current!=player&&get.attitude(player,current)>0&&current.hasValueTarget(card)) return 7;
                    }
                    return 0;
                }
                return 7-get.value(card);
            },
            ai2:function(target){
                var player=_status.event.player;
                var card=ui.selected.cards[0];
                var att=get.attitude(player,target);
                if(get.value(card)<0) return -att*2;
                if(target.countCards('h',{name:'sha',color:'red'})||target.hasSkill('wusheng')||target.hasSkill('new_rewusheng')||target.hasSkill('wushen')||(card.name=='sha'&&get.color(card)=='red'&&target.hasValueTarget(card))) return att*2;
                var eff=0;
                game.countPlayer(function(current){
                    if(target!=current&&get.distance(target,current,'attack')>1) return;
                    var eff2=get.damageEffect(current,player,player);
                    if(eff2>eff) eff=eff2;
                });
                if(att>0&&eff>0) eff+=2*att;
                return eff;
            },
        });
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            event.target=target;
            player.logSkill('xinzhenjun',target);
            target.gain(result.cards,player,'giveAuto')
        }
        else event.finish();
        'step 2'
        target.chooseToUse({
            filterCard:function(card){
                return get.name(card)=='sha'&&get.color(card)!='black'&&lib.filter.cardEnabled.apply(this,arguments);
            },
            prompt:'è¯·ä½¿ç”¨ä¸€å¼ ä¸ä¸ºé»‘è‰²çš„ã€æ€ã€‘ï¼Œå¦åˆ™'+get.translation(player)+'å¯ä»¥å¯¹ä½ æˆ–ä½ æ”»å‡»èŒƒå›´å†…çš„ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³',
        });
        'step 3'
        if(result.bool){
            var num=1;
            game.countPlayer2(function(current){
                current.getHistory('damage',function(evt){
                    if(evt.getParent(evt.notLink()?4:8)==event) num+=evt.num;
                });
            });
            player.draw(num);
            event.finish();
        }
        else{
            player.chooseTarget('æ˜¯å¦å¯¹'+get.translation(target)+'æˆ–å…¶æ”»å‡»èŒƒå›´å†…çš„ä¸€åè§’è‰²é€ æˆ1ç‚¹ä¼¤å®³ï¼Ÿ',function(card,player,target){
                return target==_status.event.targetx||_status.event.targetx.inRange(target);
            }).set('targetx',event.target).ai=function(target){
                var player=_status.event.player;
                return get.damageEffect(target,player,player)
            };
        }
        'step 4'
        if(result.bool){
            player.line(result.targets);
            result.targets[0].damage('nocard');
        }
    },
            },
            "DIY_yujinjieyue":{
                audio:"rejieyue",
                group:["DIY_jieyue1","jieyue1"],
            },
            "DIY_jieyue1":{
                audio:"rejieyue",
                trigger:{
                    player:"phaseDiscardAfter",
                },
                direct:true,
                filter:function(event,player){
        return player.countCards('he')>0;
    },
                content:function(){
        'step 0'
        player.chooseCardTarget({
            prompt:get.prompt2('rejieyue'),
            filterCard:true,
            position:'he',
            filterTarget:lib.filter.notMe,
            ai1:function(card){
                var player=_status.event.player;
                if(get.name(card)=='du') return 20;
                if(get.position(card)=='e'&&get.value(card)<=0) return 14;
                if(get.position(card)=='h'&&game.hasPlayer(function(current){
                    return current!=player&&get.attitude(player,current)>0&&current.getUseValue(card)>player.getUseValue(card)&&current.getUseValue(card)>player.getUseValue(card);
                })) return 12;
                if(game.hasPlayer(function(current){
                    return current!=player&&get.attitude(player,current)>0;
                })){
                    if(card.name=='wuxie') return 11;
                    if(card.name=='shan'&&player.countCards('h','shan')>1) return 9
                }
                return 6/Math.max(1,get.value(card));
            },
            ai2:function(target){
                var player=_status.event.player;
                var card=ui.selected.cards[0];
                var att=get.attitude(player,target);
                if(card.name=='du') return -6*att;
                if(att>0){
                    if(get.position(card)=='h'&&target.getUseValue(card)>player.getUseValue(card)) return 4*att;
                    if(get.value(card,target)>get.value(card,player)) return 2*att;
                    return 1.2*att;
                }
                return -att*Math.min(4,target.countCards('he'))/4;
            },
        });
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            event.target=target;
            player.logSkill('rejieyue',target);
            target.gain(result.cards,player,'giveAuto');
        }
        else event.finish();
        'step 2'
        var num=0;
        if(target.countCards('h')) num++;
        if(target.countCards('e')) num++;
        if(num>0){
            var next=target.chooseCard('he',num,'é€‰æ‹©ä¿ç•™æ¯ä¸ªåŒºåŸŸçš„å„ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®å…¶ä½™çš„ç‰Œã€‚æˆ–ç‚¹å–æ¶ˆï¼Œä»¤'+get.translation(player)+'æ‘¸ä¸‰å¼ ç‰Œ',function(card){
                for(var i=0;i<ui.selected.cards.length;i++){
                    if(get.position(ui.selected.cards[i])==get.position(card)) return false;
                }
                return true;
            });
            next.set('complexCard',true);
            next.set('goon',get.attitude(target,player)>=0);
            next.set('maxNum',num);
            next.set('ai',function(card){
                if(_status.event.goon) return -1;
                var num=_status.event.maxNum;
                if(ui.selected.cards.length>=num-1){
                    var val=get.value(player.getCards('he',function(cardx){
                        return cardx!=card&&!ui.selected.cards.contains(cardx);
                    }));
                    if(val>=14) return 0;
                }
                return get.value(card);
            });
        }
        else event._result={bool:false};
        'step 3'
        if(!result.bool) player.draw(3);
        else {
            var cards=target.getCards('he');
            cards.removeArray(result.cards);
            if(cards.length) target.discard(cards);
        }
    },
                ai:{
                    threaten:1.3,
                    expose:0.2,
                },
            },
            "DIY_jueyong":{
                audio:"jueyong",
                trigger:{
                    target:"useCardToTarget",
                },
                forced:true,
                filter:function(event,player){
        return event.card.name!='jiu'&&event.card.name!='tao'&&event.targets.length==1&&event.getParent(2).name!='DIY_jueyong_timeout'&&event.getParent(2).name!='oldcihuai';
    },
                content:function(){
        trigger.targets.remove(player);
        trigger.getParent().triggeredTargets2.remove(player);
        trigger.untrigger();
        var card=trigger.cards[0];
        player.addToExpansion(card,'gain2').gaintag.add('DIY_jueyong');
        if(!player.storage.DIY_jueyong) player.storage.DIY_jueyong=[[],[]];
        player.storage.DIY_jueyong[0].push(card);
        player.storage.DIY_jueyong[1].push(trigger.player);
        game.delay();
    },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
        delete player.storage[skill];
    },
                intro:{
                    markcount:function(storage){
            return storage[0].length;
        },
                    mark:function(dialog,storage,player){
            dialog.addAuto(storage[0]);
            dialog.addText(get.translation(storage[1]));
        },
                    onunmark:function(storage,player){
            player.storage.DIY_jueyong=[[],[]];
        },
                },
                ai:{
                    reverseEquip:true,
                    effect:{
                        target:function(card,player,target,current){
                if(get.type(card)=='equip'&&!get.tag(card,'gifts')&&target.storage.jueyong&&target.storage.jueyong[1].length){
                    var result1=get.equipResult(player,target,card.name),subtype=get.subtype(card);
                    for(var i of target.storage.jueyong[0]){
                        if(get.subtype(i,false)==subtype&&get.equipResult(target,target,i.name)>=result1) return 'zerotarget';
                    }
                }
            },
                    },
                },
                group:"DIY_jueyong_timeout",
                subSkill:{
                    timeout:{
                        audio:"jueyong",
                        trigger:{
                            player:"phaseJieshuBegin",
                        },
                        forced:true,
                        filter:function(event,player){
                return player.storage.DIY_jueyong&&player.storage.DIY_jueyong[0].length>0;//=Math.max(1,player.getDamagedHp());
            },
                        content:function(){
                var list=player.storage.DIY_jueyong,card=list[0].shift(),source=list[1].shift();
                if(player.getExpansions('DIY_jueyong').contains(card)){
                    if(source&&source.isIn()&&player.canUse(card,source,false)){
                        if(player!=source&&player.hp>1) player.loseHp();
                        if(player!=source&&player.hp<2) player.loseMaxHp();
                        if(player==source){
                            if(player.isDamaged()){
                                player.recover();
                            }
                            else{
                                player.gainMaxHp();
                            }
                        }
                        player.useCard(card,source,false);
                    }
                    else{
                        player.loseToDiscardpile(card);
                        if(player.isDamaged()){
                            player.recover();
                        }
                        else{
                            player.gainMaxHp();
                        }
                    }
                }
                if(list[0].length) event.redo();
            },
                        sub:true,
                    },
                },
            },
            "DIY_qiaobian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                group:["DIY_qiaobian1","DIY_qiaobian2","DIY_qiaobian3","DIY_qiaobian4","DIY_qiaobian5","DIY_qiaobian6","DIY_qiaobian7","DIY_qiaobian8","DIY_qiaobian9"],
                preHidden:true,
                ai:{
                    threaten:3,
                },
            },
            "DIY_qiaobian1":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseJudgeBefore",
                },
                direct:true,
                filter:function(event,player){
        return event.player.countCards('j')>0&&player.countCards('h')>0;
    },
                content:function(){
        "step 0"
        var save=true;
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è·³è¿‡'+get.translation(_status.currentPhase)+'çš„åˆ¤å®šé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian1',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            trigger.cancel();
        }
    },
            },
            "DIY_qiaobian2":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                direct:true,
                filter:function(event,player){
        return !event.numFixed&&player.countCards('h')>0;
    },
                content:function(){
        "step 0"
        var save=false;
        if(_status.currentPhase==player){
            save=true;
        }
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è·³è¿‡'+get.translation(_status.currentPhase)+'çš„æ‘¸ç‰Œé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian2',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            trigger.cancel();
            player.chooseTarget([1,2],'è·å¾—è‡³å¤šä¸¤åè§’è‰²å„ä¸€å¼ ç‰Œ',function(card,player,target){
                return target!=player&&target.countCards('he');
            }).set('ai',function(target){
                return 1-get.attitude(_status.event.player,target);
            });
        }
        'step 2'
        if(result.bool){
            result.targets.sortBySeat();
            player.line(result.targets,'green');
            event.targets=result.targets;
            num=2-event.targets.length;
            if(!event.targets.length) event.finish();
        }
        else{
            event.finish();
        }
        'step 3'
        player.gainMultiple(event.targets,'he');
        player.draw(num);
        "step 4"
        game.delay();
    },
            },
            "DIY_qiaobian3":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseUseBefore",
                },
                direct:true,
                filter:function(event,player){
        return event.player.countCards('h')>0&&player.countCards('h')>0;
    },
                content:function(){
        "step 0"
        var save=false;
        if(_status.currentPhase==player&&player.canMoveCard(true)){
            save=true;
        }
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è·³è¿‡'+get.translation(_status.currentPhase)+'çš„å‡ºç‰Œé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian3',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            trigger.cancel();
            player.moveCard();
        }
    },
            },
            "DIY_qiaobian4":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDiscardBefore",
                },
                direct:true,
                filter:function(event,player){
        return event.player.needsToDiscard()&&player.countCards('h')>0;
    },
                content:function(){
        "step 0"
        var save=true;
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è·³è¿‡'+get.translation(_status.currentPhase)+'çš„å¼ƒç‰Œé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian4',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            trigger.cancel();
        }
    },
            },
            "DIY_qiaobian5":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseEnd",
                },
                direct:true,
                filter:function(event,player){
        return event.player.getHistory('skipped').length>0;
    },
                content:function(){
        'step 0'
        var num=event.player.getHistory('skipped').length-1;
        if(_status.currentPhase==player) num++;
        player.draw(num);
        player.logSkill('DIY_qiaobian5');
    },
                ai:{
                    effect:{
                        target:function(card){
                if(card.name=='lebu'||card.name=='bingliang') return 0.5;
            },
                    },
                },
            },
            "DIY_qiaobian6":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    target:"useCardToTarget",
                },
                filter:function(event,player){
        return _status.currentPhase.player!=player&&event.player!=player&&player.countCards('h')>0;
    },
                direct:true,
                content:function(){
        "step 0"
        var next=player.chooseToDiscard('h');
        event.target=trigger.player;
        prompt='ä»¤'+get.translation(trigger.card)+'å¯¹ä½ æ— æ•ˆ';
        next.set('goon',-get.effect(player,trigger.card,trigger.player,player));
        next.set('prompt',get.prompt('DIY_qiaobian',event.target));
        next.set('prompt2',prompt)
        next.set('ai',function(card){
            return _status.event.goon-get.value(card);
        });
        next.logSkill=['DIY_qiaobian6',event.target];
        "step 1"
        if(result.bool){
            trigger.targets.length=0;
            trigger.getParent().triggeredTargets2.length=0;
            trigger.cancel();
            player.judge(function(card){
               if(get.color(card)=="red") return 2;
               return 0;
             }).judge2=function(result){
               return result.bool?true:false;
             };
        }
        "step 2"
        if(result.bool){
            player.gain(trigger.cards.filterInD(),'log','gain2');
        }
    },
            },
            "DIY_qiaobian7":{
                audio:"DIY_qiaobian",
                trigger:{
                    global:"judge",
                },
                check:function(event,player){
        if(event.player==player&&event.judge(player.judging[0])<0) return true;
        return (get.attitude(player,event.player)>0&&event.judge(event.player.judging[0])<0)&&(get.attitude(player,event.player)<0&&event.judge(event.player.judging[0])>0);
    },
                prompt:"å·§å˜:æ˜¯å¦äº®å‡ºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿è¯¥åˆ¤å®šç‰Œï¼Ÿ",
                content:function(){
                    "step 0"
        var card=get.cards()[0];
        event.card=card;
        game.cardsGotoOrdering(card).relatedEvent=trigger;
        "step 1"
        player.$throw(card);
        if(trigger.player.judging[0].clone){
            trigger.player.judging[0].clone.classList.remove('thrownhighlight');
            game.broadcast(function(card){
                if(card.clone){
                    card.clone.classList.remove('thrownhighlight');
                }
            },trigger.player.judging[0]);
            game.addVideo('deletenode',player,get.cardsInfo([trigger.player.judging[0].clone]));
        }
        game.cardsDiscard(trigger.player.judging[0]);
        trigger.player.judging[0]=card;
        game.log(trigger.player,'çš„åˆ¤å®šç‰Œæ”¹ä¸º',card);
        game.delay(2);
    },
            },
            "DIY_yicong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseBegin",
                },
                forced:true,
                content:function (){},
                mod:{
                    globalFrom:function(from,to,distance){
            var num=_status.currentPhase.getSeatNum();
            if(num%2==1) return distance-1;
        },
                    globalTo:function(from,to,distance){
            var num=_status.currentPhase.getSeatNum();
            if(num%2!=1) return distance+1;
        },
                },
                ai:{
                    threaten:0.8,
                },
            },
            "DIY_qiaomeng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                filter:function(event,player){
        return event.card&&(event.card.name=='sha'||event.card.name=='juedou')&&event.player.countDiscardableCards(player,'hej');
    },
                preHidden:true,
                check:function(event,player){
        return get.attitude(player,event.target)<=0;
    },
                logTarget:"target",
                content:function(){
                    player.discardPlayerCard(trigger.target,get.prompt('DIY_qiaomeng',trigger.target),true).set('ai',function(button){
                        if(!_status.event.att) return 0;
                        if(get.position(button.link)=='e'){
                            if(get.subtype(button.link)=='equip2') return 2*get.value(button.link);
                            return get.value(button.link);
                        }
                        return 1;
                    }).set('att',get.attitude(player,trigger.target)<=0);
                    player.addTempSkill("DIY_qiaomeng_seat",'useCardAfter');
                },
            },
            "DIY_qiaomeng_seat":{
                trigger:{
                    source:"damageSource",
                },
                prompt:"è¶«çŒ›ï¼šæ˜¯å¦ä¸å…¶äº¤æ¢åº§æ¬¡ï¼Ÿ",
                filter:function(event,player){
        return event.card&&(event.card.name=='sha'||event.card.name=='juedou');
    },
                content:function(){
        player.logSkill('DIY_qiaomeng'),
        game.broadcastAll(function(target1,target2){
            game.swapSeat(target1,target2);
        },player,trigger.player);
    },
            },
            "DIY_luanwu":{
                audio:"luanwu",
                enable:"phaseUse",
                usable:1,
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('h');
    },
                content:function(){
        var hs=target.getCards('h');
        while(hs.length){
            var chosen=hs.randomRemove();
            if(target.hasUseTarget(chosen)&&!get.info(chosen).multitarget){
                var list=game.filterPlayer(function(current){
                    return lib.filter.targetEnabled2(chosen,target,current);
                });
                if(list.length){
                    target.useCard(chosen,list.randomGet());
                    event.redo();
                    break;
                }
            }
        }
    },
                ai:{
                    order:10,
                    result:{
                        target:function(player,target){
                if(!target.countCards('h')) return 0;
                return -1;
            },
                    },
                },
            },
            "DIY_weimu":{
                audio:"reweimu",
                mod:{
                    targetEnabled:function(card){
            if(get.type2(card)=='trick'&&get.color(card)=='black') return false;
        },
                },
                trigger:{
                    target:"useCardToTarget",
                },
                forced:true,
                filter:function(event,player){
        return player==_status.currentPhase&&event.player!=player;
    },
                content:function(){
        trigger.targets.remove(player);
        trigger.getParent().triggeredTargets2.remove(player);
        trigger.untrigger();
        trigger.cancel();
    },
                ai:{
                    effect:{
                        target:function(card,player,target){
                if(target==_status.currentPhase&&get.tag(card,'damage')) return 'zerotarget';
            },
                    },
                },
            },
            "DIY_zhenyi":{
                group:["DIY_zhenyi_spade","DIY_zhenyi_club","DIY_zhenyi_heart"],
                trigger:{
                    player:"damageEnd",
                },
                audio:"xinfu_zhenyi",
                filter:function (event,player){
        //if(!event.nature) return false;
        return true;
    },
                "prompt2":"ä»ç‰Œå †ä¸­è·å¾—æ¯ç§ç±»å‹çš„ç‰Œå„ä¸€å¼ ã€‚",
                content:function (){
        'step 0'
        event.num=0;
        event.togain=[];
        'step 1'
        var card=get.cardPile(function(card){
            for(var i=0;i<event.togain.length;i++){
                if(get.type(card,'trick')==get.type(event.togain[i],'trick')) return false;
            }
            return true;
        });
        if(card){
            event.togain.push(card);
            event.num++;
            if(event.num<3) event.redo();
        }
        'step 2'
        if(event.togain.length){
            player.gain(event.togain,'gain2');
        }
    },
            },
            "DIY_dianhua":{
                trigger:{
                    player:["phaseZhunbeiBegin","phaseJieshuBegin"],
                },
                frequent:true,
                audio:"xinfu_dianhua",
                filter:function (event,player){
        for(var i=0;i<lib.suit.length;i++){
            if(player.hasMark('DIY_falu_'+lib.suit[i])) return true;
        }
        return false;
    },
                content:function (){
        'step 0'
        var num=0;
        for(var i=0;i<lib.suit.length;i++){
            if(player.hasMark('DIY_falu_'+lib.suit[i])) num++;
        }
        var cards=get.cards(num);
        game.cardsGotoOrdering(cards);
        var next=player.chooseToMove();
        next.set('list',[
            ['ç‰Œå †é¡¶',cards],
            ['ç‰Œå †åº•'],
        ]);
        next.set('prompt','ç‚¹åŒ–ï¼šç‚¹å‡»å°†ç‰Œç§»åŠ¨åˆ°ç‰Œå †é¡¶æˆ–ç‰Œå †åº•');
        next.processAI=function(list){
            var cards=list[0][1],player=_status.event.player;
            var target=(_status.event.getTrigger().name=='phaseZhunbei')?player:player.next;
            var att=get.sgn(get.attitude(player,target));
            var top=[];
            var judges=target.getCards('j');
            var stopped=false;
            if(player!=target||!target.hasWuxie()){
                for(var i=0;i<judges.length;i++){
                    var judge=get.judge(judges[i]);
                    cards.sort(function(a,b){
                        return (judge(b)-judge(a))*att;
                    });
                    if(judge(cards[0])*att<0){
                        stopped=true;break;
                    }
                    else{
                        top.unshift(cards.shift());
                    }
                }
            }
            var bottom;
            if(!stopped){
                cards.sort(function(a,b){
                    return (get.value(b,player)-get.value(a,player))*att;
                });
                while(cards.length){
                    if((get.value(cards[0],player)<=5)==(att>0)) break;
                    top.unshift(cards.shift());
                }
            }
            bottom=cards;
            return [top,bottom];
        }
        "step 1"
        var top=result.moved[0];
        var bottom=result.moved[1];
        top.reverse();
        for(var i=0;i<top.length;i++){
            ui.cardPile.insertBefore(top[i],ui.cardPile.firstChild);
        }
        for(i=0;i<bottom.length;i++){
            ui.cardPile.appendChild(bottom[i]);
        }
        player.popup(get.cnNumber(top.length)+'ä¸Š'+get.cnNumber(bottom.length)+'ä¸‹');
        game.log(player,'å°†'+get.cnNumber(top.length)+'å¼ ç‰Œç½®äºç‰Œå †é¡¶');
        game.updateRoundNumber();
        game.delayx();
    },
                ai:{
                    threaten:2.2,
                },
            },
            "DIY_falu":{
                subSkill:{
                    spade:{
                        marktext:"â™ ï¸ï¸",
                        intro:{
                            name:"ç´«è–‡",
                            content:"mark",
                        },
                        sub:true,
                    },
                    heart:{
                        marktext:"â™¥ï¸ï¸",
                        intro:{
                            name:"ç‰æ¸…",
                            content:"mark",
                        },
                        sub:true,
                    },
                    club:{
                        marktext:"â™£ï¸ï¸",
                        intro:{
                            name:"ååœŸ",
                            content:"mark",
                        },
                        sub:true,
                    },
                    diamond:{
                        marktext:"â™¦ï¸",
                        intro:{
                            name:"å‹¾é™ˆ",
                            content:"mark",
                        },
                        sub:true,
                    },
                },
                forced:true,
                audio:"xinfu_falu",
                trigger:{
                    player:["loseAfter","enterGame"],
                    global:"phaseBefore",
                },
                filter:function (event,player){
        if(event.name!='lose') return (event.name!='phase'||game.phaseNumber==0);
        if(event.type!='discard') return false;
        for(var i=0;i<event.cards2.length;i++){
            if(!player.hasMark('DIY_falu_'+get.suit(event.cards2[i]))) return true;
        }
        return false;
    },
                content:function (){
        if(trigger.name!='lose'){
            for(var i=0;i<lib.suit.length;i++){
                if(!player.hasMark('DIY_falu_'+lib.suit[i])) player.addMark('DIY_falu_'+lib.suit[i]);
            }
            return;
        }
        for(var i=0;i<trigger.cards2.length;i++){
            var suit=get.suit(trigger.cards2[i]);
            if(!player.hasMark('DIY_falu_'+suit)) player.addMark('DIY_falu_'+suit);
        }
    },
                ai:{
                    threaten:1.4,
                },
            },
            "DIY_zhenyi_spade":{
                trigger:{
                    global:"judge",
                },
                direct:true,
                content:function(){
        "step 0"
        var str=get.translation(trigger.player)+'çš„'+(trigger.judgestr||'')+'åˆ¤å®šä¸º'+
        get.translation(trigger.player.judging[0])+'ï¼Œæ˜¯å¦å‘åŠ¨ã€çœŸä»ªã€‘ä¿®æ”¹åˆ¤å®šç»“æœï¼Ÿ';
        player.chooseControl('spade','heart','diamond','club','cancel2').set('prompt',str).set('ai',function(){
            //return 'å–æ¶ˆ';
            var judging=_status.event.judging;
            var trigger=_status.event.getTrigger();
            var res1=trigger.judge(judging);
            var list=lib.suit.slice(0);
            var attitude=get.attitude(player,trigger.player);
            if(attitude==0) return 0;
            var getj=function(suit){
                return trigger.judge({
                    name:get.name(judging),
                    nature:get.nature(judging),
                    suit:suit,
                    number:5,
                })
            };
            list.sort(function(a,b){
                return (getj(b)-getj(a))*get.sgn(attitude);
            });
            if((getj(list[0])-res1)*attitude>0) return list[0];
            return 'cancel2';
        }).set('judging',trigger.player.judging[0]);
        "step 1"
        if(result.control!='cancel2'){
            player.addExpose(0.25);
            player.logSkill('xinfu_zhenyi',trigger.player);
            //player.line(trigger.player);
            player.popup(result.control);
            game.log(player,'å°†åˆ¤å®šç»“æœæ”¹ä¸ºäº†','#y'+get.translation(result.control+2)+5);
            trigger.fixedResult={
                suit:result.control,
                color:get.color({suit:result.control}),
                number:5,
            };
        }
    },
                ai:{
                    rejudge:true,
                    tag:{
                        rejudge:1,
                    },
                    expose:0.5,
                },
            },
            "DIY_zhenyi_club":{
                audio:"xinfu_zhenyi",
                enable:"chooseToUse",
                viewAsFilter:function(player){
        if(player==_status.currentPhase) return false;
        return player.countCards('hs')>0;
    },
                filterCard:true,
                position:"hs",
                viewAs:{
                    name:"tao",
                },
                prompt:"å°†ä¸€å¼ æ‰‹ç‰Œå½“æ¡ƒä½¿ç”¨",
                check:function(card){return 15-get.value(card)},
                ai:{
                    basic:{
                        order:function(card,player){
                if(player.hasSkillTag('pretao')) return 5;
                return 2;
            },
                        useful:[6.5,4,3,2],
                        value:[6.5,4,3,2],
                    },
                    result:{
                        target:2,
                        "target_use":function(player,target){
                // if(player==target&&player.hp<=0) return 2;
                if(player.hasSkillTag('nokeep',true,null,true)) return 2;
                var nd=player.needsToDiscard();
                var keep=false;
                if(nd<=0){
                    keep=true;
                }
                else if(nd==1&&target.hp>=2&&target.countCards('h','tao')<=1){
                    keep=true;
                }
                var mode=get.mode();
                if(target.hp>=2&&keep&&target.hasFriend()){
                    if(target.hp>2||nd==0) return 0;
                    if(target.hp==2){
                        if(game.hasPlayer(function(current){
                            if(target!=current&&get.attitude(target,current)>=3){
                                if(current.hp<=1) return true;
                                if((mode=='identity'||mode=='versus'||mode=='chess')&&current.identity=='zhu'&&current.hp<=2) return true;
                            }
                        })){
                            return 0;
                        }
                    }
                }
                if(target.hp<0&&target!=player&&target.identity!='zhu') return 0;
                var att=get.attitude(player,target);
                if(att<3&&att>=0&&player!=target) return 0;
                var tri=_status.event.getTrigger();
                if(mode=='identity'&&player.identity=='fan'&&target.identity=='fan'){
                    if(tri&&tri.name=='dying'&&tri.source&&tri.source.identity=='fan'&&tri.source!=target){
                        var num=game.countPlayer(function(current){
                            if(current.identity=='fan'){
                                return current.countCards('h','tao');
                            }
                        });
                        if(num>1&&player==target) return 2;
                        return 0;
                    }
                }
                if(mode=='identity'&&player.identity=='zhu'&&target.identity=='nei'){
                    if(tri&&tri.name=='dying'&&tri.source&&tri.source.identity=='zhong'){
                        return 0;
                    }
                }
                if(mode=='stone'&&target.isMin()&&
                player!=target&&tri&&tri.name=='dying'&&player.side==target.side&&
                tri.source!=target.getEnemy()){
                    return 0;
                }
                return 2;
            },
                    },
                    tag:{
                        recover:1,
                        save:1,
                    },
                },
            },
            "DIY_zhenyi_heart":{
                trigger:{
                    source:"damageBegin1",
                },
                audio:"xinfu_zhenyi",
                check:function (event,player){
        if(get.attitude(player,event.player)>=0) return false;
        if(event.player.hasSkillTag('filterDamage',null,{
            player:player,
            card:event.card,
        })) return false;
        return true;
        //return player.hasMark('xinfu_falu_spade')||get.color(ui.cardPile.firstChild)=='black';
    },
                "prompt2":function(event){
        return 'ä»¤å¯¹'+get.translation(event.player)+'å³å°†é€ æˆçš„ä¼¤å®³+1ã€‚';
    },
                logTarget:"player",
                content:function(){
        trigger.num++;
    },
            },
            "DIY_kaikang":{
                audio:"kaikang",
                trigger:{
                    global:"useCardToTargeted",
                },
                filter:function(event,player){
        if(!get.tag(event.card,'damage')) return false;
        if(!player.inRange(event.player)&&!event.target.inRange(event.player)) return false;
        return event.target.isIn();
    },
                check:function(event,player){
        return get.attitude(player,event.target)>=0;
    },
                logTarget:"target",
                content:function(){
        "step 0"
        player.draw();
        if(trigger.target!=player){
            player.chooseCard(true,'he','äº¤ç»™'+get.translation(trigger.target)+'ä¸€å¼ ç‰Œ').set('ai',function(card){
                if(get.position(card)=='e') return -1;
                if(trigger.card.name=="sha"&&card.name=='shan') return 1;
                if(trigger.card.name=="nanman"&&card.name=='sha') return 1;
                if(trigger.card.name=="wanjian"&&card.name=='shan') return 1;
                if(get.type(card)=='equip') return 0.5;
                return 0;
            });
        }
        else{
            player.chooseToUse('æ…·å¿¾ï¼šä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œ').logSkill='DIY_kaikang';
            event.finish();
        }
        "step 1"
        trigger.target.gain(result.cards,player,'give');
        game.delay();
        event.card=result.cards[0];
        "step 2"
        if(trigger.target.getCards('h').contains(card)){
            trigger.target.chooseUseTarget(card);
        }
    },
                ai:{
                    threaten:1.1,
                },
            },
            "DIY_shuangxiong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                group:"DIY_shuangxiong2",
                enable:"chooseToUse",
                prompt:"å°†ä¸€å¼ ç‰Œå½“ä½œã€å†³æ–—ã€‘ä½¿ç”¨",
                viewAs:{
                    name:"juedou",
                },
                position:"he",
                onremove:true,
                filterCard:true,
                check:function(card){
        return 8-get.value(card);
    },
                filter:function(event,player){
        return player.isPhaseUsing()&&!player.hasSkill('DIY_shuangxiong_used');
    },
                subSkill:{
                    used:{
                        sub:true,
                    },
                },
                ai:{
                    basic:{
                        order:10,
                        useful:1,
                        value:5.5,
                    },
                    wuxie:function(target,card,player,viewer){
            if(player==game.me&&get.attitude(viewer,player)>0){
                return 0;
            }
        },
                    result:{
                        target:-1.5,
                        player:function(player,target,card){
                if(player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                },true)){
                    return 0;
                }
                if(get.damageEffect(target,player,target)>0&&get.attitude(player,target)>0&&get.attitude(target,player)>0){
                    return 0;
                }
                var hs1=target.getCards('h','sha');
                var hs2=player.getCards('h','sha');
                if(hs1.length>hs2.length+1){
                    return -2;
                }
                var hsx=target.getCards('h');
                if(hsx.length>2&&hs2.length==0&&hsx[0].number<6){
                    return -2;
                }
                if(hsx.length>3&&hs2.length==0){
                    return -2;
                }
                if(hs1.length>hs2.length&&(!hs2.length||hs1[0].number>hs2[0].number)){
                    return -2;
                }
                return -0.5;
            },
                    },
                    tag:{
                        respond:2,
                        respondSha:2,
                        damage:1,
                    },
                },
            },
            "DIY_shuangxiong2":{
                trigger:{
                    player:"useCardAfter",
                },
                direct:true,
                filter:function (evt,player){
        return ['juedou'].contains(evt.card.name)&&evt.skill=='DIY_shuangxiong';
    },
                content:function (){
        "step 0"
        player.chooseControl('é€‰é¡¹ä¸€','é€‰é¡¹äºŒ').set('choiceList',[
            'æ‘¸ä¸¤å¼ ç‰Œ',
            'é‡ç½®â€œåŒé›„â€',
        ]).set('ai',function(){
            if(player.countCards('h')+2>player.hp) return 'é€‰é¡¹äºŒ';
            return 'é€‰é¡¹ä¸€';
        });
        "step 1"
        if(result.control=='é€‰é¡¹ä¸€'){
            player.draw(2);
            player.addTempSkill('DIY_shuangxiong_used');
        }
        else{
            player.removeSkill('DIY_shuangxiong_used');
        }
    },
            },
            "DIY_zhanjue":{
                audio:"zhanjue",
                group:["DIY_zhanjue2","DIY_zhanjue3"],
                enable:"chooseToUse",
                prompt:"å°†ä¸€å¼ ä¸¤å¼ èŠ±è‰²ç›¸åŒçš„æ‰‹ç‰Œå½“åšã€å†³æ–—ã€‘ä½¿ç”¨",
                viewAs:{
                    name:"juedou",
                },
                position:"hes",
                filterCard:function(card,player){
        if(ui.selected.cards.length){
            return get.suit(card)==get.suit(ui.selected.cards[0]);
        }
        var cards=player.getCards('hes');
        for(var i=0;i<cards.length;i++){
            if(card!=cards[i]){
                if(get.suit(card)==get.suit(cards[i])) return true;
            }
        }
        return false;
    },
                selectCard:2,
                check:function(card){
        return 8-get.value(card);
    },
                ai:{
                    basic:{
                        order:10,
                        useful:1,
                        value:5.5,
                    },
                    wuxie:function(target,card,player,viewer){
            if(player==game.me&&get.attitude(viewer,player)>0){
                return 0;
            }
        },
                    result:{
                        target:-1.5,
                        player:function(player,target,card){
                if(player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                },true)){
                    return 0;
                }
                if(get.damageEffect(target,player,target)>0&&get.attitude(player,target)>0&&get.attitude(target,player)>0){
                    return 0;
                }
                var hs1=target.getCards('h','sha');
                var hs2=player.getCards('h','sha');
                if(hs1.length>hs2.length+1){
                    return -2;
                }
                var hsx=target.getCards('h');
                if(hsx.length>2&&hs2.length==0&&hsx[0].number<6){
                    return -2;
                }
                if(hsx.length>3&&hs2.length==0){
                    return -2;
                }
                if(hs1.length>hs2.length&&(!hs2.length||hs1[0].number>hs2[0].number)){
                    return -2;
                }
                return -0.5;
            },
                    },
                    tag:{
                        respond:2,
                        respondSha:2,
                        damage:1,
                    },
                },
            },
            "DIY_zhanjue2":{
                trigger:{
                    player:"damage",
                    source:"damage",
                },
                direct:true,
                filter:function(event,player){
        return event.card&&event.card.name=="juedou";
    },
                content:function(){
        player.logSkill("DIY_zhanjue");
        var list=[];
        list.add(player);
        list.add(trigger.source);
        game.asyncDraw(list);
    },
            },
            "DIY_zhanjue3":{
                audio:"zhanjue",
                trigger:{
                    target:"useCardToTarget",
                },
                forced:true,
                filter:function(event,player){
        if(event.getParent(2).name=='DIY_zhanjue3') return false;
        if(event.card.name=='juedou') return false;
        return event.card.name=='sha'||get.type(event.card)=='trick'&&get.tag(event.card,'damage')>0;
    },
                content:function(){
        player.useCard({name:"juedou"},trigger.player);
        game.delay();
    },
            },
            "DIY_aocai":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                audioname:["gz_zhugeke"],
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
        if(get.type(name)=='basic'&&lib.inpile.contains(name)) return true;
    },
                filter:function(event,player){
        if(event.responded||event.aocai) return false;
        for(var i of lib.inpile){
            if(get.type(i)=='basic'&&event.filterCard({name:i},player,event)) return true;
        }
        return false;
    },
                delay:false,
                content:function(){
        'step 0'
        var evt=event.getParent(2);
        evt.set('aocai',true);
        var cards=[];
        for(var i=0;i<4;i++){
            var card=get.cardPile(function(card){
                return get.type(card)=='basic'&&!cards.contains(card);
            })
            if(card){
                cards.push(card);
            }
        }
        var aozhan=player.hasSkill('aozhan');
        player.chooseButton(['å‚²æ‰ï¼šé€‰æ‹©è¦'+(evt.name=='chooseToUse'?'ä½¿ç”¨':'æ‰“å‡º')+'çš„ç‰Œ',cards]).set('filterButton',function(button){
            return _status.event.cards.contains(button.link)&&get.type(button.link)=='basic';
        }).set('cards',cards.filter(function(card){
            if(aozhan&&card.name=='tao'){
                return evt.filterCard({
                    name:'sha',isCard:true,cards:[card],
                },evt.player,evt)||evt.filterCard({
                    name:'shan',isCard:true,cards:[card],
                },evt.player,evt);
            }
            return evt.filterCard(card,evt.player,evt);
        })).set('ai',function(button){
            var evt=_status.event.getParent(3);
            if(evt&&evt.ai){
                var tmp=_status.event;
                _status.event=evt;
                var result=(evt.ai||event.ai1)(button.link,_status.event.player,evt);
                _status.event=tmp;
                return result;
            }
            return 1;
        });
        'step 1'
        var evt=event.getParent(2);
        if(result.bool&&result.links&&result.links.length){
            var name=result.links[0].name,aozhan=(player.hasSkill('aozhan')&&name=='tao');
            if(aozhan){
                name=evt.filterCard({
                    name:'sha',isCard:true,cards:[card],
                },evt.player,evt)?'sha':'shan';
            }
            if(evt.name=='chooseToUse'){
                game.broadcastAll(function(result,name){
                    lib.skill.aocai_backup.viewAs={name:name,cards:[result],isCard:true};
                    lib.skill.aocai_backup.prompt='é€‰æ‹©'+get.translation(result)+'çš„ç›®æ ‡';
                },result.links[0],name);
                evt.set('_backupevent','aocai_backup');
                evt.backup('aocai_backup');
            }
            else{
                delete evt.result.skill;
                delete evt.result.used;
                evt.result.card=get.autoViewAs(result.links[0]);
                if(aozhan) evt.result.card.name=name;
                evt.result.cards=[result.links[0]];
                evt.redo();
                return;
            }
        }
        evt.goto(0);
    },
                ai:{
                    effect:{
                        target:function(card,player,target,effect){
                if(get.tag(card,'respondShan')) return 0.7;
                if(get.tag(card,'respondSha')) return 0.7;
            },
                    },
                    order:11,
                    respondShan:true,
                    respondSha:true,
                    result:{
                        player:function(player){
                if(_status.event.dying) return get.attitude(player,_status.event.dying);
                return 1;
            },
                    },
                },
            },
            "DIY_duwu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:8",
                enable:"phaseUse",
                filter:function(event,player){
        return player.countCards('he')>0&&game.hasPlayer(function(current){
            return current.hp>0&&player.inRange(current);
        });
    },
                filterCard:true,
                position:"he",
                selectCard:1,
                complexSelect:true,
                complexCard:true,
                filterTarget:function(card,player,target){
        return target!=player&&target.hp>0&&player.inRange(target);
    },
                check:function(card){
        return 8-get.value(card);
    },
                content:function(){
        var num=[1,2,0].randomGet();
        if(get.isLuckyStar(player)) num=2;
        target.damage(num);
        if(target.isAlive) player.loseHp(2-num);
        
    },
                ai:{
                    damage:true,
                    order:6,
                    result:{
                        player:function(player){
                if(get.isLuckyStar(player)) return 1;
                if(player.hp<2) return -1;
            },
                        target:function(player,target){
                return get.damageEffect(target,player);
            },
                    },
                    threaten:1.5,
                    expose:0.3,
                },
            },
            "DIY_xianzhen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                inherit:"xianzhen",
                enable:"phaseUse",
                filterTarget:function(card,player,target){
        return target!=player;
    },
                filter:function(event,player){
        return event.player&&!event.player.hasSkill('DIY_xianzhen3');
    },
                content:function(){
        player.loseHp();
        player.storage[event.name]=target;
        player.addTempSkill("DIY_xianzhen2");
        target.addTempSkill("DIY_xianzhen3");
    },
                ai:{
                    order:function(name,player){
            var cards=player.getCards('h');
            if(player.countCards('h','sha')==0){
                return 1;
            }
            if(player.hp==1&&player.countCards('h','tao')==0){
                return -2;
            }
            for(var i=0;i<cards.length;i++){
                if(cards[i].name!='sha'&&cards[i].number>11&&get.value(cards[i])<7){
                    return 9;
                }
            }
            return get.order({name:'sha'})-1;
        },
                    result:{
                        player:function(player){
                if(player.countCards('h','sha')>0) return 0;
                var num=player.countCards('h');
                if(num>player.hp) return 0;
                if(num==1) return -2;
                if(num==2) return -1;
                return -0.7;
            },
                        target:function(player,target){
                var num=target.countCards('h');
                if(num==1) return -1;
                if(num==2) return -0.7;
                return -0.5
            },
                    },
                    threaten:1.3,
                },
                usable:1,
            },
            "DIY_xianzhen2":{
                charlotte:true,
                mod:{
                    targetInRange:function(card,player,target){
            if(target==player.storage.DIY_xianzhen) return true;
        },
                    cardUsableTarget:function(card,player,target){
            if(target==player.storage.DIY_xianzhen) return true;
        },
                    playerEnabled:function(card,player,target){
            if(target!=player.storage.DIY_xianzhen) return false;
        },
                },
                ai:{
                    unequip:true,
                    skillTagFilter:function(player,tag,arg){
            if(arg.target!=player.storage.DIY_xianzhen) return false;
        },
                },
            },
            "DIY_xianzhen3":{
                trigger:{
                    player:"damageBegin",
                },
                filter:function(event){
        return event.source&&event.source.hasSkill('DIY_xianzhen');
    },
                silent:true,
                popup:false,
                forced:true,
                content:function(){
        trigger._triggered=null;
    },
                mark:true,
                mod:{
                    cardEnabled:function(){
            return false;
        },
                    cardRespondable:function(){
            return false;
        },
                    cardSavable:function(){
            return false;
        },
                },
                intro:{
                    content:"ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œ",
                },
            },
            "DIY_yizan":{
                intro:{
                    content:"å·²å‘åŠ¨è¿‡#æ¬¡",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:7",
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
        if(!['sha','shan','tao','jiu'].contains(name)) return false;
        if(!player.storage.DIY_yizan&&!player.hasCard(function(card){
            return get.type(card)=='basic';
        },'hs')) return false;
        return player.countCards('hes')>0;
    },
                filter:function(event,player){
        if(!player.storage.DIY_yizan&&!player.hasCard(function(card){
            return get.type(card)=='basic';
        },'hs')) return false;
        if(event.filterCard({name:'sha'},player,event)||
            event.filterCard({name:'shan'},player,event)||
            event.filterCard({name:'jiu'},player,event)||
            event.filterCard({name:'tao'},player,event)){
            return player.countCards('hes')>0;
        }
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            if(event.filterCard({name:'sha'},player,event)){
                list.push(['åŸºæœ¬','','sha']);
                for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
            }
            if(event.filterCard({name:'shan'},player,event)){
                list.push(['åŸºæœ¬','','shan']);
            }
            if(event.filterCard({name:'tao'},player,event)){
                list.push(['åŸºæœ¬','','tao']);
            }
            if(event.filterCard({name:'jiu'},player,event)){
                list.push(['åŸºæœ¬','','jiu']);
            }
            return ui.create.dialog('ç¿Šèµ',[list,'vcard'],'hidden');
        },
                    check:function(button){
            var player=_status.event.player;
            var card={name:button.link[2],nature:button.link[3]};
            if(_status.event.getParent().type!='phase'||game.hasPlayer(function(current){
                return player.canUse(card,current)&&get.effect(current,card,player,player)>0;
            })){
                switch(button.link[2]){
                    case 'tao':case 'shan':return 5;
                    case 'jiu':{
                        if(player.storage.yizan&&player.countCards('hs',{type:'basic'})>2) return 3;
                    };
                    case 'sha':
                        if(button.link[3]=='fire') return 2.95;
                        else if(button.link[3]=='thunder'||button.link[3]=='ice') return 2.92;
                        else return 2.9;
                }
            }
            return 0;
        },
                    backup:function(links,player){
            return {
                audio:'DIY_yizan',
                filterCard:function(card,player,target){
                    if(!player.storage.DIY_yizan) return get.type(card)=='basic';
                    return true;
                },
                complexCard:true,
                selectCard:1,
                check:function(card,player,target){
                    if(!ui.selected.cards.length&&get.type(card)=='basic') return 6;
                    else return 6-get.value(card);
                },
                viewAs:{name:links[0][2],nature:links[0][3]},
                position:'hes',
                popname:true,
                precontent:function(){
                    player.addMark('DIY_yizan_use',1,false);
                },
            }
        },
                    prompt:function(links,player){
            var str=player.storage.DIY_yizan?'ä¸€å¼ ç‰Œ':'ä¸€å¼ åŸºæœ¬ç‰Œ';
            return 'å°†'+str+'å½“åš'+get.translation(links[0][3]||'')+get.translation(links[0][2])+'ä½¿ç”¨æˆ–æ‰“å‡º';
        },
                },
                ai:{
                    order:function(){
            var player=_status.event.player;
            var event=_status.event;
            if(event.filterCard({name:'jiu'},player,event)&&get.effect(player,{name:'jiu'})>0&&player.storage.DIY_yizan&&player.countCards('hs',{type:'basic'})>2){
                return 3.3;
            }
            return 3.1;
        },
                    skillTagFilter:function(player,tag,arg){
            if(tag=='fireAttack') return true;
            if(!player.storage.DIY_yizan&&!player.hasCard(function(card){
            return get.type(card)=='basic';
        },'hs')) return false;
        return player.countCards('hes')>0;
        },
                    result:{
                        player:1,
                    },
                    respondSha:true,
                    respondShan:true,
                    fireAttack:true,
                },
            },
            "DIY_longyuan":{
                audio:"xinfu_longyuan",
                forced:true,
                unique:true,
                juexingji:true,
                trigger:{
                    player:["useCardAfter","respondAfter"],
                },
                skillAnimation:true,
                animationColor:"orange",
                filter:function(event,player){
        return !player.storage.DIY_yizan&&player.countMark('DIY_yizan_use')>=3;
    },
                content:function(){
        player.storage.DIY_yizan=true;
        player.removeSkill("DIY_longyuan");
        player.addSkill("DIY_longyuan_rewrite");
    },
                derivation:"DIY_yizan_rewrite",
            },
            "DIY_yizan_rewrite":{
                audio:"DIY_yizan",
            },
            "DIY_longyuan_rewrite":{
                audio:"xinfu_longyuan",
                forced:true,
                trigger:{
                    player:["useCard","respond"],
                },
                filter:function(event,player){
        if(player.storage.DIY_yizan&&(event.card.name=='tao'||event.card.name=='jiu')&&player!=_status.currentPhase) return true;
        return player.storage.DIY_yizan&&(event.card.name=='sha'||event.card.name=='shan');
    },
                content:function(){
        'step 0'
        player.judge(function(card){
               if(get.color(card)=="red") return 2;
               return 0;
             }).judge2=function(result){
               return result.bool?true:false;
             };
        'step 1'
        if(result.bool){
            player.draw();
        }
    },
            },
            shoupai:{
                mark:true,
                mod:{
                    "cardEnabled2":function (card,player){
                        if(get.position(card)=='h') return false;
                    },
                },
                intro:{
                    content:"ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œ",
                },
                ai:{
                    effect:{
                        target:function (card,player,target){
                            if(get.tag(card,'damage')) return [0,-999999];
                        },
                    },
                },
            },
            "DIY_guzheng":{
                audio:"guzheng",
                audioname:["re_zhangzhang"],
                trigger:{
                    global:"loseAfter",
                },
                group:"guzheng",
                filter:function(event,player){
        if(event.parent.parent.name=='phaseDiscard') return false;
        if(event.type!='discard') return false;
        if(event.player==player) return false;
        if(event.cards.length<2) return false;
        for(var i=0;i<event.cards.length;i++){
            if(get.position(event.cards[i],true)=='d'){
                return true;
            }
        }
        return false;
    },
                checkx:function(event,player,cards){
        if(event.parent.parent.name=='phaseDiscard') return false;
        if(cards.length>2||get.attitude(player,event.player)>0) return true;
        for(var i=0;i<cards.length;i++){
            if(get.value(cards[i],event.player,'raw')<0) return true;
        }
        return false;
    },
                direct:true,
                preHidden:true,
                content:function(){
        "step 0"
        var cards=[];
        for(var i=0;i<trigger.cards.length;i++){
                    if(get.position(trigger.cards[i],true)=='d'){
                        cards.push(trigger.cards[i]);
                    }
                }
        event.cards=cards;
        if(cards.length<2) event.goto(2);
        var check=lib.skill.DIY_guzheng.checkx(trigger,player,cards);
        player.chooseCardButton(cards,'å›ºæ”¿ï¼šé€‰æ‹©ä»¤'+get.translation(trigger.player)+'æ”¶å›çš„ç‰Œ').set('ai',function(button){
            if(_status.event.check){
                return 20-get.value(button.link,_status.event.getTrigger().player);
            }
            return 0;
        }).set('check',check).set('cards',cards).set('filterButton',function(button){
            return _status.event.cards.contains(button.link);
        }).setHiddenSkill(event.name);
        "step 1"
        if(result.bool){
            game.delay(0.5);
            player.logSkill('DIY_guzheng',trigger.player);
            trigger.player.gain(result.links[0]);
            trigger.player.$gain2(result.links[0]);
            game.log(trigger.player,'æ”¶å›äº†',result.links[0]);
            event.cards.remove(result.links[0]);
            if(event.cards.length){
                player.gain(event.cards);
                player.$gain2(event.cards);
                game.log(player,'æ”¶å›äº†',event.cards);
            }
        }
        'step 2'
        game.delay();
    },
                ai:{
                    threaten:1.3,
                    expose:0.2,
                },
            },
            "DIY_zhijian":{
                audio:"rezhijian",
                group:"rezhijian_use",
                prompt:"å°†ä¸€å¼ è£…å¤‡ç‰Œç½®å…¥è‡³å…¶ä»–è§’è‰²çš„è£…å¤‡åŒº",
                enable:"phaseUse",
                position:"he",
                check:function(){return 1},
                filter:function(event,player){
        return player.countCards('he',{type:'equip'})>0;
    },
                filterCard:function(card){
        return get.type(card)=='equip';
    },
                filterTarget:function(event,player,target){
        return target!=player&&target.canEquip(ui.selected.cards[0],true);
    },
                prepare:"give",
                discard:false,
                lose:false,
                content:function(){
        target.equip(cards[0]);
        player.draw();
    },
                ai:{
                    order:11,
                    expose:0.2,
                    result:{
                        target:function(player,target){
                if(ui.selected.cards.length){
                    var card=ui.selected.cards[0];
                    if(target.getEquip(card)||target.countCards('h',{subtype:get.subtype(card)})) return 0;
                    return get.effect(target,card,player,target);
                }
                return 0;
            },
                    },
                },
            },
            "DIY_luanzhan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard",
                },
                forced:true,
                content:function(){
        player.addMark('DIY_luanzhan',1,false);
    },
                intro:{
                    content:"mark",
                },
                ai:{
                    notemp:true,
                },
                mod:{
                    cardUsable:function(card,player,num){
                        if(card.name=='sha') return num+player.countMark('DIY_luanzhan');
                    },
                },
                group:["DIY_luanzhan_add","DIY_luanzhan_remove"],
            },
            "DIY_luanzhan_add":{
                trigger:{
                    player:"useCard2",
                },
                direct:true,
                filter:function(event,player){
        if(event.card.name=='wuxie') return false;
        if(event.card.name!='sha'&&get.type(event.card)!='trick'||!player.countMark('DIY_luanzhan')) return false;
        var info=get.info(event.card);
        if(info.allowMultiple==false) return false;
        if(event.targets&&!info.multitarget){
            if(game.hasPlayer(function(current){
                return !event.targets.contains(current);
            })){
                return true;
            }
        }
        return false;
    },
                content:function(){
        'step 0'
        var num=player.countMark('DIY_luanzhan');
        var prompt2='ä¸º'+get.translation(trigger.card)+'å¢åŠ è‡³å¤š'+get.cnNumber(num)+'ä¸ªç›®æ ‡'
        player.chooseTarget(get.prompt('DIY_luanzhan'),function(card,player,target){
            if(_status.event.targets.contains(target)) return false;
            return target!=player;
        },[1,num]).set('prompt2',prompt2).set('ai',function(target){
            var trigger=_status.event.getTrigger();
            var player=_status.event.player;
            return get.effect(target,trigger.card,player,player);
        }).set('card',trigger.card).set('targets',trigger.targets);
        'step 1'
        if(result.bool){
            if(!event.isMine()&&!event.isOnline()) game.delayx();
            event.targets=result.targets;
        }
        else{
            event.finish();
        }
        'step 2'
        if(event.targets){
            player.logSkill('DIY_luanzhan',event.targets);
            trigger.targets.addArray(event.targets);
        }
    },
            },
            "DIY_luanzhan_remove":{
                audio:"DIY_luanzhan",
                trigger:{
                    player:"useCardToPlayered",
                },
                forced:true,
                filter:function(event,player){
        if(event.card.name=='wuxie') return false;
        if(!event.isFirstTarget||(event.card.name!='sha'&&get.type(event.card)!='trick')||!player.countMark('DIY_luanzhan')) return false;
        var info=get.info(event.card);
        if(info.allowMultiple==false||info.multitarget) return false;
        return event.targets.length<player.countMark('DIY_luanzhan');
    },
                content:function(){
        var num=Math.ceil(player.countMark('DIY_luanzhan')/2);
        player.draw(num);
        player.removeMark('DIY_luanzhan',num);
    },
            },
            "DIY_liegong":{
                shaRelated:true,
                mod:{
                    targetInRange:function(card,player,target){
            if(card.name=='sha'&&target.countCards('h')<=player.countCards('h')) return true;
        },
                },
                group:["DIY_liegong2","DIY_liegong_damage"],
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard",
                },
                filter:function(event,player){
        if(event.card.name=='sha'&&player.storage.DIY_liegong_damage) return true;
        return false;
    },
                content:function(){
        var num=player.storage.DIY_liegong_damage;
        trigger.baseDamage+=num;
    },
                subSkill:{
                    damage:{
                        trigger:{
                            player:"phaseEnd",
                        },
                        direct:true,
                        filter:function(event,player){
                            return event.player.getHistory('sourceDamage').length;
                        },
                        content:function(){
                            player.storage.DIY_liegong_damage=player.getStat('damage');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_liegong2":{
                shaRelated:true,
                audio:"DIY_liegong",
                trigger:{
                    player:"useCardToPlayered",
                },
                forced:true,
                logTarget:"target",
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(event.target.countCards('h')<=player.countCards('h')) return true;
        return false;
    },
                content:function(){
        trigger.getParent().directHit.push(trigger.target);
    },
                ai:{
                    threaten:0.5,
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(get.attitude(player,arg.target)<=0&&arg.card.name=='sha'&&player.countCards('h',function(card){
                return card!=arg.card&&(!arg.card.cards||!arg.card.cards.contains(card));
            })>=arg.target.countCards('h')) return true;
            return false;
        },
                },
            },
            "DIY_zhiyu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                trigger:{
                    player:"useCard2",
                },
                group:"DIY_zhiyu2",
                forced:true,
                filter:function(event){
        if(event.card.isCard) return false;
        if(_status.currentPhase!=event.player) return false;
        return get.type(event.card)=='trick'&&event.player.hp>1&&event.player.countCards('h')>1&&_status.currentPhase==event.player;
    },
                content:function(){
        "step 0"
        player.chooseToDiscard(true);
        "step 1"
        if(!player.countCards('h')) event.finish();
        else player.showHandcards();
        "step 2"
        var cards=player.getCards('h');
        var color=get.color(cards[0],player);
        for(var i=1;i<cards.length;i++){
            if(get.color(cards[i],player)!=color) return event.goto(4);
        }
        player.chooseTarget(get.prompt('DIY_zhiyu'),'é€‰æ‹©ä¸€åè§’è‰²å¹¶ä»¤å…¶å¼ƒç½®ä¸€å¼ ç‰Œ',function(card,player,target){
            return target.countCards('he')>0;
        }).set('ai',function(target){
            return 2-get.attitude(_status.event.player,target);
        }).set('targets',trigger.targets);
        "step 3"
        if(result.bool){
            var target=result.targets[0];
            target.chooseToDiscard(true);
        }
        "step 4"
        game.delay();
    },
            },
            "DIY_zhiyu2":{
                audio:"DIY_zhiyu",
                trigger:{
                    target:"useCardToTargeted",
                    player:"damageEnd",
                },
                forced:true,
                filter:function(event,player){
        if(event.name=='damage') return true;
        return player!=event.player&&get.type(event.card,'trick')=='trick'&&event.targets.length>0;
    },
                content:function(){
        "step 0"
        player.draw();
        "step 1"
        if(!player.countCards('h')) event.finish();
        else player.showHandcards();
        "step 2"
        var cards=player.getCards('h');
        var color=get.color(cards[0],player);
        for(var i=1;i<cards.length;i++){
            if(get.color(cards[i],player)!=color) return event.goto(4);
        }
        player.chooseTarget(get.prompt('DIY_zhiyu'),'é€‰æ‹©ä¸€åè§’è‰²å¹¶ä»¤å…¶å¼ƒç½®ä¸€å¼ ç‰Œ',function(card,player,target){
            return target.countCards('he')>0;
        }).set('ai',function(target){
            return 2-get.attitude(_status.event.player,target);
        }).set('targets',trigger.targets);
        "step 3"
        if(result.bool){
            var target=result.targets[0];
            target.chooseToDiscard(true);
        }
        "step 4"
        game.delay();
    },
            },
            "DIY_tuntian":{
                filter:function(event,player){
        if(player==_status.currentPhase){
            return event.name=='lose'&&event.cards2.filter(function(card){
                return get.name(card,event.hs.contains(card)?player:false)=='sha';
            }).length>0;
        };
        if(event.name=='gain'&&event.player==player) return false;
        var evt=event.getl(player);
        return evt&&evt.cards2&&evt.cards2.length>0;
    },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:12",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                },
                frequent:true,
                preHidden:true,
                prompt:"æ˜¯å¦å°†ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä½œä¸ºã€ç”°ã€‘ç½®äºæ­¦å°†ç‰Œä¸Šï¼Ÿ",
                content:function(){
        'step 0'
        event.count=1;
        if(trigger.name=='lose'){
            event.count=0;
            for(var i=0;i<trigger.cards2.length;i++){
                if(get.name(trigger.cards2[i],player)=='sha'&&player==_status.currentPhase) event.count++;
                if(player!=_status.currentPhase) event.count++;
            }
        }
        'step 1'
        player.addToExpansion(get.cards(1),'gain2').gaintag.add('DIY_tuntian');
        event.count--;
        'step 2'
        if(event.count){
            player.chooseBool(get.prompt2('DIY_tuntian')).set('frequentSkill','DIY_tuntian');
        }
        else event.finish();
        'step 3'
        if(result.bool){
            player.logSkill('DIY_tuntian');
            event.goto(1);
        }
    },
                marktext:"ç”°",
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                group:"DIY_tuntian_dist",
                locked:false,
                subSkill:{
                    dist:{
                        locked:false,
                        mod:{
                            globalFrom:function(from,to,distance){
                    var num=distance-from.getExpansions('DIY_tuntian').length;
                    if(_status.event.skill=='DIY_jixi_backup'||_status.event.skill=='gzjixi_backup') num++;
                    return num;
                },
                        },
                        sub:true,
                    },
                },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(!target.hasFriend()&&!player.hasUnknown()) return;
                if(_status.currentPhase==target) return;
                if(card.name!='shuiyanqijunx'&&get.tag(card,'loseCard')&&target.countCards('he')){
                    if(target.hasSkill('ziliang')) return 0.7;
                    return [0.5,Math.max(2,target.countCards('h'))];
                }
                if(target.isUnderControl(true,player)){
                    if((get.tag(card,'respondSha')&&target.countCards('h','sha'))||
                        (get.tag(card,'respondShan')&&target.countCards('h','shan'))){
                        if(target.hasSkill('ziliang')) return 0.7;
                        return [0.5,1];
                    }
                }
                else if(get.tag(card,'respondSha')||get.tag(card,'respondShan')){
                    if(get.attitude(player,target)>0&&card.name=='juedou') return;
                    if(get.tag(card,'damage')&&target.hasSkillTag('maixie')) return;
                    if(target.countCards('h')==0) return 2;
                    if(target.hasSkill('ziliang')) return 0.7;
                    if(get.mode()=='guozhan') return 0.5;
                    return [0.5,Math.max(target.countCards('h')/4,target.countCards('h','sha')+target.countCards('h','shan'))];
                }
            },
                    },
                    threaten:function(player,target){
            if(target.countCards('h')==0) return 2;
            return 0.5;
        },
                    nodiscard:true,
                    nolose:true,
                },
            },
            "DIY_zaoxian":{
                content:function(){
        player.awakenSkill('DIY_zaoxian');
        player.loseMaxHp();
        player.addSkill('DIY_jixi');
        player.insertPhase();
    },
                skillAnimation:true,
                animationColor:"thunder",
                audio:"zaoxian",
                unique:true,
                juexingji:true,
                trigger:{
                    global:"phaseEnd",
                },
                forced:true,
                filter:function(event,player){
        return player.getExpansions('DIY_tuntian').length>=3;
    },
                derivation:"DIY_jixi",
            },
            "DIY_jixi":{
                group:"DIY_jixi2",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:12",
                enable:"phaseUse",
                filter:function(event,player){
        return player.getExpansions('DIY_tuntian').length>0&&event.filterCard({name:'shunshou'},player,event);
    },
                chooseButton:{
                    dialog:function(event,player){
            return ui.create.dialog('æ€¥è¢­',player.getExpansions('DIY_tuntian'),'hidden');
        },
                    backup:function(links,player){
            var skill=_status.event.buttoned;
            return {
                audio:'DIY_jixi',
                selectCard:-1,
                position:'x',
                filterCard:skill=='DIY_jixi'?(card)=>card==lib.skill.DIY_jixi_backup.card:(card)=>card==lib.skill.gzjixi_backup.card,
                viewAs:{name:'shunshou'},
                card:links[0],
            }
        },
                    prompt:function(links,player){
            return 'é€‰æ‹© é¡ºæ‰‹ç‰µç¾Šï¼ˆ'+get.translation(links[0])+'ï¼‰çš„ç›®æ ‡';
        },
                },
                ai:{
                    order:10,
                    result:{
                        player:function(player){
                return player.getExpansions('DIY_tuntian').length-1;
            },
                    },
                },
            },
            "DIY_jixi2":{
                audio:"DIY_jixi",
                trigger:{
                    global:"loseAfter",
                },
                frequent:true,
                prompt:"æ˜¯å¦äºå½“å‰å›åˆç»“æŸåè¿›è¡Œä¸€ä¸ªé¢å¤–çš„å›åˆ",
                filter:function(event,player){
        if(event.player.countCards('h')) return false;
        if(_status.currentPhase!=player) return false;
        if(event.player==player) return false;
        return event.hs&&event.hs.length>0;
    },
                content:function(){
        player.line(trigger.player,'green');
        player.insertPhase();
    },
                ai:{
                    threaten:1.1,
                },
            },
            "DIY_qiaobian8":{
                audio:"DIY_qiaobian2",
                trigger:{
                    global:"phaseDrawBegin1",
                },
                direct:true,
                filter:function(event,player){
        return !event.numFixed&&player.countCards('h')>0&&event.player!=player;
    },
                content:function(){
        "step 0"
        var save=false;
        if(get.attitude(player,event.player)<0){
            save=true;
        }
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºé»‘è‰²åˆ™è·³è¿‡'+get.translation(_status.currentPhase)+'çš„æ‘¸ç‰Œé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian2',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            player.judge(function(card){
                if(get.color(card)=="red") return 2;
                return 0;
                }).judge2=function(result){
                    return result.bool?true:false;
                };
        }
        'step 2'
        if(result.bool){
            trigger.cancel();
        }
        'step 3'
        game.delay();
    },
            },
            "DIY_qiaobian9":{
                audio:"DIY_qiaobian3",
                trigger:{
                    global:"phaseUseBefore",
                },
                direct:true,
                filter:function(event,player){
        return event.player.countCards('h')>0&&player.countCards('h')>0&&event.player!=player;
    },
                content:function(){
        "step 0"
        var save=false;
        if(get.attitude(player,event.player)<0){
            save=true;
        }
        var next=player.chooseToDiscard(get.prompt('qiaobian'),'å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºçº¢è‰²åˆ™è·³è¿‡'+get.translation(_status.currentPhase)+'çš„å‡ºç‰Œé˜¶æ®µ');
        next.logSkill=['DIY_qiaobian3',_status.currentPhase];
        next.ai=function(card){
            if(save){
                return 7-get.value(card);
            }
            return 0;
        }
        "step 1"
        if(result.bool){
            player.judge(function(card){
                if(get.color(card)=="black") return 2;
                return 0;
                }).judge2=function(result){
                    return result.bool?true:false;
                };
        }
        'step 2'
        if(result.bool){
            trigger.cancel();
        }
        'step 3'
        game.delay();
    },
            },
            "DIY_zhendu_dushi":{
                intro:{
                    content:"ä½ ä¸æ˜¯å…¶ä»–è§’è‰²ã€æ¡ƒã€‘çš„åˆæ³•ç›®æ ‡",
                },
                mark:true,
                mod:{
                    targetEnabled:function(card,player,target,now){
            if(card.name=='tao'&&player!=target) return false;
        },
                },
            },
            "DIY_muzhen":{
                audio:"muzhen",
                enable:"phaseUse",
                usable:2,
                filter:function(event,player){
        if(!player.hasSkill('DIY_muzhen1')&&player.countCards('e')>0&&game.hasPlayer(function(current){
            return current!=player&&current.countCards('h')>0;
        })) return true;
        if(!player.hasSkill('DIY_muzhen2')&&player.countCards('he')>1&&game.hasPlayer(function(current){
            return current!=player&&current.countCards('e')>0;
        })) return true;
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[
                'å°†ä¸€å¼ è£…å¤‡ç‰Œç½®äºå…¶ä»–è§’è‰²çš„è£…å¤‡åŒºå†…å¹¶è·å¾—å…¶ä¸€å¼ æ‰‹ç‰Œ',
                'å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²å¹¶è·å¾—å…¶è£…å¤‡åŒºå†…çš„ä¸€å¼ ç‰Œ',
            ];
            var choiceList=ui.create.dialog('ç¦é˜µï¼šè¯·é€‰æ‹©ä¸€é¡¹','hidden');
            for(var i=0;i<list.length;i++){
                var str='<div class="popup text" style="width:calc(100% - 10px);display:inline-block">';
                var bool=lib.skill.DIY_muzhen.chooseButton.filter({link:i},player);
                if(!bool) str+='<div style="opacity:0.5">';
                str+=list[i];
                if(!bool) str+='</div>';
                str+='</div>';
                var next=choiceList.add(str);
                next.firstChild.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                next.firstChild.link=i;
                for(var j in lib.element.button){
                    next[j]=lib.element.button[j];
                }
                choiceList.buttons.add(next.firstChild);
            }
            return choiceList;
        },
                    filter:function(button,player){
            if(button.link==0) return !player.hasSkill('DIY_muzhen1')&&player.countCards('e')>0&&game.hasPlayer(function(current){
                return current!=player&&current.countCards('h')>0;
            })
            return !player.hasSkill('DIY_muzhen2')&&player.countCards('he')>1&&game.hasPlayer(function(current){
                return current!=player&&current.countCards('e')>0;
            });
        },
                    backup:function(links){
            return {
                audio:'muzhen',
                filterTarget:[
                    function(card,player,target){
                        return target.countCards('h')>0&&target.isEmpty(ui.selected.cards[0]);
                    },
                    function(card,player,target){
                        return target.countCards('e')>0;
                    }
                ][links[0]],
                filterCard:[
                    function(card,player){
                        if(ui.selected.targets.length) return ui.selected.targets[0].isEmpty(card);
                        return game.hasPlayer(function(current){
                            return current.countCards('h')>0&&current.isEmpty(card);
                        })
                    },
                    true,
                ],
                selectCard:1,
                position:'eh',
                discard:false,
                lose:false,
                delay:false,
                content:function(){
                    'step 0'
                    player.addTempSkill('DIY_muzhen'+cards.length,'phaseUseEnd');
                    if(get.type(cards)=='equip'){
                        player.$giveAuto(cards[0],target);
                        game.delayx();
                        target.equip(cards[0]);
                    }
                    else{
                        target.gain(cards,player,'giveAuto');
                    }
                    player.gainPlayerCard(target,get.type(cards)=='equip'?'e':'h',true);
                },
            }
        },
                    prompt:function(){
            return 'è¯·é€‰æ‹©ã€ç¦é˜µã€‘çš„ç‰Œå’Œç›®æ ‡'
        },
                },
            },
            "DIY_muzhen1":{
            },
            "DIY_muzhen2":{
            },
            "DIY_muzhen_backup":{
            },
            "DIY_kannan":{
                audio:"xinfu_kannan",
                subSkill:{
                    phase:{
                        sub:true,
                    },
                },
                group:["DIY_kannan_lose","DIY_kannan_compare","DIY_kannan_storage"],
                enable:"phaseUse",
                filter:function (event,player){
        return player.countCards('h')>0;
    },
                filterTarget:function (card,player,target){
        return player.canCompare(target);
    },
                content:function (){
        'step 0'
        player.chooseToCompare(target).set('small',get.attitude(player,target)>0||target.countCards('h')>1);
        'step 1'
        if(result.bool){
            if(!player.hasSkill('DIY_kannan_eff')){
                player.addSkill('DIY_kannan_eff');
            }else{
                if(!player.storage.DIY_kannan_eff) player.storage.DIY_kannan_eff=0;
            }
            player.storage.DIY_kannan_eff++;
            player.markSkill('DIY_kannan_eff');
        }
        else{
            var card2=result.target;
            if(get.position(card2)=='d') player.gain(card2,'gain2');
            if(!target.hasSkill('DIY_kannan_eff')){
                target.addSkill('DIY_kannan_eff');
            }
            else{
                if(!target.storage.DIY_kannan_eff) player.storage.DIY_kannan_eff=0;
                //target.storage.kannan_eff++;
                //target.markSkill('kannan_eff');
            }
            target.storage.DIY_kannan_eff++;
            target.markSkill('DIY_kannan_eff');
        }
    },
                ai:{
                    order:10,
                    result:{
                        target:function(player,target){
                if(player.countCards('h',function(card){
                    return player.hasValueTarget(card);
                })){
                    if(player.hasSkill('DIY_kannan_eff')) return 0;
                    var nd=!player.needsToDiscard();
                    if(player.hasCard(function(card){
                        if(get.position(card)!="h") return false;
                        var val=get.value(card)
                        if(nd&&val<0) return true;
                        if(val<=5){
                            return card.number>=12;
                        }
                        if(val<=6){
                            return card.number>=13;
                        }
                        return false;
                    })) return -1;
                    return 0;
                }
                return -1;
            },
                    },
                },
            },
            "DIY_kannan_eff":{
                mark:true,
                intro:{
                    content:"ä¸‹ä¸€å¼ æ€çš„ä¼¤å®³åŸºæ•°+#",
                },
                trigger:{
                    player:"useCard",
                },
                filter:function (event){
        return event.card&&event.card.name=='sha';
    },
                forced:true,
                content:function (){
        if(!trigger.baseDamage) trigger.baseDamage=1;
        trigger.baseDamage+=player.storage.DIY_kannan_eff;
        player.removeSkill('DIY_kannan_eff');
    },
                init:function (player){
        player.storage.DIY_kannan_eff=0;
    },
                onremove:function (player){
        delete player.storage.DIY_kannan_eff;
    },
                ai:{
                    damageBonus:true,
                },
            },
            "DIY_kannan_lose":{
                trigger:{
                    player:"loseAfter",
                },
                filter:function(event,player){
        if(event.type=='discard'||event.getParent().name=='useCard'||event.getParent().name=='respond'||event.getParent().name=='gain'||event.getParent().name=='equip') return false;
        return true;
    },
                forced:true,
                direct:true,
                content:function(){
        player.storage.DIY_kannan=true;
    },
            },
            "DIY_kannan_storage":{
                trigger:{
                    player:["chooseToCompareAfter","compareMultipleAfter"],
                    target:["chooseToCompareAfter","compareMultipleAfter"],
                },
                forced:true,
                direct:true,
                content:function(){
        player.storage.DIY_kannan=false;
    },
            },
            "DIY_kannan_compare":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:"compare",
                    target:"compare",
                },
                filter:function(event,player){
        if(!player.storage.DIY_kannan) return false;
        if(event.player!=player&&event.num2<event.num1) return true;
        if(event.player==player&&event.num1<event.num2) return true;
        return false;
    },
                forced:true,
                locked:false,
                content:function(){
        "step 0"
        player.draw();
        var cards=player.getCards('he'); 
        player.chooseButton(['è¯·é€‰æ‹©ä¸€å¼ ç‰Œæ¥ä¿®æ”¹æ‹¼ç‚¹ç‚¹æ•°', player.getCards('he')], 1,true).set('ai',function(card){
                return get.number(card);
        });
        "step 1"
        if(result.bool){
            num=get.number(result.links[0]);
            if(player==trigger.player){
                trigger.num1=num;
            }
            else{
                trigger.num2=num;
            }
            game.log(player,'çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°æ”¹ä¸º'+get.translation(num));
        }
        player.storage.DIY_kannan=false;
    },
            },
            "DIY_rende":{
                marktext:"ä»å¾·",
                intro:{
                    content:function(storage,player){
                        var num=player.countMark("DIY_rende");
                        var str='<li>æœ¬å›åˆå·²ä»å¾·ç‰Œæ•°ï¼š';
                        str+=num;
                        if(_status.currentPhase!=player){
                            str='å½“å‰ä¸æ˜¯ä½ å›åˆä½ ä»å¾·ä»€ä¹ˆ';
                        }
                        return str;
                    },
                },
                init:function(player){
                    player.storage.DIY_rende=0;
                },
                group:"DIY_rende1",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filterCard:true,
                selectCard:[1,Infinity],
                position:"he",
                discard:false,
                lose:false,
                delay:false,
                filterTarget:function(card,player,target){
        return player!=target;
    },
                onremove:"DIY_rende",
                check:function(card){
        if(ui.selected.cards.length>1) return 0;
        if(ui.selected.cards.length&&ui.selected.cards[0].name=='du') return 0;
        if(!ui.selected.cards.length&&card.name=='du') return 20;
        var player=get.owner(card);
        var num=0;
        var evt2=_status.event.getParent();
        var num=0;
        player.getHistory('lose',function(evt){
            if(evt.getParent().skill=='DIY_rende'&&evt.getParent(3)==evt2) num+=evt.cards.length;
        });
        if(player.hp==player.maxHp||num>1||player.countCards('h')<=1){
            if(ui.selected.cards.length){
                return -1;
            }
            var players=game.filterPlayer();
            for(var i=0;i<players.length;i++){
                if(players[i].hasSkill('haoshi')&&
                    !players[i].isTurnedOver()&&
                    !players[i].hasJudge('lebu')&&
                    get.attitude(player,players[i])>=3&&
                    get.attitude(players[i],player)>=3){
                    return 11-get.value(card);
                }
            }
            if(player.countCards('h')>player.hp) return 10-get.value(card);
            if(player.countCards('h')>2) return 6-get.value(card);
            return -1;
        }
        return 10-get.value(card);
    },
                content:function(){
        'step 0'
        target.gain(cards,player,'giveAuto');
        player.addMark('DIY_rende',cards.length,false);
        var num=player.countMark("DIY_rende");
        game.delay();
            if(num%2==0){
                var list=[];
                list.push(['åŸºæœ¬','','sha']);
                for(var i of lib.inpile_nature){
                list.push(['åŸºæœ¬','','sha',i]);
                }
                if(lib.filter.cardUsable({name:'tao'},player,event.getParent('chooseToUse'))&&game.hasPlayer(function(current){
                    return player.canUse('tao',current);
                })){
                    list.push(['åŸºæœ¬','','tao']);
                }
                if(lib.filter.cardUsable({name:'jiu'},player,event.getParent('chooseToUse'))){
                    list.push(['åŸºæœ¬','','jiu']);
                }
                if(list.length){
                    player.chooseButton(['æ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ åŸºæœ¬ç‰Œï¼Ÿ',[list,'vcard']]).set('ai',function(button){
                        var player=_status.event.player;
                        var card={name:button.link[2],nature:button.link[3]};
                        if(card.name=='tao'){
                            if(player.hp==1||(player.hp==2&&!player.hasShan())||player.needsToDiscard()){
                                return 5;
                            }
                            return 1;
                        }
                        if(card.name=='sha'){
                            if(game.hasPlayer(function(current){
                                return player.canUse(card,current)&&get.effect(current,card,player,player)>0
                            })){
                                if(card.nature=='fire') return 2.95;
                                if(card.nature=='thunder'||card.nature=='ice') return 2.92;
                                return 2.9;
                            }
                            return 0;
                        }
                        if(card.name=='jiu'){
                            return 0.5;
                        }
                        return 0;
                    });
                }
                else{
                    event.finish();
                }
            }
            if(num%2!=0&&num%5==0){
                player.draw(5);
            }
            if(num%2!=0&&num%5!=0){
                event.finish();
            }
        'step 1'
        if(result&&result.bool&&result.links[0]){
            var card={name:result.links[0][2],nature:result.links[0][3]};
            player.chooseUseTarget(card,true,'nodistance');
        }
    },
                ai:{
                    fireAttack:true,
                    order:function(skill,player){
            if(player.hp<player.maxHp&&num<2&&player.countCards('h')>1){
                return 10;
            }
            return 4;
        },
                    result:{
                        target:function(player,target){
                if(target.hasSkillTag('nogain')) return 0;
                if(ui.selected.cards.length&&ui.selected.cards[0].name=='du'){
                    if(target.hasSkillTag('nodu')) return 0;
                    return -10;
                }
                if(target.hasJudge('lebu')) return 0;
                var nh=target.countCards('h');
                var np=player.countCards('h');
                if(player.hp==player.maxHp||player.storage.DIY_rende<0||player.countCards('h')<=1){
                    if(nh>=np-1&&np<=player.hp&&!target.hasSkill('haoshi')) return 0;
                }
                return Math.max(1,5-nh);
            },
                    },
                    effect:{
                        target:function(card,player,target){
                if(player==target&&get.type(card)=='equip'){
                    if(player.countCards('e',{subtype:get.subtype(card)})){
                        if(game.hasPlayer(function(current){
                            return current!=player&&get.attitude(player,current)>0;
                        })){
                            return 0;
                        }
                    }
                }
            },
                    },
                    threaten:0.8,
                },
            },
            "DIY_rende1":{
                trigger:{
                    player:"phaseEnd",
                },
                silent:true,
                filter:function(event,player){
                    return player.countMark("DIY_rende")>0;
                },
                content:function(){
                    player.removeMark('DIY_rende',Infinity,false);
                },
                forced:true,
                popup:false,
            },
            "DIY_qizhi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCardToPlayered","respond","useCard"],
                },
                direct:true,
                filter:function(event,player){
        if(event.name=="respond"&&_status.currentPhase!=player) return true;
        if(event.name=="useCard"&&_status.currentPhase!=player) return true;
        if(event.name=="respond"&&_status.currentPhase==player) return false;
        if(event.name=="useCard"&&_status.currentPhase==player) return false;
        if(!event.targets) return false;
        if(!event.isFirstTarget) return false;
        if(event.noai) return false;
        return game.hasPlayer(function(target){
            return !event.targets.contains(target)&&target.countCards('he')>0;
        });
    },
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt('DIY_qizhi'),'å¼ƒç½®ä¸€åè§’è‰²çš„ä¸€å¼ ç‰Œï¼Œç„¶åä½ æ‘¸ä¸€å¼ ç‰Œå¹¶äº¤ç»™å…¶ä¸€å¼ ç‰Œ',function(card,player,target){
            if(_status.currentPhase!=player) return true;
            return !_status.event.targets.contains(target)&&target.countCards('he')>0;
        }).set('ai',function(target){
            var player=_status.event.player;
            if(target==player) return 2;
            if(get.attitude(player,target)<=0){
                return 1
            }
            return 0.5;
        }).set('targets',trigger.targets);
        'step 1'
        if(result.bool){
            player.getHistory('custom').push({DIY_qizhi:true});
            player.logSkill('DIY_qizhi',result.targets);
            player.discardPlayerCard(result.targets[0],true,'he');
            event.target=result.targets[0];
            player.draw();
        }
        else{
            event.finish();
        }
        'step 2'
        if(player!=event.target){
            player.chooseCard('he',true,'é€‰æ‹©äº¤ç»™'+get.translation(event.target)+'ä¸€å¼ ç‰Œ');
        }
        'step 3'
        if(result.bool&&result.cards&&result.cards.length) event.target.gain(result.cards,player,'giveAuto');
    },
            },
            "DIY_jinqu":{
                trigger:{
                    global:"phaseJieshuBegin",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
                    return player.getHistory('custom',function(evt){
            return evt.DIY_qizhi==true;
        }).length>0;
                },
                check:function(event,player){
        return player.getHistory('custom',function(evt){
            return evt.DIY_qizhi==true;
        }).length>=player.countCards('h');
    },
                prompt:function(event,player){
        var num=player.getHistory('custom',function(evt){
            return evt.DIY_qizhi==true;
        }).length;
        return 'è¿›è¶‹ï¼šæ˜¯å¦æ‘¸'+get.cnNumber(num)+'å¼ ç‰Œå¹¶å°†æ‰‹ç‰Œå¼ƒç½®è‡³'+get.cnNumber(num)+'å¼ ï¼Ÿ';
    },
                content:function(){
        'step 0'
        var num=player.getHistory('custom',function(evt){
            return evt.DIY_qizhi==true;
        }).length;
        player.draw(num);
        'step 1'
        var dh=player.countCards('h')-player.getHistory('custom',function(evt){
            return evt.DIY_qizhi==true;
        }).length;
        if(dh>0){
            player.chooseToDiscard(dh,true);
        }
    },
                ai:{
                    combo:"DIY_qizhi",
                },
            },
            "DIY_quanji":{
                group:["DIY_quanji2","DIY_quanji3"],
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["damageEnd","phaseUseEnd"],
                },
                frequent:true,
                locked:false,
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                notemp:true,
                filter:function(event,player){
        if(event.name=='phaseUse') return player.countCards('h')>player.hp;
        return event.num>0;
    },
                content:function(){
        "step 0"
        event.count=trigger.num||1;
        "step 1"
        event.count--;
        player.draw();
        "step 2"
        if(player.countCards('he')){
            player.chooseCard('å°†ä¸€å¼ ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šä½œä¸ºâ€œæƒâ€','he',true);
        }
        else{
            event.goto(4);
        }
        "step 3"
        if(result.cards&&result.cards.length){
            player.addToExpansion(result.cards,player,'give').gaintag.add('DIY_quanji');
        }
        "step 4"
        if(event.count>0){
            player.chooseBool(get.prompt2('DIY_quanji')).set('frequentSkill','DIY_quanji');
        }
        else event.finish();
        "step 5"
        if(result.bool){
            player.logSkill('DIY_quanji');
            event.goto(1);
        }
    },
                mod:{
                    maxHandcard:function(player,num){
            return num+player.getExpansions('DIY_quanji').length;
        },
                },
                onremove:function(player,skill){
        var cards=player.getExpansions('DIY_quanji');
        if(cards.length) player.loseToDiscardpile(cards);
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    threaten:0.8,
                    effect:{
                        target:function(card,player,target){
                if(get.tag(card,'damage')){
                    if(player.hasSkillTag('jueqing',false,target)) return [1,-2];
                    if(!target.hasFriend()) return;
                    if(target.hp>=4) return [0.5,get.tag(card,'damage')*2];
                    if(!target.hasSkill('paiyi')&&target.hp>1) return [0.5,get.tag(card,'damage')*1.5];
                    if(target.hp==3) return [0.5,get.tag(card,'damage')*1.5];
                    if(target.hp==2) return [1,get.tag(card,'damage')*0.5];
                }
            },
                    },
                },
            },
            "DIY_zili":{
                derivation:"DIY_paiyi",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseEnd",
                },
                forced:true,
                juexingji:true,
                skillAnimation:true,
                animationColor:"thunder",
                filter:function(event,player){
        return player.getExpansions('DIY_quanji').length>2;
    },
                content:function(){
        player.awakenSkill('DIY_zili');
        player.recover();
        player.draw(2);
        player.loseMaxHp();
        player.addSkill('DIY_paiyi');
        player.insertPhase();
    },
            },
            "DIY_paiyi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
        return player.getExpansions('DIY_quanji').length>0&&(!player.hasSkill('DIY_paiyi_0')||!player.hasSkill('DIY_paiyi_1'))
    },
                chooseButton:{
                    check:function(button){
            if(typeof button.link=='object') return 1;
            var player=_status.event.player,num=player.getExpansions('DIY_quanji').length-1;
            if(button.link==1){
                if(game.countPlayer(function(current){
                    return get.damageEffect(current,player,player)>0;
                })<num) return 0.5;
                return 2;
            }
            if(num<2) return 0;
            return 1;
        },
                    dialog:function(event,player){
            var dialog=ui.create.dialog('æƒè®¡','hidden');
            var table=document.createElement('div');
            table.classList.add('add-setting');
            table.style.margin='0';
            table.style.width='100%';
            table.style.position='relative';
            var list=['æ‘¸ç‰Œ','é€ æˆä¼¤å®³'];
            for(var i=0;i<list.length;i++){
                if(player.hasSkill('DIY_paiyi_'+i)) continue;
                var td=ui.create.div('.shadowed.reduce_radius.pointerdiv.tdnode');
                td.innerHTML='<span>'+(list[i])+'</span>';
                td.link=i;
                td.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                for(var j in lib.element.button){
                    td[j]=lib.element.button[j];
                }
                table.appendChild(td);
                dialog.buttons.add(td);
            }
            dialog.content.appendChild(table);
            dialog.add(player.getExpansions('DIY_quanji'));
            return dialog;
        },
                    select:2,
                    filter:function(button,player){
            if(ui.selected.buttons.length) return (typeof ui.selected.buttons[0].link)!=(typeof button.link)
            return true;
        },
                    backup:function(links){
            if(typeof links[0]=='object') links.reverse();
            var next=get.copy(lib.skill['DIY_paiyi_backup'+links[0]]);
            next.card=links[1];
            return next;
        },
                    prompt:function(links,player){
            if(typeof links[0]=='object') links.reverse();
            var num=get.cnNumber(Math.max(1,player.getExpansions('DIY_quanji').length-1)),card=get.translation(links[1]);
            if(links[0]==0) return 'ç§»å»'+card+'å¹¶ä»¤ä¸€åè§’è‰²æ‘¸'+num+'å¼ ç‰Œ';
            return 'ç§»å»'+card+'å¹¶å¯¹è‡³å¤š'+num+'åè§’è‰²é€ æˆ1ç‚¹ä¼¤å®³';
        },
                },
                ai:{
                    order:1,
                    result:{
                        player:1,
                    },
                },
                subSkill:{
                    "0":{
                        sub:true,
                    },
                    "1":{
                        sub:true,
                    },
                    "backup0":{
                        audio:"DIY_paiyi",
                        filterCard:()=>false,
                        selectCard:-1,
                        filterTarget:true,
                        delay:false,
                        content:function(){
                'step 0'
                player.addTempSkill('DIY_paiyi_0','phaseUseEnd');
                var card=lib.skill.DIY_paiyi_backup.card;
                player.loseToDiscardpile(card);
                'step 1'
                target.draw(Math.max(1,player.getExpansions('DIY_quanji').length));
            },
                        ai:{
                            result:{
                                target:function(player,target){
                        if(target.hasSkill('nogain')) return 0;
                        if(player==target&&!player.needsToDiscard()) return 3;
                        return 1;
                    },
                            },
                        },
                        sub:true,
                    },
                    "backup1":{
                        audio:"DIY_paiyi",
                        filterCard:()=>false,
                        selectCard:-1,
                        filterTarget:true,
                        delay:false,
                        multitarget:true,
                        multiline:true,
                        selectTarget:function(){
                return [1,Math.max(1,_status.event.player.getExpansions('DIY_quanji').length-1)];
            },
                        content:function(){
                'step 0'
                targets.sortBySeat();
                player.addTempSkill('DIY_paiyi_1','phaseUseEnd');
                var card=lib.skill.DIY_paiyi_backup.card;
                player.loseToDiscardpile(card);
                'step 1'
                for(var i of targets) i.damage();
            },
                        ai:{
                            tag:{
                                damage:1,
                            },
                            result:{
                                target:-1.5,
                            },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_paiyi_0":{
                sub:true,
            },
            "DIY_paiyi_1":{
                sub:true,
            },
            "DIY_paiyi_backup":{
            },
            "DIY_paiyi_backup0":{
            },
            "DIY_paiyi_backup1":{
            },
            "DIY_quanji2":{
                audio:"DIY_quanji",
                trigger:{
                    global:"gainAfter",
                },
                frequent:true,
                filter:function(event,player){
        if(player==event.player) return false;
        var evt=event.getl(player);
        return evt&&evt.cards2&&evt.cards2.length>0;
    },
                content:function(){
        'step 0'
        event.count=1;
        'step 1'
        event.count--;
        player.draw();
        'step 2'
        var hs=player.getCards('h');
        if(hs.length){
            if(hs.length==1) event._result={bool:true,cards:hs};
            else player.chooseCard('he',true,'é€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºâ€œæƒâ€');
        }
        else event.goto(4);
        'step 3'
        if(result.bool&&result.cards&&result.cards.length){
            player.addToExpansion(result.cards,'giveAuto',player).gaintag.add('DIY_quanji');
        }
        'step 4'
        if(event.count>0){
            player.chooseBool(get.prompt2('DIY_quanji')).set('frequentSkill','DIY_quanji');
        }
        else event.finish();
        'step 5'
        if(result.bool){
            player.logSkill('DIY_quanji');
            event.goto(1);
        }
    },
            },
            "DIY_quanji3":{
                audio:"DIY_quanji",
                trigger:{
                    source:"damageSource",
                },
                frequent:true,
                preHidden:true,
                filter:function(event,player,name){
        if(!event.card) return false;
        var evt=event.getParent();
        return evt&&evt.card==event.card&&evt.type=='card'&&evt.targets&&evt.targets.length==1;
    },
                content:function(){
        'step 0'
        player.draw();
        'step 1'
        var hs=player.getCards('he');
        if(hs.length>0){
            if(hs.length==1) event._result={bool:true,cards:hs};
            else player.chooseCard('he',true,'é€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºâ€œæƒâ€');
        }
        else event.finish();
        'step 2'
        if(result.bool){
            var cs=result.cards;
            player.addToExpansion(cs,player,'give').gaintag.add('DIY_quanji');
        }
    },
            },
            "DIY_shenduan":{
                trigger:{
                    player:"loseAfter",
                },
                filter:function(event,player){
        if(event.type!='discard') return;
        for(var i=0;i<event.cards2.length;i++){
            if(get.color(event.cards2[i],player)=='black'&&['basic','equip','trick'].contains(get.type(event.cards2[i],event.hs.contains(event.cards2[i])?event.player:false))&&
                get.position(event.cards2[i])=='d'){
                return true;
            }
        }
        return false;
    },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                content:function(){
        'step 0'
        var cards=[];
        for(var i=0;i<trigger.cards2.length;i++){
            if(get.color(trigger.cards2[i],player)=='black'&&['basic','equip','trick'].contains(get.type(trigger.cards2[i],trigger.hs.contains(trigger.cards2[i])?trigger.player:false))&&
                get.position(trigger.cards2[i])=='d'){
                cards.push(trigger.cards2[i]);
            }
        }
        if(!cards.length){
            event.finish();
        }
        else{
            event.cards=cards;
        }
        'step 1'
        if(event.cards.length){
            player.chooseTarget(get.prompt('DIY_shenduan'),'å°†'+get.translation(event.cards)+(event.cards.length>1?'ä¸­çš„ä¸€å¼ ç‰Œ':'')+'å½“åšã€å…µç²®å¯¸æ–­ã€‘å¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨',function(card,player,target){
                var cs=_status.event.cards;
                for(var i=0;i<cs.length;i++){
                    if(player.canUse({name:'bingliang',cards:[cs[i]]},target,false)) return true;
                }
                return false;
            }).set('ai',function(target){
                var player=_status.event.player;
                return get.effect(target,{name:'bingliang'},player,player);
            }).set('cards',cards);
        }
        else{
            event.finish();
        }
        'step 2'
        if(result.bool&&result.targets&&result.targets.length){
            event.current=result.targets[0];
            if(event.cards.length==1){
                event.directCard=event.cards[0];
            }
            else{
                delete event.directCard;
                player.chooseCardButton('é€‰æ‹©ä¸€å¼ ç‰Œå½“ä½œå…µæ–­å¯¸æ–­ä½¿ç”¨',event.cards,true).set('filterButton',function(button){
                    return player.canUse({name:'bingliang',cards:[button.link]},_status.event.target,false);
                }).set('target',event.current);
            }
        }
        else{
            event.finish();
        }
        'step 3'
        var card;
        if(event.directCard){
            card=event.directCard;
        }
        else if(result.links&&result.links.length&&
            event.cards.contains(result.links[0])){
            card=result.links[0]
        }
        if(card){
            event.cards.remove(card);
            player.line(event.current);
            player.useCard({name:'bingliang'},event.current,[card],'DIY_shenduan').animate=false;
            event.goto(1);
        }
    },
            },
            "DIY_yonglve":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseJudgeBegin",
                },
                direct:true,
                filter:function(event,player){
        return event.player.countCards('j')>0;
    },
                content:function(){
        'step 0'
        var att=get.attitude(player,trigger.player);
        var nh=trigger.player.countCards('h');
        var eff=get.effect(trigger.player,{name:'sha',isCard:true},player,player);
        if(player.inRange(trigger.player)||!player.canUse({name:'sha',isCard:true},trigger.player,false)) eff=0;
        player.discardPlayerCard(get.prompt('DIY_yonglve',trigger.player),trigger.player,'j').set('ai',function(button){
            var name=button.link.viewAs||button.link.name;
            var att=_status.event.att;
            var nh=_status.event.nh;
            var eff=_status.event.eff;
            var trigger=_status.event.getTrigger();
            if(att>0&&eff>=0) return 1;
            if(att>=0&&eff>0) return 1;
            if(att>0&&(trigger.player.hp>=3)){
                if(name=='lebu'&&nh>trigger.player.hp) return 1;
                if(name=='bingliang'&&nh<trigger.player.hp) return 1;
            }
            return 0;
        }).set('att',att).set('nh',nh).set('eff',eff).set('logSkill',['DIY_yonglve',trigger.player]);
        'step 1'
        if(result.bool){
            if(trigger.player==player){
                event.finish;
                return;
            }
            player.chooseControl('cancel2').set('choiceList',[
            'å¯¹'+get.translation(trigger.player)+'é€ æˆ1ç‚¹ä¼¤å®³',
            'æ‘¸ä¸¤å¼ ç‰Œ',
        ]).set('ai',function(){
            var player=_status.event.player,evt=_status.event.getTrigger();
            if(get.damageEffect(evt.player,player,player)>0&&get.effect(evt.trigger.player,evt.card,evt.player,player)<0) return 0;
            return 1;
            });
        }
        'step 2'
        if(result.index==0){
            trigger.player.damage();
        }
        else if(result.index==1) player.draw(2);
    },
            },
            "DIY_mingren":{
                audio:"nzry_mingren_1",
                trigger:{
                    player:["phaseUseBegin","phaseUseEnd"],
                },
                forced:true,
                charlotte:true,
                content:function(){
        'step 0'
        player.draw('bottom');
        player.chooseCard('he',true,'å°†ä¸€å¼ ç‰Œç½®äºç‰Œå †é¡¶');
        'step 1'
        if(result&&result.cards){
            event.card=result.cards[0];
            player.lose(result.cards,ui.cardPile,'insert');
            game.log(player,'å°†',(get.position(event.card)=='h'?'ä¸€å¼ ç‰Œ':event.card),'ç½®äºç‰Œå †é¡¶');
            game.broadcastAll(function(player){
                var cardx=ui.create.card();
                cardx.classList.add('infohidden');
                cardx.classList.add('infoflip');
            },player);
            game.updateRoundNumber();
        }
    },
                marktext:"ä»»",
                mark:true,
                onremove:true,
                intro:{
                    mark:function(dialog,content,player){
                        if(get.itemtype(_status.pileTop)!='card') return 'ç‰Œå †é¡¶æ— ç‰Œ';
                        dialog.add([_status.pileTop]);
                    },
                },
                ai:{
                    combo:"DIY_zhenliang",
                },
            },
            "DIY_zhenliang":{
                audio:"nzry_zhenliang_1",
                mark:true,
                locked:false,
                zhuanhuanji:true,
                marktext:"â˜¯",
                intro:{
                    content:function(storage,player,skill){
            if(player.storage.DIY_zhenliang==true) return 'å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºçš„ç‰Œç»“ç®—å®Œæˆåï¼Œè‹¥æ­¤ç‰Œä¸â€œä»»â€é¢œè‰²ç›¸åŒï¼Œåˆ™ä½ å¯ä»¥ä»¤ä¸€åè§’è‰²æ‘¸ä¸€å¼ ç‰Œã€‚';
            return 'å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ä¸â€œä»»â€é¢œè‰²ç›¸åŒçš„ç‰Œå¹¶å¯¹æ”»å‡»èŒƒå›´å†…çš„ä¸€åè§’è‰²é€ æˆ1ç‚¹ä¼¤å®³ã€‚';
        },
                },
                group:["DIY_zhenliang_1","DIY_zhenliang_2"],
                subSkill:{
                    "1":{
                        prompt:"å¼ƒç½®ä¸€å¼ ä¸â€œä»»â€é¢œè‰²ç›¸åŒçš„ç‰Œï¼Œå¹¶å¯¹æ”»å‡»èŒƒå›´å†…çš„ä¸€åè§’è‰²é€ æˆ1ç‚¹ä¼¤å®³ã€‚",
                        audio:"nzry_zhenliang_1",
                        enable:"phaseUse",
                        filter:function(event,player){
                if(!player.hasSkill('DIY_zhenliang')) return false;
                if(player.storage.DIY_zhenliang==true) return false;
                var card=_status.pileTop;
                if(get.itemtype(_status.pileTop)!='card') return false;
                var color=get.color(card);
                if(player.countCards('he',function(card){
                    return get.color(card)==color;
                })==0) return false;
                return game.hasPlayer(function(current){
                    return player.inRange(current);
                });
            },
                        position:"he",
                        filterCard:function(card,player){
                return get.color(card)==get.color(_status.pileTop);
            },
                        filterTarget:function(card,player,target){
                return player.inRange(target);
            },
                        check:function(card){
                return 6.5-get.value(card);
            },
                        content:function(){
                player.changeZhuanhuanji('DIY_zhenliang');
                target.damage('nocard');
            },
                        ai:{
                            order:5,
                            result:{
                                player:function(player,target){
                        return get.damageEffect(target,player,player);
                    },
                            },
                        },
                        sub:true,
                    },
                    "2":{
                        audio:"nzry_zhenliang_1",
                        trigger:{
                            player:["useCardAfter","respondAfter"],
                        },
                        filter:function(event,player){
                if(!player.hasSkill('DIY_zhenliang')) return false;
                if(player.storage.DIY_zhenliang!=true) return false;
                var card=_status.pileTop;
                if(get.itemtype(_status.pileTop)!='card') return false;
                var color=get.color(card);
                return card&&get.color(event.card)==color;
            },
                        direct:true,
                        content:function(){
                "step 0"
                player.chooseTarget(get.prompt('DIY_zhenliang'),'ä»¤ä¸€åè§’è‰²æ‘¸ä¸€å¼ ç‰Œ').ai=function(target){
                    if(target.hasSkillTag('nogain')) return 0.1;
                    var att=get.attitude(player,target);
                    return att*(Math.max(5-target.countCards('h'),2)+3);
                };
                "step 1"
                if(result.bool){
                    player.changeZhuanhuanji('DIY_zhenliang');
                    player.logSkill('DIY_zhenliang',result.targets);
                    result.targets[0].draw();
                }
            },
                        sub:true,
                    },
                },
                ai:{
                    combo:"DIY_mingren",
                },
            },
            "JX_luzhi_die":{
                trigger:{
                    player:"dieBegin",
                },
                forced:true,
                charlotte:true,
                content:function(){
                    game.delay();
                    game.playTLAoAudio('JX_luzhi_die');
                },
            },
            "DIY_yilie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseUseBegin",
                },
                group:"DIY_yilie_recover",
                forced:true,
                content:function(){
        'step 0'
        player.chooseTarget('é€‰æ‹©ä¸€åè§’è‰²ï¼Œç„¶åä½ æ¨ªç½®ä½ ä¸å…¶',true,lib.filter.notMe).ai=function(target){
            return -get.attitude(player,target);
        };
        'step 1'
        if(result.bool){
            result.targets[0].link(true);
            player.link(true);
        }
    },
                subSkill:{
                    recover:{
                        audio:"DIY_yilie",
                        trigger:{
                            global:"linkBefore",
                        },
                        forced:true,
                        content:function(){
                            player.recover();
                        },
                        sub:true,
                    },
                },
            },
            "DIY_fenming":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                mod:{
                    globalFrom:function(from,to){
                        if(from.isLinked()&&to.isLinked()) return -Infinity;
                    },
                    globalTo:function(from,to,distance){
                        if(from.isLinked()&&to.isLinked()) return -Infinity;
                    },
                },
                trigger:{
                    player:"useCardToPlayered",
                },
                group:"DIY_fenming_sha",
                forced:true,
                filter:function(event,player){
                    return event.target.isLinked()&&event.card.name=='sha';
                },
                content:function(){
                    player.draw();
                    trigger.addCount=false;
                    if(player.stat[player.stat.length-1].card.sha>0){
                        player.stat[player.stat.length-1].card.sha--;
                    }
                    player.storage.DIY_fenming=true;
                },
                subSkill:{
                    sha:{
                        trigger:{
                            player:"useCardAfter",
                        },
                        forced:true,
                        filter:function(event,player){
                            return player.storage.DIY_fenming==true;
                        },
                        content:function(){
                            player.loseHp();
                            player.storage.DIY_fenming=false;
                        },
                        sub:true,
                    },
                },
            },
            "DIY_boming":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseBegin",
                },
                mark:true,
                marktext:"åšå",
                intro:{
                    name:"åšå",
                    content:function(storage,player){
                        var cards=player.getCards('h');
                        var num=0;
                        for(var i=0;i<player.countCards('h');i++){
                            num+=get.number(cards[i]);
                        }
                        var str='<li>å½“å‰æ‰‹ç‰Œç‚¹æ•°ä¹‹å’Œï¼š'+get.translation(num);
                        if(player.hasSkill('DIY_boming_1')){
                            str+='<br>ä½ çš„A/2/3ç‚¹ç‰Œè§†ä¸ºJ/Q/Kç‚¹';
                        }
                        if(player.hasSkill('DIY_boming_2')){
                            str+='<br>ä½ çš„J/Q/Kç‚¹ç‰Œè§†ä¸ºA/2/3ç‚¹';
                        }
                        return str;
                    },
                },
                direct:true,
                content:function(){
        'step 0'
        player.chooseControl('é€‰é¡¹ä¸€','é€‰é¡¹äºŒ','cancel2').set('choiceList',[
            'æœ¬å›åˆä½ çš„A/2/3ç‚¹ç‰Œè§†ä¸ºJ/Q/Kç‚¹',
            'æœ¬å›åˆä½ çš„J/Q/Kç‚¹ç‰Œè§†ä¸ºA/2/3ç‚¹',
        ]).set('ai',function(){
            if(player.countCards('hs',function(card){
                return get.name(card)=='sha'&&player.hasValueTarget(card);
            })>player.getCardUsable({name:'sha'})) return 0;
            return 1;
        });
        'step 1'
        if(result.control!='cancel2'){
            player.logSkill('DIY_boming');
            game.log(player,'é€‰æ‹©äº†','#gã€åšåã€‘','çš„','#y'+result.control);
            if(result.index%2==0) player.addTempSkill('DIY_boming_1');
            if(result.index>0) player.addTempSkill('DIY_boming_2');
        }
    },
                subSkill:{
                    "1":{
                        charlotte:true,
                        intro:{
                            name:"åšå",
                            content:"ä½ çš„A/2/3ç‚¹ç‰Œè§†ä¸ºJ/Q/Kç‚¹",
                        },
                        mod:{
                            number:function(card,number){
                    if(number==1) return 11;
                    if(number==2) return 12;
                    if(number==3) return 13;
                },
                        },
                        sub:true,
                    },
                    "2":{
                        charlotte:true,
                        intro:{
                            name:"åšå",
                            content:"ä½ çš„J/Q/Kç‚¹ç‰Œè§†ä¸ºA/2/3ç‚¹",
                        },
                        mod:{
                            number:function(card,number){
                    if(number==11) return 1;
                    if(number==12) return 2;
                    if(number==13) return 3;
                },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_xu_pingjian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                prompt:"å±•ç¤ºä½ çš„æ‰€æœ‰æ‰‹ç‰Œ",
                direct:true,
                filter:function(event,player){
                    var cards=player.getCards('h');
                    var num=0;
                    for(var i=0;i<player.countCards('h');i++){
                num+=get.number(cards[i]);
            }
                    return player.countCards('h')&&num!=28;
                },
                content:function(){
                    'step 0'
                    player.logSkill('DIY_xu_pingjian');
                    player.showHandcards();
                    'step 1'
                    cards=player.getCards('h');
                    num=0;
                    for(var i=0;i<player.countCards('h');i++){
                        num+=get.number(cards[i]);
                    }
                    if(num==28) event.goto(5);
                    if(num<28){
                        player.draw();
                        event.goto(0);
                    }
                    if(num>28){
                        player.chooseToDiscard(true);
                    }
                    'step 2'
                    player.chooseTarget(get.prompt('DIY_xu_pingjian'),'é€‰æ‹©ä¸€åè§’è‰²å¹¶å¼ƒç½®å…¶ä¸€å¼ ç‰Œ',function(card,player,target){
                        return target.countCards('he')>0;
                    }).set('ai',function(target){
                        return 2-get.attitude(_status.event.player,target);
                    });
                    'step 3'
                    if(result.bool){
                        var target=result.targets[0];
                        player.discardPlayerCard(target,'he',true);
                        game.delay();
                        event.goto(0);
                    }
                    'step 4'
                    event.goto(0);
                    'step 5'
                    game.delay();
                },
                ai:{
                    order:10,
                },
            },
            "DIY_ziju":{
                trigger:{
                    player:"gainAfter",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                filter:function(event,player){
        var cards=player.getCards('h');
        var color=get.color(cards[0],player);
        for(var i=1;i<cards.length;i++){
            if(get.color(cards[i],player)!=color) return false;
        }
        return true;
    },
                content:function(){
        player.showHandcards();
        player.draw();
    },
                sub:true,
            },
            "DIY_huaiyi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                delay:false,
                usable:2,
                marktext:"æ€€å¼‚",
                intro:{
                    name:"æ€€å¼‚",
                    content:function(storage,player){
                        var $=player.getStorage('DIY_huaiyi');
                        var str='ä½ å·²ç»å‘åŠ¨æ€€å¼‚å¼ƒç½®äº†'+get.translation($)+'çš„ç‰Œ';
                        if(!player.getStorage('DIY_huaiyi').contains('çº¢è‰²')&&!player.getStorage('DIY_huaiyi').contains('é»‘è‰²')){
                            str='ä½ æœ¬å›åˆè¿˜æœªå‘åŠ¨è¿‡æ€€å¼‚';
                        }
                        return str;
                    },
                },
                filter:function(event,player){
        if(player.countCards('h',{color:'black'})==0&&player.getStorage('DIY_huaiyi').contains('çº¢è‰²')&&!player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) return false;
        if(player.countCards('h',{color:'red'})==0&&player.getStorage('DIY_huaiyi').contains('é»‘è‰²')&&!player.getStorage('DIY_huaiyi').contains('çº¢è‰²')) return false;
        if(player.getStorage('DIY_huaiyi').contains('çº¢è‰²')&&player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) return false;
        return game.hasPlayer(function(target){
            return target.countCards('he')>0&&player!=target;
        });
    },
                content:function(){
        'step 0'
        player.showHandcards();
        'step 1'
        var list=['çº¢è‰²','é»‘è‰²'];
        if(player.countCards('h',{color:'red'})==0) list.remove('çº¢è‰²');
        if(player.countCards('h',{color:'black'})==0) list.remove('é»‘è‰²');
        if(player.getStorage('DIY_huaiyi').contains('çº¢è‰²')) list.remove('çº¢è‰²');
        if(player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) list.remove('é»‘è‰²');
        player.chooseControl(list).set('ai',function(){
            var player=_status.event.player;
            if(player.countCards('h',{color:'red'})==1&&
            player.countCards('h',{color:'black'})>1) return 'çº¢è‰²';
            return 'é»‘è‰²';
        });
        'step 2'
        if(result.control!='cancel2'){
            var cards;
            if(result.control=='çº¢è‰²'){
                player.markAuto('DIY_huaiyi',['çº¢è‰²']);
                cards=player.getCards('h',{color:'red'});
            }
            else{
                player.markAuto('DIY_huaiyi',['é»‘è‰²']);
                cards=player.getCards('h',{color:'black'});
            }
            player.discard(cards);
            event.num=cards.length;
        }
        else{
            event.finish();
        }
        'step 3'
        player.chooseTarget('è¯·é€‰æ‹©è‡³å¤š'+get.cnNumber(event.num)+'åæœ‰ç‰Œçš„å…¶ä»–è§’è‰²ï¼Œè·å¾—è¿™äº›è§’è‰²çš„å„ä¸€å¼ ç‰Œã€‚',[1,event.num],function(card,player,target){
            return target!=player&&target.countCards('he')>0;
        }).set('ai',function(target){
            return -get.attitude(_status.event.player,target)+0.5;
        });
        'step 4'
        if(result.bool&&result.targets){
            player.line(result.targets,'green');
            event.targets=result.targets;
            event.targets.sort(lib.sort.seat);
        }
        else{
            event.finish();
        }
        'step 5'
        if(player.isAlive()&&event.targets.length){
            player.gainPlayerCard(event.targets.shift(),'he',true);
        }
        else event.finish();
        'step 6'
        if(event.targets.length) event.goto(5);
    },
                ai:{
                    order:function(item,player){
            if(player.countCards('h',{color:'red'})==1) return 10;
            if(player.countCards('h',{color:'black'})==1) return 10;
            return 1;
        },
                    result:{
                        player:1,
                    },
                },
                group:["DIY_huaiyi_remove","DIY_huaiyi_damage"],
                subSkill:{
                    remove:{
                        trigger:{
                            global:"phaseUseEnd",
                        },
                        direct:true,
                        content:function(){
                            delete player.storage.DIY_huaiyi;
                        },
                        sub:true,
                    },
                    damage:{
                        trigger:{
                            player:"damageAfter",
                        },
                        usable:2,
                        filter:function(event,player){
        if(player.countCards('h',{color:'black'})==0&&player.getStorage('DIY_huaiyi').contains('çº¢è‰²')&&!player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) return false;
        if(player.countCards('h',{color:'red'})==0&&player.getStorage('DIY_huaiyi').contains('é»‘è‰²')&&!player.getStorage('DIY_huaiyi').contains('çº¢è‰²')) return false;
        if(player.getStorage('DIY_huaiyi').contains('çº¢è‰²')&&player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) return false;
        return game.hasPlayer(function(target){
            return target.countCards('he')>0&&player!=target;
        });
    },
                        content:function(){
        'step 0'
        player.showHandcards();
        'step 1'
        var list=['çº¢è‰²','é»‘è‰²'];
        if(player.countCards('h',{color:'red'})==0) list.remove('çº¢è‰²');
        if(player.countCards('h',{color:'black'})==0) list.remove('é»‘è‰²');
        if(player.getStorage('DIY_huaiyi').contains('çº¢è‰²')) list.remove('çº¢è‰²');
        if(player.getStorage('DIY_huaiyi').contains('é»‘è‰²')) list.remove('é»‘è‰²');
        player.chooseControl(list).set('ai',function(){
            var player=_status.event.player;
            if(player.countCards('h',{color:'red'})==1&&
            player.countCards('h',{color:'black'})>1) return 'çº¢è‰²';
            return 'é»‘è‰²';
        });
        'step 2'
        event.control=result.control;
        var cards;
        if(event.control=='çº¢è‰²'){
            player.markAuto('DIY_huaiyi',['çº¢è‰²']);
            cards=player.getCards('h',{color:'red'});
        }
        else{
            player.markAuto('DIY_huaiyi',['é»‘è‰²']);
            cards=player.getCards('h',{color:'black'});
        }
        player.discard(cards);
        event.num=cards.length;
        'step 3'
        player.chooseTarget('è¯·é€‰æ‹©è‡³å¤š'+get.cnNumber(event.num)+'åæœ‰ç‰Œçš„å…¶ä»–è§’è‰²ï¼Œè·å¾—è¿™äº›è§’è‰²çš„å„ä¸€å¼ ç‰Œã€‚',[1,event.num],function(card,player,target){
            return target!=player&&target.countCards('he')>0;
        }).set('ai',function(target){
            return -get.attitude(_status.event.player,target)+0.5;
        });
        'step 4'
        if(result.bool&&result.targets){
            player.line(result.targets,'green');
            event.targets=result.targets;
            event.targets.sort(lib.sort.seat);
        }
        else{
            event.finish();
        }
        'step 5'
        if(player.isAlive()&&event.targets.length){
            player.gainPlayerCard(event.targets.shift(),'he',true);
        }
        else event.finish();
        'step 6'
        if(event.targets.length) event.goto(5);
    },
                        sub:true,
                    },
                },
            },
            "DIY_beizhu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    global:"phaseBegin",
                },
                round:1,
                filter:function(event,player){
        return event.player!=player&&event.player.countCards('h')>0;
    },
                content:function(){
        'step 0'
        trigger.player.showHandcards();
        'step 1'
        var hs=trigger.player.getCards('h');
        var cards=trigger.player.getCards('h');
        cards=cards.filter(function(card){
            return hs.contains(card)&&get.name(card,trigger.player)!='shan'&&get.name(card,trigger.player)!='wuxie';
        });
        if(cards.length){
            var card=cards.randomRemove(1)[0];
            trigger.player.useCard(player,false,card).card.DIY_beizhu=true;
            event.redo();
        }
    },
                group:["DIY_beizhu_draw","DIY_beizhu_roundcount"],
                subSkill:{
                    draw:{
                        trigger:{
                            target:"useCardToTargeted",
                        },
                        forced:true,
                        popup:false,
                        filter:function(event,player){
                            return event.card&&event.card.DIY_beizhu;
                        },
                        content:function(){
                            player.draw();
                            player.logSkill('DIY_beizhu');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_zhenlie":{
                group:"DIY_zhenlie2",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
        return event.player!=player&&event.card&&(event.card.name=='sha'||get.type(event.card)=='trick'||get.type(event.card)=='delay');
    },
                logTarget:"player",
                check:function(event,player){
        if(event.getParent().excluded.contains(player)) return false;
        if(get.attitude(player,event.player)>0){
            return false;
        }
        if(get.tag(event.card,'respondSha')){
            return true;
        }
        else if(get.tag(event.card,'respondShan')){
            return true;
        }
        else if(get.tag(event.card,'damage')){
            if(event.card.name=='shuiyanqijunx') return player.countCards('e')==0;
            return true;
        }
        else if((event.card.name=='shunshou'||(event.card.name=='zhujinqiyuan'&&(event.card.yingbian||get.distance(event.player,player)<0)))&&player.hp>1){
            return true;
        }
        else if(event.card.name=='lebu'||event.card.name=='bingliang'){
            return true;
        }
        return false;
    },
                trigger:{
                    global:["yintieqi","DIY_tieqi"],
                    target:"useCardToTarget",
                },
                content:function(){
        "step 0"
        if(trigger.name=="yintieqi"||trigger.name=="DIY_tieqi"){
            trigger.cancel();
        }
        trigger.cancel();
        trigger.targets.remove(player);
        trigger.getParent().triggeredTargets2.remove(player);
        trigger.untrigger();
        trigger.getParent().excluded.add(player);
        player.judge(function(card){
            return get.color(card)=='black'?1:-1;
        }).judge2=function(result){
            return result.bool;
        };
        "step 1"
        if(!result.bool){
            player.loseHp();
            event.finish();
        }
        "step 2"
        if(trigger.player.countCards('he')){
            player.discardPlayerCard(trigger.player,'he',true);
        }
    },
                ai:{
                    expose:0.3,
                },
            },
            "DIY_zhenlie2":{
                audio:"DIY_zhenlie",
                trigger:{
                    player:"judge",
                },
                prompt:"æ˜¯å¦äº®å‡ºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿æ­¤åˆ¤å®šç‰Œ",
                check:function(event,player){
        return event.judge(player.judging[0])<0;
    },
                content:function(){
        "step 0"
        var card=get.cards()[0];
        event.card=card;
        game.cardsGotoOrdering(card).relatedEvent=trigger;
        "step 1"
        player.$throw(card);
        if(trigger.player.judging[0].clone){
            trigger.player.judging[0].clone.classList.remove('thrownhighlight');
            game.broadcast(function(card){
                if(card.clone){
                    card.clone.classList.remove('thrownhighlight');
                }
            },trigger.player.judging[0]);
            game.addVideo('deletenode',player,get.cardsInfo([trigger.player.judging[0].clone]));
        }
        game.cardsDiscard(trigger.player.judging[0]);
        trigger.player.judging[0]=card;
        game.log(trigger.player,'çš„åˆ¤å®šç‰Œæ”¹ä¸º',card);
        game.delay(2);
    },
            },
            "DIY_miji":{
                trigger:{
                    player:["phaseZhunbeiBegin","phaseJieshuBegin"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                content:function(){
        'step 0'
        player.judge(function(card){
            return get.color(card)=='black'?1:-1;
        }).judge2=function(result){
            return result.bool;
        };
        'step 1'
        if(result.bool){
            var num=Math.max(1,player.maxHp-player.hp);
            var cards=get.cards(num);
            event.cards=cards;
            player.chooseTarget(true).set('ai',function(target){
                return get.attitude(player,target)/Math.sqrt(1+target.countCards('h'));
            }).set('createDialog',['è¯·é€‰æ‹©ä¸€åè§’è‰²è·å¾—è¿™äº›ç‰Œ',event.cards]);
        }
        else{
            event.finish();
        }
        'step 2'
        player.line(result.targets);
        result.targets[0].gain(event.cards,'draw');
    },
                ai:{
                    effect:{
                        target:function(card,player,target){
                if(get.tag(card,'recover')&&target.hp==target.maxHp-1) return [0,0];
                if(target.hasFriend()){
                    if((get.tag(card,'damage')==1||get.tag(card,'loseHp'))&&target.hp==target.maxHp) return [0,1];
                }
            },
                    },
                    threaten:function(player,target){
            if(target.hp==1) return 3;
            if(target.hp==2) return 2;
            return 1;
        },
                },
            },
            "DIY_suzhi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCardToPlayered","useCard","phaseDrawBegin1","phaseUseBegin","damageEnd","phaseDiscardBegin","respond"],
                },
                filter:function(event){
                    if(event.name=="useCardToPlayered") return get.tag(event.card,'damage');
                    return true;
                },
                intro:{
                    content:"$",
                },
                initList:function(){
        var list=[];
        if(_status.connectMode) var list=get.charactersOL();
        else{
            var list=[];
            for(var i in lib.character){
                if(lib.filter.characterDisabled2(i)||lib.filter.characterDisabled(i)) continue;
                list.push(i);
            }
        }
        game.countPlayer2(function(current){
            list.remove(current.name);
            list.remove(current.name1);
            list.remove(current.name2);
            if(current.storage.rehuashen&&current.storage.rehuashen.character) list.removeArray(current.storage.rehuashen.character)
        });
        _status.characterlist=list;
    },
                frequent:true,
                content:function(){
        'step 0'
        if(player.storage.DIY_suzhi_skill) player.removeSkill(player.storage.DIY_suzhi_skill);
        var Group=lib.group.filter(function(group){
            return game.hasPlayer(function(current){
                return current.group==group;
            });
        });
		if(!Group.contains('jin')) Group.push('jin');
		event.num=Group.length;
        player.chooseControl(Group);
        'step 1'
        group=result.control;
        'step 2'
        if(!player.storage.DIY_suzhi) player.storage.DIY_suzhi=[];
        event._result={bool:true};
        'step 3'
        if(result.bool){
            if(!_status.characterlist){
                lib.skill.DIY_suzhi.initList();
            }
            var list=[];
            var skills=[];
            var map=[];
            _status.characterlist.randomSort();
            var name2=event.triggername;
            for(var i=0;i<_status.characterlist.length;i++){
                var name=_status.characterlist[i];
                if(name.indexOf('zuoci')!=-1||name.indexOf('xushao')!=-1) continue;
                if(lib.character[name][1]!=group) continue;
                var skills2=lib.character[name][3];
                for(var j=0;j<skills2.length;j++){
                    if(player.storage.DIY_suzhi.contains(skills2[j])) continue;
                    if(skills.contains(skills2[j])){
                        list.add(name);
                        if(!map[name]) map[name]=[];
                        map[name].push(skills2[j]);
                        skills.add(skills2[j]);
                        continue;
                    }
                    var list2=[skills2[j]];
                    game.expandSkills(list2);
                    for(var k=0;k<list2.length;k++){
                        var info=lib.skill[list2[k]];
                        if(!info||!info.trigger||!info.trigger.player||info.silent||info.limited||info.juexingji||info.zhuanhuanji||info.hiddenSkill||info.dutySkill) continue;
                        if(info.trigger.player==name2||Array.isArray(info.trigger.player)&&info.trigger.player.contains(name2)){
                            if(info.init||info.ai&&(info.ai.combo||info.ai.notemp||info.ai.neg)) continue;
                            if(info.filter){
                                try{
                                    var bool=info.filter(trigger,player,name2);
                                    if(!bool) continue;
                                }
                                catch(e){
                                    continue;
                                }
                            }
                            list.add(name);
                            if(!map[name]) map[name]=[];
                            map[name].push(skills2[j]);
                            skills.add(skills2[j]);
                            break;
                        }
                    }
                }
                if(list.length>event.num-1) break;
            }
            if(!skills.length){
                //player.draw();
                event.finish();
            }
            else{
                //skills.unshift('æ‘¸ä¸€å¼ ç‰Œ');
                player.chooseControl(skills).set('dialog',['è¯·é€‰æ‹©è¦å‘åŠ¨çš„æŠ€èƒ½',[list,'character']]).set('ai',function(){return skills.randomGet()});
            }
        }
        else event.finish();
        'step 4'
        if(result.control=='æ‘¸ä¸€å¼ ç‰Œ'){
            player.draw();
            return;
        }
        player.addTempSkill(result.control,{player:result.control+'After'});
        player.storage.DIY_suzhi_skill=result.control;
    },
                group:"DIY_suzhi_remove",
                subSkill:{
                    remove:{
                        trigger:{
                            player:["useCardAfter","phaseDrawBegin2","phaseUseAfter","phaseDiscardAfter","respondAfter"],
                        },
                        direct:true,
                        content:function(){
                            if(player.storage.DIY_suzhi_skill) player.removeSkill(player.storage.DIY_suzhi_skill);
                        },
                    },
                },
            },
            "DIY_zhaoxin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"gameDrawAfter",
                    player:["showCharacterAfter","enterGame"],
                },
                mark:true,
                marktext:"æ˜­å¿ƒ",
                intro:{
                    name:"æ˜­å¿ƒ",
                    content:function(storage,player){
                        var mode=get.mode();
                        if(mode=='identity'&&player.identity=="nei"){
                            var num=game.players.length-player.getFriends(true).length;
                        }
                        else var num=player.getFriends(true).length;
                        var num2=player.countMark("DIY_zhaoxin");
                        var num3=num-num2;
                        var str='<li>æœ¬å›åˆè¿˜å¯å‘åŠ¨æ˜­å¿ƒ'+get.translation(num3)+'æ¬¡';
                        return str;
                    },
                },
                init:function(player){
                    player.storage.DIY_zhaoxin=[];
                },
                skillAnimation:true,
                animationColor:"thunder",
                forced:true,
                group:["DIY_zhaoxin2","DIY_zhaoxin3","DIY_zhaoxin_remove"],
                content:function(){
                    if(get.mode()=='identity'){
                        player.showIdentity();
                        player.update();
                    }
                },
                subSkill:{
                    remove:{
                        trigger:{
                            global:"phaseEnd",
                        },
                        silent:true,
                        filter:function(event,player){
                            return player.countMark("DIY_zhaoxin")>0;
                        },
                        content:function(){lib.skill.DIY_zhaoxin.init(player)},
                        forced:true,
                        direct:true,
                        sub:true,
                        popup:false,
                    },
                },
            },
            "DIY_zhaoxin2":{
                audio:"DIY_zhaoxin",
                trigger:{
                    player:"damageBegin2",
                },
                direct:true,
                filter:function(event,player){
                    var mode=get.mode();
                    if(mode=='identity'&&player.identity=="nei"){
                        var num=game.players.length-player.getFriends(true).length;
                    }
                    else var num=player.getFriends(true).length;
                    if(player.countMark("DIY_zhaoxin")>=num) return false;
                    return player.countCards('he')>0;
                },
                content:function (){
                    'step 0'
                    var next=player.chooseToDiscard(get.prompt('DIY_zhaoxin'),'he');
                    next.set('prompt2','å¼ƒç½®ä¸€å¼ ç‰Œå¹¶é˜²æ­¢æ­¤ä¼¤å®³');
                    next.set('ai',function(card){
                        var player=_status.event.player;
                        if(player.hp==1||_status.event.getTrigger().num>1){
                            return 9-get.value(card);
                        }
                        if(player.hp==2){
                            return 8-get.value(card);
                        }
                        if(player.countCards('h',function(card){
                            return get.color(name)=='tao'||get.color(name)=='jiu';
                        })) return 0;
                        return 7-get.value(card);
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_zhaoxin2');
                        player.addMark('DIY_zhaoxin',1,false);
                        trigger.cancel();
                        event.trigger("damageEnd");
                    }
                },
            },
            "DIY_zhaoxin3":{
                audio:"DIY_zhaoxin",
                trigger:{
                    source:"damageBegin1",
                },
                direct:true,
                filter:function(event,player){
                    var mode=get.mode();
                    if(mode=='identity'&&player.identity=="nei"){
                        var num=game.players.length-player.getFriends(true).length;
                    }
                    else var num=player.getFriends(true).length;
                    if(player.countMark("DIY_zhaoxin")>=num) return false;
                    return player.countCards('he')>0;
                },
                content:function (){
                    'step 0'
                    var goon=(get.attitude(player,trigger.player)<0);
                    var next=player.chooseToDiscard(get.prompt('DIY_zhaoxin',trigger.player),'he');
                    next.set('prompt2','å¼ƒç½®ä¸€å¼ ç‰Œä»¤ä¼¤å®³ç¿»å€');
                    next.set('ai',function(card){
                        if(_status.event.goon){
                            return 8-get.value(card);
                        }
                        return 0;
                    });
                    next.set('goon',goon);
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_zhaoxin3',trigger.player);
                        player.addMark('DIY_zhaoxin',1,false);
                        trigger.num+=trigger.num;
                    }
    },
            },
            "DIY_gangao":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"dying",
                },
                forced:true,
                filter:function(event,player){
        return event.player!=player;
    },
                content:function(){
        player.gainMaxHp();
        player.recover();
    },
                ai:{
                    threaten:1.5,
                },
            },
            "DIY_juyi":{
                skillAnimation:true,
                animationColor:"thunder",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                derivation:["DIY_niangjue","weizhong"],
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                filter:function(event,player){
        return player.maxHp>game.players.length&&!player.storage.DIY_juyi;
    },
                forced:true,
                unique:true,
                juexingji:true,
                content:function(){
        player.draw(player.maxHp);
        player.addSkill('DIY_niangjue');
        player.addSkill('weizhong');
        player.storage.DIY_juyi=true;
        player.awakenSkill('DIY_juyi');
    },
            },
            "DIY_niangjue":{
                trigger:{
                    player:["phaseDrawBefore","phaseDiscardBefore"],
                },
                group:"DIY_niangjue2",
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                content:function(){
            trigger.cancel();
            game.log(player,'è·³è¿‡äº†',event.triggername=='phaseDrawBefore'?'æ‘¸ç‰Œé˜¶æ®µ':'å¼ƒç‰Œé˜¶æ®µ');
    },
            },
            "DIY_niangjue2":{
                trigger:{
                    player:"phaseJieshuBefore",
                },
                forced:true,
                audio:"DIY_niangjue",
                content:function(){
        'step 0'
        player.judge(function(card){
            if(get.suit(card)=="club") return 2;
            return 0;
        }).judge2=function(result){
            return result.bool?true:false;
        };
        'step 1'
        if(!result.bool){
            player.loseMaxHp();
        }
    },
            },
            "DIY_xiansi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                direct:true,
                content:function(){
        "step 0"
        player.chooseTarget(get.prompt('DIY_xiansi'),[1,2],function(card,player,target){
            return target.countCards('he')>0;
        },function(target){
            return -get.attitude(_status.event.player,target);
        });
        "step 1"
        if(result.bool){
            result.targets.sortBySeat();
            player.logSkill('DIY_xiansi',result.targets);
            event.targets=result.targets;
        }
        else{
            event.finish();
        }
        "step 2"
        if(event.targets.length){
            var target=event.targets.shift();
            event.current=target;
            player.choosePlayerCard(target,true);
        }
        else{
            event.finish();
        }
        "step 3"
        if(result.bool){
            player.addToExpansion(result.cards,event.current,'give').gaintag.add('DIY_xiansi');
            event.goto(2);
        }
    },
                mark:true,
                marktext:"é€†",
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                ai:{
                    threaten:2,
                },
                group:["DIY_xiansi3","DIY_xiansi4","DIY_xiansi5"],
                global:"DIY_xiansi2",
            },
            "DIY_xiansi2":{
                enable:"chooseToUse",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                viewAs:{
                    name:"sha",
                    isCard:true,
                },
                filter:function(event,player){
        return game.hasPlayer(function(current){
            return current.hasSkill('DIY_xiansi')&&current.getExpansions('DIY_xiansi').length>1&&event.filterTarget({name:'sha'},player,current);
        });
    },
                filterTarget:function(card,player,target){
        var bool=false;
        var players=ui.selected.targets.slice(0);
        for(var i=0;i<players.length;i++){
            if(players[i].hasSkill('DIY_xiansi')&&players[i].getExpansions('DIY_xiansi').length>1) bool=true;break;
        }
        if(!bool&&(!target.hasSkill('DIY_xiansi')||target.getExpansions('DIY_xiansi').length<=1)) return false;
        return _status.event._backup.filterTarget.apply(this,arguments);
    },
                complexSelect:true,
                selectCard:-1,
                filterCard:function(){
        return false;
    },
                forceaudio:true,
                direct:true,
                prompt:"å°†ä¸€åæœ‰ã€é€†ã€‘çš„è§’è‰²çš„ä¸¤å¼ ã€é€†ã€‘å½“ä½œã€æ€ã€‘å¯¹åŒ…å«å…¶åœ¨å†…çš„è§’è‰²ä½¿ç”¨ã€‚",
                delay:false,
                log:false,
                precontent:function(){
        "step 0"
        var targets=game.filterPlayer(function(current){
            if(event.result.targets.contains(current)&&current.getExpansions('DIY_xiansi')){
                return current.getExpansions('DIY_xiansi').length>1;
            }
            return false;
        });
        if(targets.length==1){
            event.target=targets[0];
            event.goto(2);
        }
        else if(targets.length>0){
            player.chooseTarget(true,'é€‰æ‹©å¼ƒç½®ã€é™·å—£ã€‘ç‰Œçš„ç›®æ ‡',function(card,player,target){
                return _status.event.list.contains(target);
            }).set('list',targets).set('ai',function(target){
                var player=_status.event.player;
                return get.attitude(player,target);
            });
        }
        else{
            event.finish();
        }
        "step 1"
        if(result.bool&&result.targets.length){
            event.target=result.targets[0];
        }
        else{
            event.finish();
        }
        "step 2"
        if(event.target){
            if(event.target.getExpansions('DIY_xiansi').length==2){
                event.directresult=event.target.getExpansions('DIY_xiansi').slice(0);
            }
            else{
                player.chooseCardButton('ç§»å»ä¸¤å¼ â€œé€†â€',2,event.target.getExpansions('DIY_xiansi'),true);
            }
        }
        else{
            event.finish();
        }
        "step 3"
        if(event.directresult||result.bool){
            player.logSkill('DIY_xiansi2',event.target);
            var links=event.directresult||result.links;
            target.gain(links);
        }
    },
                ai:{
                    order:function(){
            return get.order({name:'sha'})+0.05;
        },
                    yingbian:function(card,player,targets,viewer){
            if(get.attitude(viewer,player)<=0) return 0;
            var base=0,hit=false;
            if(get.cardtag(card,'yingbian_hit')){
                hit=true;
                if(targets.filter(function(target){
                    return target.hasShan()&&get.attitude(viewer,target)<0&&get.damageEffect(target,player,viewer,get.nature(card))>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_all')){
                if(game.hasPlayer(function(current){
                    return !targets.contains(current)&&lib.filter.targetEnabled2(card,player,current)&&get.effect(current,card,player,player)>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_damage')){
                if(targets.filter(function(target){
                    return get.attitude(player,target)<0&&(hit||!target.mayHaveShan()||player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                    },true))&&!target.hasSkillTag('filterDamage',null,{
                        player:player,
                        card:card,
                        jiu:true,
                    })
                })) base+=5;
            }
            return base;
        },
                    canLink:function(player,target,card){
            if(!target.isLinked()&&!player.hasSkill('wutiesuolian_skill')) return false;
            if(target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                target:target,
                card:card,
            },true)) return false;
            if(player.hasSkill('jueqing')||player.hasSkill('gangzhi')||target.hasSkill('gangzhi')) return false;
            return true;
        },
                    basic:{
                        useful:[5,3,1],
                        value:[5,3,1],
                    },
                    result:{
                        target:function(player,target,card,isLink){
                var eff=function(){
                    if(!isLink&&player.hasSkill('jiu')){
                        if(!target.hasSkillTag('filterDamage',null,{
                            player:player,
                            card:card,
                            jiu:true,
                        })){
                            if(get.attitude(player,target)>0){
                                return -7;
                            }
                            else{
                                return -4;
                            }
                        }
                        return -0.5;
                    }
                    return -1.5;
                }();
                if(!isLink&&target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                },true)) return eff/1.2;
                return eff;
            },
                    },
                    tag:{
                        respond:1,
                        respondShan:1,
                        damage:function(card){
                if(card.nature=='poison') return;
                return 1;
            },
                        natureDamage:function(card){
                if(card.nature) return 1;
            },
                        fireDamage:function(card,nature){
                if(card.nature=='fire') return 1;
            },
                        thunderDamage:function(card,nature){
                if(card.nature=='thunder') return 1;
            },
                        poisonDamage:function(card,nature){
                if(card.nature=='poison') return 1;
            },
                    },
                },
            },
            "DIY_xiansi3":{
                audio:"DIY_xiansi",
                trigger:{
                    target:"useCardToTarget",
                },
                forced:true,
                filter:function(event,player){
        return event.card.name=='sha'&&event.card.isCard&&event.cards.length==1&&get.position(event.cards[0],true)=='o'&&event.card.name==event.cards[0].name;
    },
                content:function(){
        trigger.targets.remove(player);
        trigger.getParent().triggeredTargets2.remove(player);
        trigger.untrigger();
        var card=trigger.cards[0];
        player.addToExpansion(card,'gain2').gaintag.add('DIY_xiansi');
        game.delay();
    },
            },
            "DIY_xiansi4":{
                audio:"DIY_xiansi2",
                trigger:{
                    target:"useCardToTargeted",
                },
                forced:true,
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        return true;
    },
                content:function(){
        var card=trigger.cards[0];
        player.gain(card,'gain2');
        trigger.directHit.add(player);
        game.delay();
    },
            },
            "DIY_xiansi5":{
                trigger:{
                    global:"addToExpansionBegin",
                },
                audio:"DIY_xiansi",
                forced:true,
                filter:function(event,player){
                    if(event.getParent().name=='xinpojun'||event.getParent().name=='repojun'||event.getParent().name=='decadepojun') return false;
                    return event.getParent().name!='DIY_xiansi'&&event.getParent().name!='DIY_xiansi3'&&event.getParent().name!='DIY_xiansi5';
                },
                content:function(){
                    trigger.cancel();
                    var card=trigger.cards;
                    player.$gain2(card);
                    player.addToExpansion(card,'gain2').gaintag.add('DIY_xiansi');
                },
            },
            "DIY_qixi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"chooseToUse",
                filterCard:function(card){
        return get.color(card)=='black';
    },
                group:"DIY_qixi2",
                position:"hes",
                viewAs:{
                    name:"guohe",
                },
                viewAsFilter:function(player){
        if(!player.countCards('hes',{color:'black'})) return false;
    },
                prompt:"å°†ä¸€å¼ é»‘è‰²ç‰Œå½“ã€è¿‡æ²³æ‹†æ¡¥ã€‘ä½¿ç”¨",
                check:function(card){return 4-get.value(card)},
                ai:{
                    basic:{
                        order:9,
                        useful:5,
                        value:5,
                    },
                    yingbian:function(card,player,targets,viewer){
            if(get.attitude(viewer,player)<=0) return 0;
            if(game.hasPlayer(function(current){
                return !targets.contains(current)&&lib.filter.targetEnabled2(card,player,current)&&get.effect(current,card,player,player)>0;
            })) return 6;
            return 0;
        },
                    result:{
                        target:function(player,target){
                var att=get.attitude(player,target);
                var nh=target.countCards('h');
                if(att>0){
                    if(target.countCards('j',function(card){
                        var cardj=card.viewAs?{name:card.viewAs}:card;
                        return get.effect(target,cardj,target,player)<0;
                    })>0) return 3;
                    if(target.getEquip('baiyin')&&target.isDamaged()&&
                        get.recoverEffect(target,player,player)>0){
                        if(target.hp==1&&!target.hujia) return 1.6;
                    }
                    if(target.countCards('e',function(card){
                        if(get.position(card)=='e') return get.value(card,target)<0;
                    })>0) return 1;
                }
                var es=target.getCards('e');
                var noe=(es.length==0||target.hasSkillTag('noe'));
                var noe2=(es.filter(function(esx){
                    return get.value(esx,target)>0;
                }).length==0);
                var noh=(nh==0||target.hasSkillTag('noh'));
                if(noh&&(noe||noe2)) return 0;
                if(att<=0&&!target.countCards('he')) return 1.5;
                return -1.5;
            },
                    },
                    tag:{
                        loseCard:1,
                        discard:1,
                    },
                },
            },
            "DIY_qixi2":{
                trigger:{
                    player:"useCardToTargeted",
                },
                filter:function(event,player){
        if(event.card.name=='guohe') return true;
    },
                charlotte:true,
                forced:true,
                audio:"DIY_qixi",
                content:function(){
        'step 0'
        var card=trigger.cards[0];
        card.init([card.suit,card.number,'shunshou']);
        player.useCard(card,trigger.target);
        trigger.targets.remove(trigger.target);
        trigger.getParent().triggeredTargets2.remove(trigger.target);
        trigger.untrigger();
        'step 1'
        var suit=['spade','heart','diamond','club'].randomGet();
        if(get.isLuckyStar(player)) suit=['spade','club'].randomGet();
        var hs=player.getCards('h');
                for(var i=0;i<hs.length;i++){
                    if(hs[i].suit==suit){
                        hs.splice(i--,1);
                    }
                }
                if(hs.length){
                    var card=hs.randomGet();
                    card.init([suit,card.number,card.name]);
                    game.log(player,'å°†ä¸€å¼ æ‰‹ç‰Œçš„èŠ±è‰²æ›´æ”¹ä¸º'+get.translation(suit));
                }
    },
            },
            "DIY_kanpo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"TLAoLogSkillBefore",
                },
                logTarget:"player",
                check:function(event,player){
                    return get.attitude(player,event.player) < 0;
                },
                filter:function(event,player){
                    if(event.player == player)return false;
                    var skill = event.skill;
                    var info = get.info(skill);
                    if(!info)return false;
                    if(info.forced)return false;
                    if(info.charlotte)return false;
                    if(info.direct)return false;
                    var skills = event.player.getOriginalSkills();
                    if(skills.contains(skill))return true;
                    for(var s of skills){
                        var info = get.info(s);
                        if(info && info.subSkill){
                            for(var i in info.subSkill){
                                if(s+"_"+i == skill){
                                    return true;
                                }
                            }
                        }
                    }
                    return false;
                },
                content:function(){
                    'step 0'
                    player.say(["ä½ çš„ã€–"+get.translation(trigger.skill)+"ã€—è¢«çœ‹ç©¿äº†","ã€–"+get.translation(trigger.skill)+"ã€—å°è®¡ï¼Œä¸è¶³æŒ‚é½¿"].randomGet());
                    trigger.cancel();
                    'step 1'
                    var evt=_status.event.getParent('phase');
                    if(evt){
                        game.resetSkills();
                        _status.event=evt;
                        _status.event.finish();
                        _status.event.untrigger(true);
                    }
                },
            },
            "DIY_bazhen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                group:"DIY_bazhen_bagua",
                locked:true,
            },
            "DIY_bazhen_bagua":{
                audio:"DIY_bazhen",
                audioname:["re_sp_zhugeliang","ol_sp_zhugeliang","ol_pangtong"],
                equipSkill:true,
                noHidden:true,
                inherit:"bagua_skill",
                filter:function(event,player){
        if(!lib.skill.bagua_skill.filter(event,player)) return false;
        return true;
    },
                ai:{
                    respondShan:true,
                    effect:{
                        target:function(card,player,target){
                if(player==target&&get.subtype(card)=='equip2'){
                    if(get.equipValue(card)<=7.5) return 0;
                }
                return lib.skill.bagua_skill.ai.effect.target.apply(this,arguments);
            },
                    },
                },
                trigger:{
                    player:["chooseToRespondBegin","chooseToUseBegin"],
                },
                check:function(event,player){
        if(event&&(event.ai||event.ai1)){
            var ai=event.ai||event.ai1;
            var tmp=_status.event;
            _status.event=event;
            var result=ai({name:'shan'},_status.event.player,event);
            _status.event=tmp;
            return result>0;
        }
        return true;
    },
                content:function(){
        "step 0"
        trigger.bagua_skill=true;
        player.judge('bagua',function(card){
            if(player.isEmpty(2)&&get.color(card)=='red') return 1.5;
            if(!player.isEmpty(2)&&get.suit(card)!='spade') return 1.5;
            return -0.5;
            }).judge2=function(result){
            return result.bool;
        };
        "step 1"
        if(result.judge>0){
            trigger.untrigger();
            trigger.set('responded',true);
            trigger.result={bool:true,card:{name:'shan',isCard:true}}
        }
    },
            },
            "DIY_huoji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filterCard:function(card){
        return get.color(card)=='red';
    },
                viewAs:{
                    name:"huogong",
                    nature:"fire",
                },
                group:"DIY_huoji2",
                viewAsFilter:function(player){
        if(!player.countCards('hes',{color:'red'})) return false;
    },
                position:"hes",
                prompt:"å°†ä¸€å¼ çº¢è‰²ç‰Œå½“ç«æ”»ä½¿ç”¨",
                check:function(card){
        var player=_status.currentPhase;
        if(player.countCards('h')>player.hp){
            return 6-get.value(card);
        }
        return 3-get.value(card)
    },
                ai:{
                    fireAttack:true,
                    basic:{
                        order:4,
                        value:[3,1],
                        useful:1,
                    },
                    wuxie:function(target,card,player,current,state){
            if(get.attitude(current,player)>=0&&state>0) return false;
        },
                    result:{
                        player:function(player){
                var nh=player.countCards('h');
                if(nh<=player.hp&&nh<=4&&_status.event.name=='chooseToUse'){
                    if(typeof _status.event.filterCard=='function'&&
                        _status.event.filterCard({name:'huogong'},player,_status.event)){
                        return -10;
                    }
                    if(_status.event.skill){
                        var viewAs=get.info(_status.event.skill).viewAs;
                        if(viewAs=='huogong') return -10;
                        if(viewAs&&viewAs.name=='huogong') return -10;
                    }
                }
                return 0;
            },
                        target:function(player,target){
                if(target.hasSkill('huogong2')||target.countCards('h')==0) return 0;
                if(player.countCards('h')<=1) return 0;
                if(target==player){
                    if(typeof _status.event.filterCard=='function'&&
                        _status.event.filterCard({name:'huogong'},player,_status.event)){
                        return -1.5;
                    }
                    if(_status.event.skill){
                        var viewAs=get.info(_status.event.skill).viewAs;
                        if(viewAs=='huogong') return -1.5;
                        if(viewAs&&viewAs.name=='huogong') return -1.5;
                    }
                    return 0;
                }
                return -1.5;
            },
                    },
                    tag:{
                        damage:1,
                        fireDamage:1,
                        natureDamage:1,
                        norepeat:1,
                    },
                },
            },
            "DIY_huoji2":{
                trigger:{
                    player:"useCardToTargeted",
                },
                filter:function(event,player){
        if(event.card.name=='huogong') return true;
    },
                charlotte:true,
                forced:true,
                audio:"DIY_huoji",
                content:function(){
        'step 0'
        trigger.cancel();
        target=trigger.target;
        player.chooseCard(true).ai=function(card){
            if(_status.event.getRand()<0.5) return Math.random();
            return get.value(card);
        };
        'step 1'
        event.card2=result.cards[0];
        player.showCards(event.card2);
        suit=get.suit(event.card2)
        trigger.target.chooseToDiscard('ç«è®¡ï¼šè¯·å¼ƒç½®ä¸€å¼ '+get.translation(suit)+'ç‰Œï¼Œå¦åˆ™å—åˆ°ä¸€ç‚¹ç«ç„°ä¼¤å®³','h',function(card){
            return get.suit(card)==_status.event.suit;
        }).set('ai',function(card){
            return 8-get.value(card);
        }).set('suit',suit);
        'step 2'
        if(!result.bool){
            trigger.target.damage('fire',1);
        }
        'step 3'
        trigger.targets.remove(trigger.target);
        trigger.getParent().triggeredTargets2.remove(trigger.target);
        trigger.untrigger();
        game.delay(2);
    },
            },
            "DIY_qianxun2":{
                trigger:{
                    player:"phaseBegin",
                },
                forced:true,
                audio:"DIY_qianxun",
                filter:function(event,player){
        return player.getStorage('DIY_qianxun').length>0;
    },
                content:function(){
        var cards=player.getExpansions('DIY_qianxun');
        if(cards.length) player.gain(cards,'draw');
        player.unmarkAuto('DIY_qianxun',[cards]);
    },
            },
            "DIY_qianxun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:["chooseToUse","chooseToRespond"],
                filter:function(event,player){
        return player.getStorage('DIY_qianxun').length>0&&(event.filterCard({name:'sha'},player,event)||event.filterCard({name:'shan'},player,event));
    },
                chooseButton:{
                    dialog:function(event,player){
            var dialog=ui.create.dialog('è°¦é€Š','hidden');
            if(event.filterCard({name:'sha'},player,event)&&event.filterCard({name:'shan'},player,event)){
                dialog._chooseButton=2;
                var table=document.createElement('div');
                table.classList.add('add-setting');
                table.style.margin='0';
                table.style.width='100%';
                table.style.position='relative';
                var list=['sha','shan'];
                for(var i of list){
                    if(player.isDisabled(i)) continue;
                    var td=ui.create.div('.shadowed.reduce_radius.pointerdiv.tdnode');
                    td.innerHTML='<span>'+get.translation(i)+'</span>';
                    td.link=i;
                    td.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                    for(var j in lib.element.button){
                        td[j]=lib.element.button[j];
                    }
                    table.appendChild(td);
                    dialog.buttons.add(td);
                }
                dialog.content.appendChild(table);
            }
            else dialog._cardName=event.filterCard({name:'sha'},player,event)?'sha':'shan';
            dialog.add(player.storage.DIY_qianxun);
            return dialog;
        },
                    filter:function(button){
            var evt=_status.event,player=_status.event.player;
            if(!evt.dialog._chooseButton){
                var evt2=_status.event.getParent();
                return evt2.filterCard(get.autoViewAs({name:evt.dialog._cardName},[button.link]),player,evt2);
            }
            if(ui.selected.buttons.length){
                var str=ui.selected.buttons[0].link;
                if(typeof str!='string'||typeof button.link=='string') return false;
                var evt2=_status.event.getParent();
                return evt2.filterCard(get.autoViewAs({name:str},[button.link]),player,evt2);
            }
            return typeof button.link=='string';
        },
                    select:function(){
            return (_status.event.dialog._chooseButton||1);
        },
                    backup:function(links,player){
            var card,name;
            if(links.length==2){
                name=links[0];
                card=links[1];
            }
            else{
                card=links[0];
                var event=_status.event;
                name=event.filterCard(get.autoViewAs({name:'sha'},[card]),player,event)?'sha':'shan';
            }
            return {
                audio:'DIY_qianxun',
                filterCard:function(){return false},
                selectCard:-1,
                card:card,
                viewAs:get.autoViewAs({name:name},card),
                card:card,
                precontent:function(){
                    var card=lib.skill.DIY_qianxun_backup.card;
                    player.unmarkAuto('DIY_qianxun',[card]);
                    event.result.card={name:event.result.card.name};
                    event.result.cards=[card];
                },
            }
        },
                    prompt:function(links,player){
            return 'è¯·é€‰æ‹©ã€æ€ã€‘çš„ç›®æ ‡';
        },
                },
                ai:{
                    respondSha:true,
                    respondShan:true,
                    skillTagFilter:function(player,tag,arg){
            return player.getStorage('DIY_qianxun').length>0;
        },
                    order:1,
                    result:{
                        player:1,
                    },
                },
                group:["DIY_qianxun_place","DIY_qianxun2"],
                subSkill:{
                    place:{
                        audio:"DIY_qianxun",
                        trigger:{
                            target:"useCardToBegin",
                            player:"judgeBefore",
                        },
                        filter:function(event,player){
                            if(player.countCards('h')==0) return false;
                            if(event.getParent().name=='phaseJudge'){
                                return true;
                            }
                            if(event.name=='judge') return false;
                            if(event.targets&&event.targets.length>1) return false;
                            if(event.card&&(event.card.name='sha'||get.type(event.card)=='trick')&&event.player!=player) return true;
            },
                        content:function(){
                var cards=player.getCards('h');
                player.addToExpansion(cards,'giveAuto',player).gaintag.add('DIY_qianxun');
                player.markAuto('DIY_qianxun',cards);
                player.$gain2(cards,false);
                game.delayx();
            },
                        sub:true,
                    },
                    backup:{
                        audio:"DIY_qianxun",
                        sub:true,
                    },
                },
                intro:{
                    content:"cards",
                    onunmark:"throw",
                },
            },
            "DIY_lianying":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                },
                direct:true,
                filter:function(event,player){
        if(player.countCards('h')) return false;
        var evt=event.getl(player);
        return evt&&evt.hs&&evt.hs.length;
    },
                content:function(){
        "step 0"
        var num=trigger.getl(player).hs.length;
        player.chooseTarget(get.prompt('DIY_lianying'),'ä»¤è‡³å¤š'+get.cnNumber(num)+'åè§’è‰²å„æ‘¸ä¸€å¼ ç‰Œ',[1,num]).ai=function(target){
            var player=_status.event.player;
            if(player==target) return get.attitude(player,target)+10;
            return get.attitude(player,target);
        }
        "step 1"
        if(result.bool){
            player.logSkill('DIY_lianying',result.targets);
            game.asyncDraw(result.targets);
        }
        else event.finish();
        "step 2"
        game.delay();
    },
                ai:{
                    threaten:0.8,
                    effect:{
                        target:function(card){
                if(card.name=='guohe'||card.name=='liuxinghuoyu') return 0.5;
            },
                    },
                    noh:true,
                },
            },
            "DIY_guanxing_zhuge":{
                trigger:{
                    global:["drawBegin","judgeBegin"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                filter:function(){
        return ui.cardPile.childNodes.length>0;
    },
                content:function(){
        'step 0'
        player.logSkill("DIY_guanxing_zhuge");
        player.chooseButton(['è§‚æ˜Ÿï¼šè¯·é€‰æ‹©è¦ç½®äºç‰Œå †'+(trigger.bottom?'åº•':'é¡¶')+'çš„ç‰Œï¼ˆå…ˆé€‰æ‹©çš„åœ¨ä¸Šï¼‰',Array.from(ui.cardPile.childNodes)],[1,trigger.num||1]);
        'step 1'
        if(result.bool){
            while(result.links.length){
                if(trigger.bottom){
                    var card=result.links.shift();
                    ui.cardPile.removeChild(card);
                    ui.cardPile.appendChild(card);
                }
                else{
                    var card=result.links.pop();
                    ui.cardPile.removeChild(card);
                    ui.cardPile.insertBefore(card,ui.cardPile.firstChild)
                }
            }
        }
    },
                ai:{
                    isLuckyStar:true,
                },
            },
            "DIY_kongcheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseEnd",
                },
                group:["DIY_kongcheng2","DIY_kongcheng_yibing"],
                filter:function(event,player){
        if(player.countCards('h')==0) return false;
        return true;
    },
                content:function(){
        var cards=player.getCards('h');
        player.addToExpansion(cards,'giveAuto',player).gaintag.add('DIY_kongcheng2');
        player.storage.DIY_kongcheng=true;
    },
            },
            "DIY_kongcheng_yibing":{
                audio:"DIY_kongcheng",
                trigger:{
                    target:"useCardToTarget",
                },
                frequent:true,
                filter:function(event,player){
        if(!player.storage.DIY_kongcheng) return false;
        return event.player!=player;
    },
                logTarget:"player",
                content:function(){
        'step 0'
        player.line(trigger.player,'green');
        event.choice={
            basic:false,
            trick:false,
            equip:false,
        }
        player.chooseBool('æ˜¯å¦æŠ¼åŸºæœ¬ç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.95;
            if(!trigger.player.countCards('h',{type:['basic']})) rand=0.05;
            if(!trigger.player.countCards('h')) rand=0;
            return Math.random()<rand?true:false;
        };
        'step 1'
        if(result.bool){
            event.choice.basic=true;
        }
        player.chooseBool('æ˜¯å¦æŠ¼é”¦å›Šç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.9;
                if(!trigger.player.countCards('h',{type:['trick','delay']})) rand=0.1;
                if(!trigger.player.countCards('h')) rand=0;
                return Math.random()<rand?true:false;
        };
        'step 2'
        if(result.bool){
            event.choice.trick=true;
        }
        player.chooseBool('æ˜¯å¦æŠ¼è£…å¤‡ç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.75;
                if(!trigger.player.countCards('h',{type:['equip']})) rand=0.25;
                if(!trigger.player.countCards('h')) rand=0;
                return Math.random()<rand?true:false;
        };
        'step 3'
        if(result.bool){
            event.choice.equip=true;
        }
        game.delay();
        var reality={
            basic:false,
            trick:false,
            equip:false,
        }
        var he=trigger.player.getCards('h');
        for(var i=0;i<he.length;i++){
            reality[get.type(he[i],'trick')]=true;
        }
        event.num1=0;
        var tl=['basic','trick','equip'];
        for(var i=0;i<tl.length;i++){
            if(event.choice[tl[i]]==reality[tl[i]]) event.num1++;
        }
        'step 4'
        game.delay();
        'step 5'
        event.choice={
            basic:false,
            trick:false,
            equip:false,
        }
        trigger.player.chooseBool('æ˜¯å¦æŠ¼åŸºæœ¬ç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.95;
            if(!player.countCards('h',{type:['basic']})) rand=0.05;
            if(!player.countCards('h')) rand=0;
            return Math.random()<rand?true:false;
        };
        'step 6'
        if(result.bool){
            event.choice.basic=true;
        }
        trigger.player.chooseBool('æ˜¯å¦æŠ¼é”¦å›Šç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.9;
                if(!player.countCards('h',{type:['trick','delay']})) rand=0.1;
                if(!player.countCards('h')) rand=0;
                return Math.random()<rand?true:false;
        };
        'step 7'
        if(result.bool){
            event.choice.trick=true;
        }
        trigger.player.chooseBool('æ˜¯å¦æŠ¼è£…å¤‡ç‰Œï¼Ÿ').ai=function(event,player){
            var rand=0.75;
                if(!player.countCards('h',{type:['equip']})) rand=0.25;
                if(!player.countCards('h')) rand=0;
                return Math.random()<rand?true:false;
        };
        'step 8'
        if(result.bool){
            event.choice.equip=true;
        }
        game.delay();
        var reality={
            basic:false,
            trick:false,
            equip:false,
        }
        var he=player.getExpansions('DIY_kongcheng2');
        for(var i=0;i<he.length;i++){
            reality[get.type(he[i],'trick')]=true;
        }
        event.num2=0;
        var tl=['basic','trick','equip'];
        for(var i=0;i<tl.length;i++){
            if(event.choice[tl[i]]==reality[tl[i]]) event.num2++;
        }
        'step 9'
        player.popup('çŒœå¯¹'+get.cnNumber(event.num1)+'é¡¹');
        game.log(player,'çŒœå¯¹äº†'+get.cnNumber(event.num1)+'é¡¹');
        trigger.player.popup('çŒœå¯¹'+get.cnNumber(event.num2)+'é¡¹');
        game.log(trigger.player,'çŒœå¯¹äº†'+get.cnNumber(event.num2)+'é¡¹');
        if(event.num1>2||event.num2<3){
            trigger.targets.remove(player);
            trigger.getParent().triggeredTargets2.remove(player);
        }
    },
            },
            "DIY_kongcheng2":{
                trigger:{
                    player:"phaseBegin",
                },
                forced:true,
                audio:"DIY_kongcheng",
                content:function(){
        var cards=player.getExpansions('DIY_kongcheng2');
        if(cards.length) player.loseToDiscardpile(cards);
        player.storage.DIY_kongcheng=false;
    },
                marktext:"ç–‘å…µ",
                intro:{
                    name:"ç–‘å…µ",
                    mark:function(dialog,storage,player){
            var cards=player.getExpansions('DIY_kongcheng2');
            if(player.isUnderControl(true)) dialog.addAuto(cards);
            else return 'å…±æœ‰'+get.cnNumber(cards.length)+'å¼ ç‰Œ';
        },
                    markcount:"expansion",
                },
            },
            "DIY_guizao":{
                trigger:{
                    player:"loseAfter",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
        if(!event.cards2||event.cards2.length!=1) return false;
        if(event.type=='discard') return true;
        if(_status.currentPhase!=player&&event.getParent().name=='useCard') return true;
        if(_status.currentPhase!=player&&event.getParent().name=='respond') return true;
        return false;
    },
                direct:true,
                content:function(){
        'step 0'
        suit=get.suit(trigger.cards2[0]);
        if(player.storage.DIY_guizao&&player.getStorage('DIY_guizao').contains(suit)) event.goto(2);
        'step 1'
        player.chooseDrawRecover();
        player.logSkill("DIY_guizao");
        'step 2'
        delete player.storage.DIY_guizao;
        player.markAuto('DIY_guizao',[suit]);
    },
                marktext:"è—»",
                intro:{
                    name:"ç‘°è—»",
                    content:function(storage,player){
                    var str="ä¸Šä¸€æ¬¡è§¦å‘æ­¤æŠ€èƒ½çš„ç‰Œçš„èŠ±è‰²:";
                    if(!player.storage.DIY_guizao){
                        str+='æ— ';
                    }
                    if(player.getStorage('DIY_guizao').contains('spade')){
                        str+='â™ ';
                    }
                    if(player.getStorage('DIY_guizao').contains('heart')){
                        str+='â™¥';
                    }
                    if(player.getStorage('DIY_guizao').contains('diamond')){
                        str+='â™¦';
                    }
                    if(player.getStorage('DIY_guizao').contains('club')){
                        str+='â™£';
                    }
                    return str;
                    },
                },
            },
            "DIY_jiyu":{
                marktext:"è®¥è°€",
                intro:{
                    name:"è®¥è°€",
                    content:"$",
                },
                mark:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
                    if(!player.getStat().skill.DIY_jiyu||!player.storage.DIY_jiyu) return true;
                    var hs=player.getCards('h');
                    for(var i=0;i<hs.length;i++){
                        if(!player.storage.DIY_jiyu.contains(get.suit(hs[i]))){
                            return true;
                        }
                    }
                    return false;
                },
                locked:false,
                filterTarget:function(card,player,target){
                    return target.countCards('he')&&target!=player;
                },
                content:function(){
                    'step 0'
                    if(!player.storage.DIY_jiyu) player.storage.DIY_jiyu=[];
                    player.discardPlayerCard(target,'he',true);
                    'step 1'
                    if(!result.cards||!result.cards.length) return;
                    var card=result.cards[0];
                    suit=get.suit(card);
                    if(player.storage.DIY_jiyu.contains(suit)){
                        player.loseHp();
                        player.chooseToDiscard(true);
                    }
                    else{
                        player.draw();
                        player.storage.DIY_jiyu.add(suit);
                    }
                },
                onremove:"DIY_jiyu",
                group:"DIY_jiyu_clear",
                subSkill:{
                    clear:{
                        trigger:{
                            player:"phaseEnd",
                        },
                        direct:true,
                        content:function(){
                            delete player.storage.DIY_jiyu;
            },
                        sub:true,
                    },
                },
                ai:{
                    order:9,
                    result:{
                        target:function(player,target){
                if(target.countCards('h')<=3) return -1;
                return 0;
                        },
                    },
                },
                mod:{
                    cardEnabled:function(card,player){
                        if(player.storage.DIY_jiyu&&player.storage.DIY_jiyu.contains(get.suit(card))) return false;
                    },
                    ignoredHandcard:function(card,player){
                        if(player.storage.DIY_jiyu&&player.storage.DIY_jiyu.contains(get.suit(card))){
                            return true;
                        }
                    },
                    cardDiscardable:function(card,player,name){
                        if(name=='phaseDiscard'&&player.storage.DIY_jiyu&&player.storage.DIY_jiyu.contains(get.suit(card))) return false;
                    },
                },
            },
            "DIY_taoluan":{
                enable:"chooseToUse",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                zhuanhuanji:true,
                mark:true,
                locked:true,
                marktext:"â˜¯",
                intro:{
                    content:function(storage,player,skill){
            if(player.storage.DIY_taoluan=true) return 'ä½ å¯ä»¥å‡1ç‚¹ä½“åŠ›ä¸Šé™ï¼Œè§†ä¸ºä½¿ç”¨ä¸€å¼ æœ¬å›åˆæœªä»¥æ­¤æ³•ä½¿ç”¨è¿‡çš„åŸºæœ¬ç‰Œ';
            return 'ä½ å¯ä»¥å¤±å»1ç‚¹ä½“åŠ›ï¼Œè§†ä¸ºä½¿ç”¨ä¸€å¼ æœ¬å›åˆæœªä»¥æ­¤æ³•ä½¿ç”¨è¿‡çš„æ™®é€šé”¦å›Šç‰Œ';
        },
                },
                init:function(player){
        player.storage.DIY_taoluan=false;
        if(!player.storage.DIY_taoluan2) player.storage.DIY_taoluan2=[];
    },
                hiddenCard:function(player,name){
        if(player.storage.DIY_taoluan2.contains(name)) return false;
        var type=get.type(name);
        if(player.storage.DIY_taoluan) return type=='basic';
        return type=='trick';
    },
                filter:function(event,player){
        if(player.storage.DIY_taoluan2.contains(name)) return false;
        var type=player.storage.DIY_taoluan?'basic':'trick';
        for(var name of lib.inpile){
            if(player.storage.DIY_taoluan2.contains(name)) continue;
            if(get.type(name)!=type) continue;
            if(event.filterCard({name:name,isCard:true},player,event)) return true;
        }
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            for(var i=0;i<lib.inpile.length;i++){
                var name=lib.inpile[i];
                if(player.storage.DIY_taoluan2.contains(name)) continue;
                var type=player.storage.DIY_taoluan?'basic':'trick';
                if(get.type(name)!=type) continue;
                if(name=='sha'){
                    list.push(['åŸºæœ¬','','sha']);
                    for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
                }
                else if(get.type(name)=='trick') list.push(['é”¦å›Š','',name]);
                else if(get.type(name)=='basic') list.push(['åŸºæœ¬','',name]);
            }
            if(list.length==0){
                return ui.create.dialog('æ»”ä¹±å·²æ— å¯ç”¨ç‰Œ');
            }
            return ui.create.dialog('æ»”ä¹±',[list,'vcard']);
        },
                    filter:function(button,player){
            return _status.event.getParent().filterCard({name:button.link[2]},player,_status.event.getParent());
        },
                    check:function(button){
            var player=_status.event.player;
            if(player.countCards('hs',button.link[2])>0) return 0;
            if(button.link[2]=='wugu') return;
            var effect=player.getUseValue(button.link[2]);
            if(effect>0) return effect;
            return 0;
        },
                    backup:function(links,player){
            return {
                filterCard:function(){return false},
                audio:'DIY_taoluan',
                selectCard:-1,
                popname:true,
                check:function(card){
                    return 6-get.value(card);
                },
                position:'hes',
                viewAs:{name:links[0][2],nature:links[0][3]},
                onuse:function(result,player){
                    if(player.storage.DIY_taoluan){
                        player.loseMaxHp();
                    }
                    else{
                        player.loseHp();
                    }
                    player.changeZhuanhuanji('DIY_taoluan');
                    player.storage.DIY_taoluan2.add(result.card.name);
                },
            }
        },
                    prompt:function(links,player){
            if(player.storage.DIY_taoluan) return hs='å‡1ç‚¹ä½“åŠ›ä¸Šé™';
            if(!player.storage.DIY_taoluan) return hs='å¤±å»1ç‚¹ä½“åŠ›';
            return +(get.translation(hs))+'ï¼Œè§†ä¸ºä½¿ç”¨'+(get.translation(links[0][3])||'')+get.translation(links[0][2])+'';
        },
                },
                ai:{
                    respondSha:true,
                    respondShan:true,
                    skillTagFilter:function(player,tag,arg){
            if(arg=='respond') return false;
            if(!player.storage.DIY_taoluan||player.hasSkill('DIY_taoluan_true')) return false;
            var name=(tag=='respondSha'?'sha':'shan');
            return !player.storage.DIY_taoluan2.contains(name);
        },
                    order:1,
                    result:{
                        player:1,
                    },
                },
                group:"DIY_taoluan_clear",
                subSkill:{
                    clear:{
                        trigger:{
                            global:"phaseEnd",
                        },
                        direct:true,
                        content:function(){
                            player.storage.DIY_taoluan2=[];
            },
                        sub:true,
                    },
                },
                mod:{
                    maxHandcardBase:function(player,num){
                        return num+player.getStorage('DIY_taoluan2').length;
                    },
                },
            },
            "DIY_yangzhong":{
                unique:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"useCardToBegin",
                },
                filter:function(event,player){
        if(player.countCards('he') == 0)return false;
        return event.targets.length==1&&['basic', 'trick'].contains(get.type(event.card));
    },
                check:function(event,player){
        var active=0;
        for(var i=0;i<game.players.length;i++){
            if(game.players[i]==player) continue;
            if(!game.players[i].isOut()){
                if(ai.get.attitude(player,game.players[i])<=0&&event.player.canUse(event.card,game.players[i])){
                    active++;
                }
            }
        }
        if(active>0) return 1;
        return 0;
    },
                content:function(){
        'step 0'
        player.chooseToDiscard('he',true);
        'step 1'
        var targets=[];
        for(var i=0;i<game.players.length;i++){
            if(game.players[i]==player) continue;
            if(game.players[i]==trigger.target) continue;
            targets.push(game.players[i]);
        }
        if(targets.length) game.log(targets,'æˆä¸ºäº†é¢å¤–ç›®æ ‡');
        for(var i=0;i<targets.length;i++){
            trigger.targets.push(targets[i]);
        }
        player.addTempSkill('DIY_yangzhong2');
    },
            },
            "DIY_yangzhong2":{
                trigger:{
                    global:"damage",
                },
                usable:1,
                direct:true,
                filter:function(event,player){
        return event.player!=player;
    },
                content:function(){
                    'step 0'
                    list=['å›è¡€', 'åŠ è¡€'];
                    if(player.hp=player.maxHp) list.remove('å›è¡€');
                    player.chooseControl('å›è¡€', 'åŠ è¡€').set('ai',function(){
                        if(player.storage.DIY_taoluan) return 'åŠ è¡€';
                        return 'å›è¡€';
                    });
                    "step 1"
                    if(result.control=='å›è¡€'){
                        player.logSkill('DIY_yangzhong');
                        player.recover(1);
                        player.removeSkill('DIY_yangzhong2');
                    }
                    else{
                        player.logSkill('DIY_yangzhong');
                        player.gainMaxHp(1);
                        player.removeSkill('DIY_yangzhong2');
                    }
                },
            },
            "DIY_zhiheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filter:function(event,player){
        return player.countCards('he')>0&&ui.cardPile.childNodes.length>0;
    },
                content:function(){
        'step 0'
        num1=player.countCards('he')+1;
        player.storage.DIY_zhiheng=num1-1;
        player.chooseButton(['åˆ¶è¡¡<br>è¯·é€‰æ‹©è¦è·å¾—çš„è‡³å¤š'+get.translation(num1)+'å¼ ç‰Œ',Array.from(ui.cardPile.childNodes)],[1,num1]);
        'step 1'
        if(result.bool){
            var num2=result.links.length;
            for(var i=0;i<num2;i++){
                cards.push(result.links[i]);
            }
            player.gain(cards,'gain2','log');
            player.logSkill('DIY_huiwan');
        }
        if(num2==num1){
            player.chooseToDiscard('he',num2-1,true);
        }
        else{
            player.chooseToDiscard('he',num2,true);
        }
    },
                ai:{
                    order:1,
                    result:{
                        player:1,
                    },
                    threaten:1.55,
                },
            },
            "DIY_huiwan":{
            },
            "DIY_enyuan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                group:["DIY_enyuan_en","DIY_enyuan_yuan","DIY_enyuan_damage"],
            },
            "DIY_enyuan_en":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    player:"gainEnd",
                },
                direct:true,
                filter:function(event,player){
        if(!event.source||event.source==player||!event.source.isIn()) return false;
        var evt=event.getl(event.source);
        return evt&&evt.cards2&&evt.cards2.length>0;
    },
                logTarget:"source",
                content:function(){
        'step 0'
        var history=player.getAllHistory('gain',function(evt){
            var evt=evt.getl(trigger.source);
            return evt;
        });
        if(history.length) num=history.length;
        player.popup(''+get.cnNumber(num)+'');
        if(num%2==game.roundNumber%2){
            player.chooseBool('æ˜¯å¦å‘åŠ¨ã€æ©æ€¨ã€‘ä»¤'+get.translation(trigger.source)+'æ‘¸ä¸€å¼ ç‰Œï¼Ÿ').set('ai',function(){
                var att=ai.get.attitude(player,trigger.source);
                if(att>0) return true;
                return false;
            });
        }
        'step 1'
        if(result.bool){
            player.logSkill('DIY_enyuan_en',trigger.source);
            trigger.source.draw();
        }
    },
            },
            "DIY_enyuan_yuan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    source:"gainAfter",
                },
                direct:true,
                filter:function(event,player){
        if(player==event.player) return false;
        var evt=event.getl(player);
        return evt&&evt.hs&&evt.hs.length;
    },
                logTarget:"player",
                content:function(){
        'step 0'
        var history=trigger.player.getAllHistory('gain',function(evt){
            var evt=evt.getl(player);
            return evt;
        });
        if(history.length) num=history.length;
        player.popup(''+get.cnNumber(num)+'');
        if(num%2==game.roundNumber%2){
            player.chooseBool('æ˜¯å¦å¯¹'+get.translation(trigger.player)+'å‘åŠ¨ã€æ©æ€¨ã€‘ï¼Ÿ').set('ai',function(){
                var att=ai.get.attitude(player,trigger.player);
                if(att<0) return true;
                return false;
            });
        }
        'step 1'
        if(result.bool){
            player.logSkill('DIY_enyuan_yuan',trigger.player);
            trigger.player.chooseCard('äº¤ç»™'+get.translation(player)+'ä¸€å¼ æ‰‹ç‰Œæˆ–æµå¤±ä¸€ç‚¹ä½“åŠ›').set('ai',function(card){
            if(get.attitude(trigger.player,player)>0){
                    return 11-get.value(card);
                }
                else{
                    return 7-get.value(card);
                }
            });
        }
        else{
            event.goto(4);
        }
        'step 2'
        if(result.bool){
            player.gain(result.cards,trigger.player,'giveAuto');
        }
        else{
            trigger.player.loseHp();
        }
        'step 3'
        event.finish();
                },
            },
            "DIY_enyuan_damage":{
                audio:"DIY_enyuan_yuan",
                trigger:{
                    player:"damageEnd",
                },
                check:function(event,player){
        var att=get.attitude(player,event.source);
        var num=event.source.countCards('h');
        if(att<=0) return true;
        if(num>2) return true;
        if(num) return att<4;
        return false;
    },
                filter:function(event,player){
        return event.source&&event.source!=player&&event.num>0&&event.source.isAlive();
    },
                content:function(){
        "step 0"
        event.num=trigger.num;
        "step 1"
        trigger.source.chooseCard('äº¤ç»™'+get.translation(player)+'ä¸€å¼ æ‰‹ç‰Œæˆ–æµå¤±ä¸€ç‚¹ä½“åŠ›').set('ai',function(card){
            if(get.attitude(_status.event.player,_status.event.getParent().player)>0){
                return 11-get.value(card);
            }
            else{
                return 7-get.value(card);
            }
        });
        "step 2"
        if(result.bool){
            player.gain(result.cards,trigger.source,'giveAuto');
        }
        else{
            trigger.source.loseHp();
        }
        if(event.num>1){
            event.num--;
            event.goto(1);
        }
    },
                ai:{
                    "maixie_defend":true,
                    effect:{
                        target:function(card,player,target){
                if(player.hasSkillTag('jueqing',false,target)) return [1,-1.5];
                if(!target.hasFriend()) return;
                if(get.tag(card,'damage')) return [1,0,0,-0.7];
            },
                    },
                },
            },
            "DIY_xuanhuo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                initList:function(player){
        var list,skills=[];
        if(get.mode()=='guozhan'){
            list=[];
            for(var i in lib.characterPack.mode_guozhan) list.push(i);
        }
        else if(_status.connectMode) list=get.charactersOL();
        else{
            list=[];
            for(var i in lib.character){
                if(lib.filter.characterDisabled2(i)||lib.filter.characterDisabled(i)) continue;
                list.push(i);
            }
        }
        for(var i of list){
            if(i.indexOf('gz_jun')==0) continue;
            for(var j of lib.character[i][3]){
                if(j=='DIY_xuanhuo') continue;
                var skill=lib.skill[j];
                if(!skill||skill.zhuSkill) continue;
                if(skill.init||skill.ai&&(skill.ai.combo||skill.ai.notemp||skill.ai.neg)) continue;
                var info=lib.translate[j+'_info'];
                if(info&&info.indexOf('ã€æ€ã€‘')!=-1) skills.add(j);
            }
        }
        player.storage.DIY_xuanhuo=skills;
    },
                trigger:{
                    global:"phaseBeginStart",
                },
                direct:true,
                preHidden:true,
                filter:function(event,player){
        return event.player.countCards('he')>0&&!event.player.hasSkill('DIY_xuanhuo');
    },
                content:function(){
        'step 0'
        trigger.player.chooseCard(get.prompt('DIY_xuanhuo'),'äº¤ç»™'+get.translation(player)+'ä¸€å¼ ç‰Œï¼Œç„¶åè·å¾—'+get.translation(player)+'é€‰æ‹©çš„ä¸€ä¸ªæè¿°ä¸­åŒ…å«â€œã€æ€ã€‘â€çš„æŠ€èƒ½','he').set('ai',function(){
            var player=_status.event.player,target=_status.event.getParent().player;
            return get.attitude(player,target)>=0;
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_xuanhuo',trigger.player);
            player.gain(result.cards,trigger.player,'giveAuto');
        }
        else event.finish();
        'step 2'
        if(player.isIn()&&trigger.player.isIn()){
            if(!player.storage.DIY_xuanhuo) lib.skill.DIY_xuanhuo.initList(player);
            var list=player.storage.DIY_xuanhuo.randomGets(Math.max(4,game.countPlayer()));
            if(!list.length){
                event.finish();
                return;
            }
            event.videoId=lib.status.videoId++;
            var func=function(skills,id){
                var dialog=ui.create.dialog('forcebutton');
                dialog.videoId=id;
                dialog.add('çœ©æƒ‘ï¼šé€‰æ‹©ä¸€ä¸ªæŠ€èƒ½');
                for(var i=0;i<skills.length;i++){
                    dialog.add('<div class="popup pointerdiv" style="width:80%;display:inline-block"><div class="skill">ã€'+get.translation(skills[i])+'ã€‘</div><div>'+lib.translate[skills[i]+'_info']+'</div></div>');
                }
                dialog.addText(' <br> ');
            }
            if(player.isOnline()) player.send(func,list,event.videoId);
            else if(player==game.me) func(list,event.videoId);
            player.chooseControl(list);
        }
        else event.finish();
        'step 3'
        game.broadcastAll('closeDialog',event.videoId);
        trigger.player.popup(''+get.translation(result.control)+'');
        game.log(trigger.player,'è·å¾—äº†','#gã€'+get.translation(result.control)+'ã€‘');
        trigger.player.addTempSkill(result.control);
    },
            },
            "DIY_qinyin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                content:function(){
        'step 0'
        player.chooseToPlayBeatmap(lib.skill.DIY_qinyin.beatmaps.randomGet());
        'step 1'
        var score=Math.floor(result.accuracy/17);
        event.score=score;
        game.log(player,'çš„æ¼”å¥è¯„çº§ä¸º','#y'+result.rank[0],'ï¼Œè·å¾—ç§¯åˆ†ç‚¹æ•°','#y'+score,'åˆ†');
        var list=[];
        list.push('å…¨éƒ¨æ‘¸ç‰Œ');
        var skillList=[];
        var skills=player.getOriginalSkills();
        for(var i=0;i<skills.length;i++){
            if(lib.skill[skills[i]].limited&&player.awakenedSkills.contains(skills[i])){
                skillList.push(skills[i]);
            }
        }
        if(score>2&&skillList.length>0){
            list.push('é‡ç½®ä¸€ä¸ªé™å®šæŠ€');
        }
        if(list.length>1){
            var num=score-3;
            player.chooseControl(list).set('prompt','ä¸šç‚ï¼šé‡ç½®ä¸€ä¸ªå·²å‘åŠ¨çš„é™å®šæŠ€å¹¶æ‘¸'+get.translation(Math.floor(num/2))+'å¼ ç‰Œæˆ–æ‘¸'+get.translation(Math.floor(score/2))+'å¼ ç‰Œ').set('ai',function(){
                return 'é‡ç½®ä¸€ä¸ªé™å®šæŠ€';
            });
        }
        else event._result={control:'å…¨éƒ¨æ‘¸ç‰Œ'};
        'step 2'
        var score=event.score;
        if(result.control!='å…¨éƒ¨æ‘¸ç‰Œ'){
            score-=3;
            player.draw(Math.floor(score/2));
            var List=[];
            var skills=player.getOriginalSkills();
            for(var i=0;i<skills.length;i++){
                if(lib.skill[skills[i]].limited&&player.awakenedSkills.contains(skills[i])){
                    List.push(skills[i]);
                }
            }
            if(List.length==1){
                player.restoreSkill(List[0]);
                game.log(player,'é‡ç½®äº†','#gã€'+get.translation(List[0])+'ã€‘');
                event.goto(3);
            }
            else{
                player.chooseControl(List).set('prompt','é€‰æ‹©ä¸€ä¸ªé™å®šæŠ€é‡ç½®ä¹‹');
                event.goto(3);
            }
        }
        player.draw(Math.floor(score/2));
        event.goto(4);
        'step 3'
        if(result.control){
            player.restoreSkill(result.control);
            game.log(player,'é‡ç½®äº†','#gã€'+get.translation(result.control)+'ã€‘');
        }
        'step 4'
        event.finish();
    },
                ai:{
                    order:10,
                    result:{
                        player:1,
                    },
                },
                beatmaps:[{"name":"é³¥ã®è©©","filename":"tori_no_uta","timeleap":[1047,3012,4978,5469,5961,6452,6698,7435,8909,10875,12840],"current":-546,"judgebar_height":0.14,"range1":[86,110],"range2":[92,104],"range3":[96,100],"speed":25},{"name":"ç«¹å–é£›ç¿”ã€€ï½ Lunatic Princess","filename":"taketori_hishou","timeleap":[1021,1490,1959,2896,3834,4537,4771,5709,6646,7585,8039,8494,9403,10291,11180,11832,12049,12920,13345,13771,14196],"current":-500,"judgebar_height":0.14,"range1":[86,110],"range2":[92,104],"range3":[96,100],"speed":25,"judgebar_color":"linear-gradient(rgba(240, 120, 123, 1), rgba(230, 115, 113, 1))"}],
                derivation:"chongxu_faq",
            },
            "DIY_yeyan":{
                unique:true,
                limited:true,
                enable:"phaseUse",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                animationColor:"metal",
                skillAnimation:"legend",
                line:"fire",
                multitarget:true,
                multiline:true,
                filter:function(event,player){
                    return !player.storage.DIY_yeyan;
                },
                content:function (){
        "step 0"
        player.awakenSkill('DIY_yeyan');
        player.storage.DIY_yeyan=true;
        for(var i=0;i<game.players.length;i++){
            game.players[i].storage.DIY_yeyan_damage=0;
        }
        "step 1"
        player.chooseTarget(get.prompt('DIY_yeyan'),'é€‰æ‹©ç¬¬ä¸€ç‚¹ç«ç„°ä¼¤å®³çš„åˆ†é…å¯¹è±¡').set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            return att<0;
        });
        "step 2"
        if(result.bool){
            var target=result.targets[0];
            target.storage.DIY_yeyan_damage++;
            var num=target.storage.DIY_yeyan_damage;
            target.popup(''+get.cnNumber(num)+'ç‚¹');
        }
        player.chooseTarget(get.prompt('DIY_yeyan'),'é€‰æ‹©ç¬¬äºŒç‚¹ç«ç„°ä¼¤å®³çš„åˆ†é…å¯¹è±¡').set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            return att<0;
        });
        "step 3"
        if(result.bool){
            var target=result.targets[0];
            target.storage.DIY_yeyan_damage++;
            var num=target.storage.DIY_yeyan_damage;
            if(num>1) player.chooseToDiscard('he',true);
            target.popup(''+get.cnNumber(num)+'ç‚¹');
        }
        player.chooseTarget(get.prompt('DIY_yeyan'),'é€‰æ‹©ç¬¬ä¸‰ç‚¹ç«ç„°ä¼¤å®³çš„åˆ†é…å¯¹è±¡').set('ai',function(target){
            var att=get.attitude(_status.event.player,target);
            return att<0;
        });
        "step 4"
        if(result.bool){
            var target=result.targets[0];
            target.storage.DIY_yeyan_damage++;
            var num=target.storage.DIY_yeyan_damage;
            if(num>1) player.chooseToDiscard('he',true);
            target.popup(''+get.cnNumber(num)+'ç‚¹');
        }
        "step 5"
        game.delay();
        for(var i=0;i<game.players.length;i++){
            if(!game.players[i].storage.DIY_yeyan_damage) continue;
            var num=game.players[i].storage.DIY_yeyan_damage;
            game.players[i].storage.DIY_yeyan_damage=0;
            game.players[i].damage(num,'fire');
        }
    },
                ai:{
                    order:12,
                    result:{
                        player:1,
                    },
                },
                mark:true,
                intro:{
                    content:"limited",
                },
                init:function(player,skill){
        player.storage[skill]=false;
    },
            },
            "DIY_yuanchou":{
                audio:"yuanchou",
                trigger:{
                    player:"useCardToPlayer",
                    target:"useCardToTarget",
                },
                filter:function(event){
        return event.card.name=='sha'&&get.nature(event.card)!='stab';
    },
                forced:true,
                logTarget:"target",
                content:function(){
        trigger.target.addTempSkill('qinggang2');
        trigger.target.storage.qinggang2.add(trigger.card);
		trigger.target.markSkill('qinggang2');
    },
                ai:{
                    "unequip_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(arg&&arg.name=='sha') return true;
            return false;
        },
                },
                group:"DIY_yuanchou_stab",
                subSkill:{
                    stab:{
                        audio:"DIY_yuanchou",
                        trigger:{
                            player:"useCardToPlayer",
                        },
                        filter:function(event){
                            return event.card.name=='sha'&&get.nature(event.card)=='stab';
                        },
                        forced:true,
                        content:function(){
                            trigger.target.addTempSkill('qinggang2');
                            trigger.target.storage.qinggang2.add(trigger.card);
							trigger.target.markSkill('qinggang2');
                            if(!trigger.getParent().directHit.contains(trigger.target)){
								var id=trigger.target.playerid;
                            	var map=trigger.getParent().customArgs;
                            	if(!map[id]) map[id]={};
                            	if(typeof map[id].shanRequired=='number'){
                                	map[id].shanRequired++;
                            	}
                            	else{
                                	map[id].shanRequired=2;
                            	}
							}
                        },
                        sub:true,
                    },
                },
            },
            "DIY_juesheng":{
                audio:"juesheng",
                enable:"phaseUse",
                limited:true,
                skillAnimation:true,
                animationColor:"orange",
                trigger:{
                    global:"phaseEnd",
                },
                filter:function(event,player){
        return event.player!=player;
    },
                check:function(event,player){
        return get.damageEffect(event.player,player,player)>0;
    },
                content:function(){
        player.loseMaxHp();
        player.awakenSkill('DIY_juesheng');
        if(player.name=='JX_fanjiangzhangda') player.changeGroup("wu");
        player.addTempSkill('DIY_juesheng_counter');
        player.useCard({name:'sha',nature:'stab',isCard:true},trigger.player,false,'noai');
    },
                ai:{
                    result:{
                        player:function(player,target){
                return target.maxHp-target.hp;
            },
                        target:function(player,target){
                var num=target.maxHp-target.hp;
                if(num<target.hp) return 0;
                return -num;
            },
                    },
                },
                subSkill:{
                    counter:{
                        trigger:{
                            source:"damageBegin1",
                        },
                        forced:true,
                        charlotte:true,
                        content:function(){
                trigger.num=trigger.player.maxHp;
                player.removeSkill('DIY_yuanchou');
            },
                        sub:true,
                    },
                },
                mark:true,
                intro:{
                    content:"limited",
                },
                init:function(player,skill){
        player.storage[skill]=false;
    },
            },
            "DIY_keji":{
                trigger:{
                    player:"gainAfter",
                },
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
        return player.countCards('h')>0;
    },
                content:function(){
        var cards=player.getCards('h');
        player.loseToSpecial(cards,'DIY_keji').visible=true;
        player.markSkill('DIY_keji');
    },
                group:["DIY_keji_gain"],
                marktext:"å…‹",
                intro:{
                    mark:function(dialog,storage,player){
            dialog.addAuto(player.getCards('s',function(card){
                return card.hasGaintag('DIY_keji');
            }));
        },
                    markcount:function(storage,player){
            return player.getCards('s',function(card){
                return card.hasGaintag('DIY_keji');
            }).length;
        },
                    onunmark:function(storage,player){
            var cards=player.getCards('s',function(card){
                return card.hasGaintag('DIY_keji');
            });
            if(cards.length){
                player.lose(cards,ui.discardPile);
                player.$throw(cards,1000);
                game.log(cards,'è¿›å…¥äº†å¼ƒç‰Œå †');
            }
        },
                },
            },
            "DIY_keji_gain":{
                trigger:{
                    player:"loseAfter",
                },
                forced:true,
                filter:function(event,player){
                    if(!event.ss||!event.ss.length) return false;
                    for(var i in event.gaintag_map){
                        if(event.gaintag_map[i].contains('DIY_keji')) return true;
                        return false;
                    }
                },
                content:function(){
                    'step 0'
                    player.chooseBool('ä»ç‰Œå †ä¸­è·å¾—ä¸â€œå…‹â€èŠ±è‰²ç›¸åŒçš„ä¸€å¼ ç‰Œè·å¾—ç‚¹â€œå–æ¶ˆâ€è·å¾—ä¸€ç‚¹æŠ¤ç”²').ai=function(event,player){
                        var num=[0,1].randomGet();
                        return num<1?true:false;
                    };
                    'step 1'
                    if(!result.bool){
                        player.changeHujia();
                    }
                    else{
                        var cards=[];
                        for(var i of trigger.ss){
                            if(!trigger.gaintag_map[i.cardid]||!trigger.gaintag_map[i.cardid].contains('DIY_keji')) continue;
                            var suit=get.suit(i,false);
                            var card=get.cardPile2(function(card){
                                return !cards.contains(card)&&get.suit(card,false)==suit;
                            });
                            if(card) cards.push(card);
                        }
                        if(cards.length) player.gain(cards,'gain2');
                        var num=player.getCards('s',function(card){
                            return card.hasGaintag('DIY_keji');
                        }).length;
                        if(num) player.markSkill('DIY_keji');
                        else player.unmarkSkill('DIY_keji');
                        game.updateRoundNumber();
                    }
                },
            },
            "DIY_dujiang":{
                skillAnimation:true,
                animationColor:"wood",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                unique:true,
                juexingji:true,
                derivation:"DIY_duojing",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                filter:function(event,player){
                    if(player.storage.DIY_qinxue) return false;
                    var num=player.getCards('s',function(card){
                        return card.hasGaintag('DIY_keji');
                    }).length;
                    return num>3;
                },
                content:function(){
                    player.storage.DIY_qinxue=true;
                    player.addSkill('DIY_duojing');
                    player.awakenSkill('DIY_dujiang');
                },
            },
            "DIY_duojing":{
                shaRelated:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                check:function(event,player){
        return get.attitude(player,event.target)<=0;
    },
                filter:function(event,player){
        return player.hujia>1&&event.card.name=='sha';
    },
                logTarget:"target",
                content:function(){
        "step 0"
        player.changeHujia(-1);
        var list=['ä¸å¯è¢«å“åº”','æ— è§†é˜²å…·','ä¼¤å®³+1','ä¸è®¡å…¥æ¬¡æ•°'];
        player.chooseControl(list).set('prompt','å¤ºè†ï¼šè¯·ä¸º'+get.translation(trigger.card)+'é€‰æ‹©ä¸€ç§æ•ˆæœ').set('choice',function(){
            if(list.contains('ä¸è®¡å…¥æ¬¡æ•°')&&player.hasSha()) return 'ä¸è®¡å…¥æ¬¡æ•°';
            if(list.contains('ä¸å¯è¢«å“åº”')&&trigger.target.mayHaveShan()) return 'ä¸å¯è¢«å“åº”';
            if(list.contains('ä¼¤å®³+1')) return 'ä¼¤å®³+1';
            return list.randomGet();
        }()).set('ai',()=>_status.event.choice);
        "step 1"
        var target=trigger.target;
        game.log(player,'å¯¹',target,'çš„',trigger.card,'#g'+result.control);
        switch(result.control){
            case 'ä¸å¯è¢«å“åº”':
                trigger.directHit.add(target);
                break;
            case 'æ— è§†é˜²å…·':
                target.addTempSkill('qinggang2');
                target.storage.qinggang2.add(trigger.card);
                break;
            case 'ä¼¤å®³+1':
                var map=trigger.customArgs;
                var id=target.playerid;
                if(!map[id]) map[id]={};
                if(!map[id].extraDamage) map[id].extraDamage=0;
                map[id].extraDamage++;
                break;
            case 'ä¸è®¡å…¥æ¬¡æ•°':
                var evt=trigger.getParent();
                if(evt.addCount!==false){
                    evt.addCount=false;
                    player.getStat().card.sha--;
                }
                break;
        }
    },
                ai:{
                    ignoreSkill:true,
                    skillTagFilter:function(player,tag,arg){
            if(tag=='directHit_ai'){
                return get.attitude(player,arg.target)<=0;
            }
            if(!arg||arg.isLink||!arg.card||arg.card.name!='sha') return false;
            if(!arg.target||get.attitude(player,arg.target)>=0) return false;
            if(!arg.skill||!lib.skill[arg.skill]||lib.skill[arg.skill].charlotte||get.is.locked(arg.skill)||!arg.target.getSkills(true,false).contains(arg.skill)) return false;
        },
                    "directHit_ai":true,
                },
            },
            "DIY_lveming":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filterTarget:function(card,player,target){
        return player!=target&&target.countCards('e')<=player.countCards('e');
    },
                filter:function(event,player){
        var num=Math.max(1,player.countCards('e'));
        if(player.getStat().skill.DIY_lveming>=num) return false;
        return true;
    },
                content:function(){
        "step 0"
        var list=[1,2,3,4,5,6,7,8,9,10,11,12,13].map((i)=>get.strNumber(i));
        target.chooseControl(list).set('ai',function(){
            return get.rand(0,12);
        }).set('prompt','è¯·é€‰æ‹©ä¸€ä¸ªç‚¹æ•°');
        "step 1"
        if(result.control){
            target.$damagepop(result.control,'thunder');
            var num=result.index+1;
            event.num=num;
        }
        else{
            target.$damagepop('K','thunder');
            event.num=13;
        };
        game.log(target,'é€‰æ‹©çš„ç‚¹æ•°æ˜¯','#y'+get.strNumber(event.num));
        player.judge(function(card){
            if(card.number==_status.event.getParent('DIY_lveming').num) return 4;
            return 0;
        });
        "step 2"
        if(result.bool==true){
            target.damage(2);
        }
        else{
            var card=target.getCards('hej').randomGet();
            player.gain(card,target,'giveAuto','bySelf');
        }
    },
                ai:{
                    order:9,
                    result:{
                        target:function(player,target){
                var numj=target.countCards('j');
                var numhe=target.countCards('he');
                if(numhe==0) return numj>0?6:-6;
                return -6-(numj+1)/numhe;
            },
                    },
                    threaten:1.1,
                },
            },
            "DIY_tunjun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    source:"damageSource",
                },
                group:["DIY_tunjun1","DIY_tunjun2","DIY_tunjun3","DIY_tunjun4","DIY_tunjun5"],
                forced:true,
                charlotte:true,
                onremove:true,
                filter:function(event,player){
        if(event.player==player) return false;
        if(player.countCards('e',{subtype:"equip1"})>=2&&player.countCards('e',{subtype:"equip2"})>=2&&player.countCards('e',{subtype:"equip3"})>=2&&player.countCards('e',{subtype:"equip4"})>=2&&player.countCards('e',{subtype:"equip5"})>=2) return false;
        return true;
    },
                content:function(){
        for(var i=1;i<7;i++){
            if(player.countCards('e',{subtype:"equip"+i})<2&&!player.isDisabled('equip'+i)){
                var sub='equip'+i,card=get.cardPile(function(card){
                    return get.subtype(card,false)==sub&&!get.cardtag(card,'gifts');
                });
                if(card){
                    player.$gain2(card);
                    game.delayx();
                    player.equip(card);
                    break;
                }
            }
        }
    },
            },
            "DIY_tunjun1":{
                trigger:{
                    player:"equipBegin",
                },
                forced:true,
                silent:true,
                filter:function(event,player){
        return get.subtype(event.card)=="equip1"
    },
                content:function (){
        "step 0"
        trigger.untrigger();
        trigger.finish();
        player.$equip(trigger.card);
        game.addVideo('equip',player,get.cardInfo(trigger.card));
        game.log(player,'è£…å¤‡äº†',trigger.card);
        "step 1"
        var info=get.info(trigger.card);
        if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
            var next=game.createEvent('equip_'+trigger.card.name);
            next.setContent(info.onEquip);
            next.player=player;
            next.trigger.card=trigger.card;
            game.delayx();
        }
        delete player.equiping;
        "step 2"
        if(player.countCards('e',{subtype:"equip1"})>2){player.chooseButton(['é€‰æ‹©ä¸€å¼ æ­¦å™¨ç‰Œå¼ƒç½®', player.getCards('e',{subtype:"equip1"})], 1,true)
        }
        "step 3"
        if(result.bool){player.discard(result.links)}
        "step 4"
        if(player.countCards('e',{subtype:"equip1"})>2) event.goto(2)
    },
                popup:false,
            },
            "DIY_tunjun2":{
                trigger:{
                    player:"equipBegin",
                },
                forced:true,
                silent:true,
                filter:function(event,player){
        return get.subtype(event.card)=="equip2"
    },
                content:function (){
        "step 0"
        trigger.untrigger();
        trigger.finish();
        player.$equip(trigger.card);
        game.addVideo('equip',player,get.cardInfo(trigger.card));
        game.log(player,'è£…å¤‡äº†',trigger.card);
        "step 1"
        var info=get.info(trigger.card);
        if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
            var next=game.createEvent('equip_'+trigger.card.name);
            next.setContent(info.onEquip);
            next.player=player;
            next.trigger.card=trigger.card;
            game.delayx();
        }
        delete player.equiping;
        "step 2"
        if(player.countCards('e',{subtype:"equip2"})>2){player.chooseButton(['é€‰æ‹©ä¸€å¼ é˜²å…·ç‰Œå¼ƒç½®', player.getCards('e',{subtype:"equip2"})], 1,true)
        }
        "step 3"
        if(result.bool){player.discard(result.links)}
        "step 4"
        if(player.countCards('e',{subtype:"equip2"})>2) event.goto(2)
    },
                popup:false,
            },
            "DIY_tunjun3":{
                trigger:{
                    player:"equipBegin",
                },
                forced:true,
                silent:true,
                filter:function(event,player){
        return get.subtype(event.card)=="equip3"
    },
                content:function (){
        "step 0"
        trigger.untrigger();
        trigger.finish();
        player.$equip(trigger.card);
        game.addVideo('equip',player,get.cardInfo(trigger.card));
        game.log(player,'è£…å¤‡äº†',trigger.card);
        "step 1"
        var info=get.info(trigger.card);
        if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
            var next=game.createEvent('equip_'+trigger.card.name);
            next.setContent(info.onEquip);
            next.player=player;
            next.trigger.card=trigger.card;
            game.delayx();
        }
        delete player.equiping;
        "step 2"
        if(player.countCards('e',{subtype:"equip3"})>2){player.chooseButton(['é€‰æ‹©ä¸€å¼ é˜²å¾¡é©¬å¼ƒç½®', player.getCards('e',{subtype:"equip3"})], 1,true)
        }
        "step 3"
        if(result.bool){player.discard(result.links)}
        "step 4"
        if(player.countCards('e',{subtype:"equip3"})>2) event.goto(2)
    },
                popup:false,
            },
            "DIY_tunjun4":{
                trigger:{
                    player:"equipBegin",
                },
                forced:true,
                silent:true,
                filter:function(event,player){
        return get.subtype(event.card)=="equip4"
    },
                content:function (){
        "step 0"
        trigger.untrigger();
        trigger.finish();
        player.$equip(trigger.card);
        game.addVideo('equip',player,get.cardInfo(trigger.card));
        game.log(player,'è£…å¤‡äº†',trigger.card);
        "step 1"
        var info=get.info(trigger.card);
        if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
            var next=game.createEvent('equip_'+trigger.card.name);
            next.setContent(info.onEquip);
            next.player=player;
            next.trigger.card=trigger.card;
            game.delayx();
        }
        delete player.equiping;
        "step 2"
        if(player.countCards('e',{subtype:"equip4"})>2){player.chooseButton(['é€‰æ‹©ä¸€å¼ é˜²å…·ç‰Œå¼ƒç½®', player.getCards('e',{subtype:"equip4"})], 1,true)
        }
        "step 3"
        if(result.bool){player.discard(result.links)}
        "step 4"
        if(player.countCards('e',{subtype:"equip4"})>2) event.goto(2)
    },
                popup:false,
            },
            "DIY_tunjun5":{
                trigger:{
                    player:"equipBegin",
                },
                forced:true,
                silent:true,
                filter:function(event,player){
        return get.subtype(event.card)=="equip5"
    },
                content:function (){
        "step 0"
        trigger.untrigger();
        trigger.finish();
        player.$equip(trigger.card);
        game.addVideo('equip',player,get.cardInfo(trigger.card));
        game.log(player,'è£…å¤‡äº†',trigger.card);
        "step 1"
        var info=get.info(trigger.card);
        if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
            var next=game.createEvent('equip_'+trigger.card.name);
            next.setContent(info.onEquip);
            next.player=player;
            next.trigger.card=trigger.card;
            game.delayx();
        }
        delete player.equiping;
        "step 2"
        if(player.countCards('e',{subtype:"equip5"})>2){player.chooseButton(['é€‰æ‹©ä¸€å¼ å®ç‰©ç‰Œå¼ƒç½®', player.getCards('e',{subtype:"equip5"})], 1,true)
        }
        "step 3"
        if(result.bool){player.discard(result.links)}
        "step 4"
        if(player.countCards('e',{subtype:"equip5"})>2) event.goto(2)
    },
                popup:false,
            },
            "DIY_tianxiang":{
                enable:"chooseToUse",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
        if(player.countCards('j')<1) return false;
        for(var name of lib.inpile){
            if(event.filterCard({name:name,isCard:true},player,event)) return true;
        }
        return false;
    },
                hiddenCard:function(player,name){
        return player.countCards('j')>0;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            for(var i=0;i<lib.inpile.length;i++){
                var name=lib.inpile[i];
                if(name=='sha'){
                    if(event.filterCard({name:name},player,event)) list.push(['åŸºæœ¬','','sha']);
                    for(var j of lib.inpile_nature){
                        if(event.filterCard({name:name,nature:j},player,event)) list.push(['åŸºæœ¬','','sha',j]);
                    }
                }
                else if(get.type2(name)=='trick'&&event.filterCard({name:name},player,event)) list.push(['é”¦å›Š','',name]);
                else if(get.type(name)=='basic'&&event.filterCard({name:name},player,event)) list.push(['åŸºæœ¬','',name]);
            }
            return ui.create.dialog('å›½è‰²',[list,'vcard']);
        },
                    filter:function(button,player){
            return _status.event.getParent().filterCard({name:button.link[2]},player,_status.event.getParent());
        },
                    check:function(button){
            var player=_status.event.player;
            if(player.countCards('hs',button.link[2])>0) return 0;
            if(button.link[2]=='wugu') return;
            var effect=player.getUseValue(button.link[2]);
            if(effect>0) return effect;
            return 0;
        },
                    backup:function(links,player){
            return {
                audio:'DIY_tianxiang',
                selectCard:1,
                position:'hes',
                filterCard:true,
                popname:true,
                check:function(card){
                    return 6-get.value(card);
                },
                viewAs:{name:links[0][2],nature:links[0][3]},
                onuse:function(result,player){
                    player.discardPlayerCard(player,'j',true);
                    player.logSkill("DIY_tianxiang_pass");
                },
            }
        },
                    prompt:function(links,player){
            return 'å°†ä¸€å¼ ç‰Œå½“åš'+(get.translation(links[0][3])||'')+get.translation(links[0][2])+'ä½¿ç”¨';
        },
                },
                ai:{
                    respondSha:true,
                    respondShan:true,
                    order:1,
                    result:{
                        player:1,
                    },
                },
                group:"DIY_tianxiang_pass",
                subSkill:{
                    pass:{
                        forced:true,
                        audio:"DIY_tianxiang",
                        trigger:{
                            player:"phaseJudgeBefore",
                        },
                        content:function(){
                            trigger.cancel();
                            game.log(player,'è·³è¿‡äº†åˆ¤å®šé˜¶æ®µ');
            },
                        sub:true,
                    },
                },
            },
            "DIY_liuli":{
                trigger:{
                    global:"useCardToTarget",
                },
                logTarget:"target",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                filter:function(event,player){
        return get.type(event.card)=='delay'&&!event.targets.contains(player)&&event.target.countCards('he')>0;
    },
                content:function(){
        'step 0'
        trigger.target.chooseCard('he','æ˜¯å¦å¯¹'+get.translation(player)+'å‘åŠ¨ã€æµç¦»ã€‘ï¼Ÿ','å¼ƒç½®ä¸€å¼ ç‰Œï¼Œå°†'+get.translation(trigger.card)+'è½¬ç§»ç»™'+get.translation(player)).set('ai',function(card){
            return get.unuseful(card)+9;
        });
        'step 1'
        if(result.bool){    
            player.logSkill('DIY_liuli',trigger.target);
            trigger.target.discard(result.cards);
            var evt=trigger.getParent();
            evt.triggeredTargets2.remove(trigger.target);
            evt.targets.remove(trigger.target);
            evt.targets.push(player);
        }
    },
            },
            "DIY_xingwu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"TLAoLogSkillAfter",
                },
                filter:function(event,player){
        if(event.player.name!='yin_suncezhouyu') return false;
        if(event.skill!="yindingjiang") return false;
        return true;
    },
                direct:true,
                content:function(){
        player.chooseToUse('æ˜Ÿèˆï¼šä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œ').logSkill='DIY_xingwu';
    },
            },
            "DIY_shoucheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filterTarget:function(card,player,target){
        return target.countCards('he')>0&&!target.hasSkill('DIY_shoucheng_mark');
    },
                content:function(){
                    player.discardPlayerCard(target,'he',true);
                    target.addTempSkill("DIY_shoucheng_mark",{player:'phaseEnd'});
                },
                subSkill:{
                    mark:{
                        marktext:"å®ˆæˆ",
                        mark:true,
                        intro:{
                            content:"å½“ä½ è·³è¿‡ä¸€ä¸ªé˜¶æ®µæ—¶ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸€ä¸ªåŒåé˜¶æ®µ<br>ï¼ˆæ¯å›åˆæ¯ç§é˜¶æ®µé™ä¸€æ¬¡ï¼‰",
                        },
                        group:["DIY_shoucheng_mark1","DIY_shoucheng_mark2","DIY_shoucheng_mark3","DIY_shoucheng_mark4"],
                        sub:true,
                    },
                    "mark1":{
                        usable:1,
                        trigger:{
                            player:["phaseJudgeSkipped","phaseJudgeCancelled"],
                        },
                        direct:true,
                        content:function(){
                        "step 0"
                        player.chooseBool('å®ˆæˆï¼šæ˜¯å¦æ‰§è¡Œä¸€ä¸ªåˆ¤å®šé˜¶æ®µ').ai=function(event,player){
                            return false;
                        };
                        "step 1"
                        if(result.bool){
                            var next=player.phaseJudge();
                            event.next.remove(next);
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_shoucheng")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_shoucheng',player);
                                    current.addSkill('DIY_shengxi2');
                                }
                            });
                            game.log(player,'æ‰§è¡Œäº†ä¸€ä¸ªåˆ¤å®šé˜¶æ®µ');
                            trigger.next.push(next);
                        }
                        },
                        sub:true,
                    },
                    "mark2":{
                        usable:1,
                        trigger:{
                            player:["phaseDrawSkipped","phaseDrawCancelled"],
                        },
                        direct:true,
                        content:function(){
                        "step 0"
                        player.chooseBool('å®ˆæˆï¼šæ˜¯å¦æ‰§è¡Œä¸€ä¸ªæ‘¸ç‰Œé˜¶æ®µ').ai=function(event,player){
                            return true;
                        };
                        "step 1"
                        if(result.bool){
                            var next=player.phaseDraw();
                            event.next.remove(next);
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_shoucheng")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_shoucheng',player);
                                    current.addSkill('DIY_shengxi2');
                                }
                            });
                            game.log(player,'æ‰§è¡Œäº†ä¸€ä¸ªæ‘¸ç‰Œé˜¶æ®µ');
                            trigger.next.push(next);
                        }
                        },
                        sub:true,
                    },
                    "mark3":{
                        usable:1,
                        trigger:{
                            player:["phaseUseSkipped","phaseUseCancelled"],
                        },
                        direct:true,
                        content:function(){
                        "step 0"
                        player.chooseBool('å®ˆæˆï¼šæ˜¯å¦æ‰§è¡Œä¸€ä¸ªå‡ºç‰Œé˜¶æ®µ').ai=function(event,player){
                            return true;
                        };
                        "step 1"
                        if(result.bool){
                            var next=player.phaseUse();
                            event.next.remove(next);
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_shoucheng")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_shoucheng',player);
                                    current.addSkill('DIY_shengxi2');
                                }
                            });
                            game.log(player,'æ‰§è¡Œäº†ä¸€ä¸ªå‡ºç‰Œé˜¶æ®µ');
                            trigger.next.push(next);
                        }
                        },
                        sub:true,
                    },
                    "mark4":{
                        usable:1,
                        trigger:{
                            player:["phaseDiscardSkipped","phaseDiscardCancelled"],
                        },
                        direct:true,
                        content:function(){
                        "step 0"
                        player.chooseBool('å®ˆæˆï¼šæ˜¯å¦æ‰§è¡Œä¸€ä¸ªå¼ƒç‰Œé˜¶æ®µ').ai=function(event,player){
                            return false;
                        };
                        "step 1"
                        if(result.bool){
                            var next=player.phaseDiscard();
                            event.next.remove(next);
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_shoucheng")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_shoucheng',player);
                                    current.addSkill('DIY_shengxi2');
                                }
                            });
                            game.log(player,'æ‰§è¡Œäº†ä¸€ä¸ªå¼ƒç‰Œé˜¶æ®µ');
                            trigger.next.push(next);
                        }
                        },
                        sub:true,
                    },
                },
                ai:{
                    order:12,
                    result:{
                        target:function(player,target){
                            if(target.hasJudge('lebu')||target.hasJudge('bingliang')) return 1;
                            if(target.hasSkill('spyinju2')||target.hasSkill('zhengjing2')||target.hasSkill('yizheng2')||target.hasSkill('yufeng2')||target.hasSkill('fangquan')||target.hasSkill('qiaobian')||target.hasSkill('DIY_qiaobian')||target.hasSkill('shensu')||target.hasSkill('DIY_shensu')||target.hasSkill('fenli')||target.hasSkill('DIY_fenli')||target.hasSkill('ol_fangquan')) return 1;
                            if(target.hasSkill('xinlirang')&&target.countMark('xinlirang')>0) return 1;
                            return -1;
                        },
                    },
                },
            },
            "DIY_zhenting":{
                trigger:{
                    global:["phaseJudgeBefore","phaseDrawBefore","phaseUseBefore","phaseDiscardBefore"],
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                filter:function(event,player){
        if(event.player==player) return true;
        if(event.player.hasSkill('DIY_shoucheng_mark')) return true;
        return false;
    },
                content:function(){
                    "step 0"
                    if(!trigger.player.storage[trigger.name]) trigger.player.storage[trigger.name]=0;
                    trigger.player.storage[trigger.name]++;
                    var num=trigger.player.storage[trigger.name];
                    if(num%2==0&&!player.getStorage('DIY_zhenting').contains(trigger.name)){
                        player.logSkill('DIY_zhenting');
                        if(trigger.name=="phaseJudge") game.log(player,'è®°å½•äº†åˆ¤å®šé˜¶æ®µ');
                        if(trigger.name=="phaseDraw") game.log(player,'è®°å½•äº†æ‘¸ç‰Œé˜¶æ®µ');
                        if(trigger.name=="phaseUse") game.log(player,'è®°å½•äº†å‡ºç‰Œé˜¶æ®µ');
                        if(trigger.name=="phaseDiscard") game.log(player,'è®°å½•äº†å¼ƒç‰Œé˜¶æ®µ');
                        player.markAuto('DIY_zhenting',[trigger.name]);
                    }
                },
                onremove:true,
                marktext:"é•‡åº­",
                intro:{
                    content:"$",
                },
                group:"DIY_zhenting_pass",
                subSkill:{
                    pass:{
                        trigger:{
                            global:"phaseBeginStart",
                        },
                        filter:function(event,player){
                            return player.getStorage('DIY_zhenting').length>0;
                        },
                        direct:true,
                        content:function(){
                            "step 0"
                            var list=[];
                            if(player.getStorage('DIY_zhenting').contains("phaseJudge")) list.push('åˆ¤å®š');
                            if(player.getStorage('DIY_zhenting').contains("phaseDraw")) list.push('æ‘¸ç‰Œ');
                            if(player.getStorage('DIY_zhenting').contains("phaseUse")) list.push('å‡ºç‰Œ');
                            if(player.getStorage('DIY_zhenting').contains("phaseDiscard")) list.push('å¼ƒç‰Œ');
                            list.push('cancel2');
                            player.chooseControl(list).set('prompt','é•‡åº­ï¼šè¯·é€‰æ‹©ä»¤'+get.translation(trigger.player)+'æ‰§è¡Œçš„é˜¶æ®µ').set('ai',function(){
                                var att=get.attitude(player,trigger.player);
                                if(att<0&&trigger.player.countCards('h')>trigger.player.hp) return 'å¼ƒç‰Œ';
                                if(att<0&&trigger.player.countCards('j')>0) return 'åˆ¤å®š';
                                if(att<0) return 'cancel2';
                                if(att>0&&!trigger.player.countCards('h')<trigger.player.hp) return 'å‡ºç‰Œ';
                                return 'æ‘¸ç‰Œ';
                            });
                            "step 1"
                            var target=trigger.player;
                            if(result.control!='cancel2') game.log(player,'ä»¤',target,'æ‰§è¡Œäº†ä¸€ä¸ª','#g'+result.control,'#gé˜¶æ®µ');
                            switch(result.control){
                                case 'åˆ¤å®š':
                                    next=trigger.player.phaseJudge();
                                    player.unmarkAuto('DIY_zhenting',["phaseJudge"]);
                                    event.next.remove(next);
                                    player.addSkill('DIY_shengxi2');
                                    player.logSkill('DIY_zhenting',trigger.player);
                                    trigger.next.push(next);
                                    break;
                                case 'æ‘¸ç‰Œ':
                                    next=trigger.player.phaseDraw();
                                    player.unmarkAuto('DIY_zhenting',["phaseDraw"]);
                                    event.next.remove(next);
                                    player.addSkill('DIY_shengxi2');
                                    player.logSkill('DIY_zhenting',trigger.player);
                                    trigger.next.push(next);
                                    break;
                                case 'å‡ºç‰Œ':
                                    next=trigger.player.phaseUse();
                                    player.unmarkAuto('DIY_zhenting',["phaseUse"]);
                                    event.next.remove(next);
                                    player.addSkill('DIY_shengxi2');
                                    player.logSkill('DIY_zhenting',trigger.player);
                                    trigger.next.push(next);
                                    break;
                                case 'å¼ƒç‰Œ':
                                    next=trigger.player.phaseDiscard();
                                    player.unmarkAuto('DIY_zhenting',["phaseDiscard"]);
                                    event.next.remove(next);
                                    player.addSkill('DIY_shengxi2');
                                    player.logSkill('DIY_zhenting',trigger.player);
                                    trigger.next.push(next);
                                    break;
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_shengxi":{
                trigger:{
                    global:"phaseUseEnd",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                content:function(){
                    "step 0"
                    if(player.hasSkill('DIY_shengxi2')||trigger.player.getHistory('sourceDamage').length) event.goto(3);
                    "step 1"
                    player.chooseBool('ç”Ÿæ¯ï¼šæ˜¯å¦ä»¤'+get.translation(trigger.player)+'æ‘¸ä¸€å¼ ç‰Œï¼Ÿ').ai=function(event,player){
                        if(get.attitude(player,trigger.player)>0) return true;
                        return false;
                    };
                    "step 2"
                    if(result.bool){
                        player.logSkill('DIY_shengxi',trigger.player);
                        trigger.player.draw();
                    }
                    "step 3"
                    player.removeSkill('DIY_shengxi2');
                },
            },
            "DIY_shengxi2":{
                mark:true,
                marktext:"ç”Ÿæ¯",
                intro:{
                    content:"æœ¬å›åˆã€–ç”Ÿæ¯ã€—å¤±æ•ˆ",
                },
            },
            "DIY_dongcha":{
                trigger:{
                    player:"judgeBegin",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(){
        return ui.cardPile.childNodes.length>0;
    },
                forced:true,
                content:function(){
        'step 0'
        var cards=get.cards();
        event.cards=cards;
        game.log(player,'è§‚çœ‹äº†ç‰Œå †é¡¶çš„'+get.cnNumber(cards.length)+'å¼ ç‰Œ');
        player.chooseControl('ok').set('dialog',['æ´å¯Ÿ',cards]);
        'step 1'
        while(cards.length){
            ui.cardPile.insertBefore(cards.pop(),ui.cardPile.firstChild);
        }
        game.updateRoundNumber();
        'step 2'
        player.chooseCard('he','å°†ä¸€å¼ ç‰Œç½®äºç‰Œå †é¡¶');
        'step 3'
        if(result&&result.cards){
            event.card=result.cards[0];
            player.lose(result.cards,ui.cardPile,'insert');
            game.log(player,'å°†',(get.position(event.card)=='h'?'ä¸€å¼ ç‰Œ':event.card),'ç½®äºç‰Œå †é¡¶');
            game.broadcastAll(function(player){
                var cardx=ui.create.card();
                cardx.classList.add('infohidden');
                cardx.classList.add('infoflip');
            },player);
            game.updateRoundNumber();
        }
    },
            },
            "DIY_yajun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"damageEnd",
                },
                derivation:"DIY_dongcha",
                direct:true,
                content:function(){
        'step 0'
        event.count=trigger.num;
        'step 1'
        player.chooseControl('é€‰é¡¹ä¸€','é€‰é¡¹äºŒ','cancel2').set('prompt','é›…ä¿Š<br><br><div class="text">é€‰é¡¹ä¸€:è·å¾—é€ æˆæ­¤ä¼¤å®³çš„ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œã€‚</div><br><div class="text">é€‰é¡¹äºŒ:æŒ‰ç…§ä½ é€‰æ‹©çš„åŒºåŸŸä¼˜å…ˆåº¦éšæœºè·å¾—æ¯åå…¶ä»–è§’è‰²åŒºåŸŸé‡Œçš„ä¸€å¼ ç‰Œï¼Œç„¶åç¿»é¢ã€‚</div></br>').set('ai',function(event,player){
            var num=game.countPlayer(function(current){
            if(current.countCards('he')&&current!=player&&get.attitude(player,current)<=0){
                return true;
            }
            if(current.countCards('j')&&current!=player&&get.attitude(player,current)>0){
                return true;
            }
            }); 
            if(num>2) return 'é€‰é¡¹äºŒ';
            return 'é€‰é¡¹ä¸€';
        });
        'step 2'
        if(result.control!='cancel2'){
            player.addTempSkill('DIY_dongcha',{player:"phaseBegin"});
            if(result.control=='é€‰é¡¹ä¸€'){
                event.goto(3);
            }
            else{
                event.goto(5);
            }
        }
        'step 3'
        player.logSkill('DIY_yajun');
        player.gain(trigger.cards);
        player.$gain2(trigger.cards);
        player.draw();
        event.count--;
        'step 4'
        if(event.count>0){
            event.goto(3);
        }
        else{
            event.goto(12);
        }
        'step 5'
        var targets=game.filterPlayer();
        targets.remove(player);
        targets.sort(lib.sort.seat);
        event.targets=targets;
        "step 6"
        event.num=0;
        player.logSkill('DIY_yajun');
        player.line(targets,'green');
        player.chooseControl('æ‰‹ç‰ŒåŒº','è£…å¤‡åŒº','åˆ¤å®šåŒº').set('ai',function(){
            if(game.hasPlayer(function(current){
                return current.countCards('j')&&current!=player&&get.attitude(player,current)>0;
            })) return 2;
            return Math.floor(Math.random()*3);
        }).set('prompt','è¯·é€‰æ‹©ä¼˜å…ˆè·å¾—çš„åŒºåŸŸ');
        "step 7"
        event.range={
            æ‰‹ç‰ŒåŒº:['h','e','j'],
            è£…å¤‡åŒº:['e','h','j'],
            åˆ¤å®šåŒº:['j','h','e'],
        }[result.control||'æ‰‹ç‰ŒåŒº'];
        "step 8"
        if(num<event.targets.length){
            var target=event.targets[num];
            var range=event.range;
            for(var i=0;i<range.length;i++){
                var cards=target.getCards(range[i]);
                if(cards.length){
                    var card=cards.randomGet();
                    player.gain(card,target,'giveAuto','bySelf');
                    break;
                }
            }
            event.num++;
        }
        "step 9"
        if(num<event.targets.length) event.goto(8);
        "step 10"
        player.turnOver();
        "step 11"
        event.count--;
        if(event.count){
            event.goto(5);
        }
        'step 12'
        game.delay();
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    effect:{
                        target:function(card,player,target){
                if(player.hasSkillTag('jueqing',false,target)) return [1,-1];
                if(get.tag(card,'damage')) return [1,0.55];
            },
                    },
                },
            },
            "DIY_guijian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"damageEnd",
                },
                filter:function(event,player){
        return event.player!=player&&event.player.isAlive();
    },
                check:function(event,player){
        return get.attitude(player,event.player)>0;
    },
                content:function(){
                    'step 0'
                    player.judge(function(card){
                        if(trigger.player.hp==trigger.player.maxHp){
                            if(get.color(card)=='red') return -1;
                        }
                        if(get.color(card)=='red') return 1;
                        return 0;
                    });
                    'step 1'
                    if(result.color){
                        if(result.color=='red'){
                            if(trigger.player.hp<trigger.player.maxHp) trigger.player.recover();
                            event.goto(3);
                        }
                        else{
                            player.draw();
                            player.chooseCard('he',true,'é€‰æ‹©äº¤ç»™'+get.translation(trigger.player)+'ä¸€å¼ ç‰Œ');
                        }
                    }
                    'step 2'
                    if(result.bool&&result.cards&&result.cards.length) trigger.player.gain(result.cards,player,'giveAuto');
                    'step 3'
                    event.finish();
                },
            },
            "DIY_tiansuan":{
                audio:"tiansuan",
                trigger:{
                    global:"gameDrawAfter",
                    player:"phaseBegin",
                },
                forced:true,
                filter:function(event,player){
                    return !game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_1');
                    })||!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_2');
                    })||!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_3');
                    })||!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_4');
                    })||!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_5');
                    });
                },
                content:function(){
                    player.removeSkill('DIY_tiansuan_1');
                    player.removeSkill('DIY_tiansuan_2');
                    player.removeSkill('DIY_tiansuan_5');
                    player.removeSkill('DIY_tiansuan_3');
                    player.removeSkill('DIY_tiansuan_4');
                    if(!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_1');
                    })) player.addSkill('DIY_tiansuan_1');
                    if(!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_2');
                    })) player.addSkill('DIY_tiansuan_2');
                    if(!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_5');
                    })) player.addSkill('DIY_tiansuan_5');
                    if(!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_3');
                    })) player.addSkill('DIY_tiansuan_3');
                    if(!game.hasPlayer(function(current){
                    return current.hasSkill('DIY_tiansuan_4');
                    })) player.addSkill('DIY_tiansuan_4');
                },
                group:"DIY_tiansuan_6",
                subSkill:{
                    "1":{
                        charlotte:true,
                        mark:true,
                        marktext:"ä¸‹ä¸‹ç­¾",
                        intro:{
                            name:"ä¸‹ä¸‹ç­¾",
                            content:"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ ä»¤æ­¤ä¼¤å®³+1ã€‚ä½ ä¸èƒ½ä½¿ç”¨ã€é…’ã€‘æˆ–ã€æ¡ƒã€‘ã€‚<br>ï¼ˆè‹¥ä½ æœ‰ã€–å¤©ç®—ã€—æ­¤ç­¾æ— æ•ˆï¼‰",
                        },
                        trigger:{
                            player:"damageBegin1",
                        },
                        filter:function(event,player){
                            return !player.hasSkill('DIY_tiansuan');
                        },
                        direct:true,
                        forced:true,
                        mod:{
                            cardEnabled:function(card,player){
                                if(!player.hasSkill('DIY_tiansuan')&&(card.name=='tao'||card.name=='jiu')) return false;
                            },
                            cardSavable:function(card,player){
                                if(!player.hasSkill('DIY_tiansuan')&&(card.name=='tao'||card.name=='jiu')) return false;
                            },
                        },
                        content:function(){
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_tiansuan")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_tiansuan',player);
                                }
                            });
                            player.popup('ä¸‹ä¸‹ç­¾');
                            trigger.num++;
                        },
                        aiCheck:function(target){
                            if(target.hasSkill('DIY_tiansuan_1')) return 0;
                            var player=_status.event.player;
                            var att=get.attitude(player,target);
                            return -att/Math.sqrt(Math.max(1,target.hp));
                        },
                        ai:{
                            effect:{
                                target:function(card,player,target,current){
                                    if(get.tag(card,'damage')&&!player.hasSkillTag('jueqing',false,target)) return 1.3;
                                },
                            },
                        },
                        sub:true,
                    },
                    "2":{
                        charlotte:true,
                        mark:true,
                        marktext:"ä¸‹ç­¾",
                        intro:{
                            name:"ä¸‹ç­¾",
                            content:"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ ä»¤æ­¤ä¼¤å®³+1ã€‚",
                        },
                        trigger:{
                            player:"damageBegin2",
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_tiansuan")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_tiansuan',player);
                                }
                            });
                            player.popup('ä¸‹ç­¾');
                            trigger.num++;
                        },
                        aiCheck:function(target){
                            if(target.hasSkill('DIY_tiansuan_2')) return 0;
                            var player=_status.event.player;
                            var att=get.attitude(player,target);
                            return -att/Math.sqrt(Math.max(1,target.hp));
                        },
                        ai:{
                            effect:{
                                target:function(card,player,target,current){
                                    if(get.tag(card,'damage')&&!player.hasSkillTag('jueqing',false,target)) return 1.3;
                                },
                            },
                        },
                        sub:true,
                    },
                    "3":{
                        charlotte:true,
                        mark:true,
                        marktext:"ä¸Šç­¾",
                        intro:{
                            name:"ä¸Šç­¾",
                            content:"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå¹¶ä»¤æ­¤ä¼¤å®³å€¼æ”¹ä¸º1ã€‚",
                        },
                        trigger:{
                            player:"damageBegin3",
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_tiansuan")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_tiansuan',player);
                                }
                            });
                            player.popup('ä¸Šç­¾');
                            trigger.num=1;
                            player.draw();
                        },
                        aiCheck:function(target){
                            if(target.hasSkill('DIY_tiansuan_3')) return 0;
                            var player=_status.event.player;
                            var att=get.attitude(player,target);
                            if(target.countCards('e',function(card){
                                return get.value(card,target)<=0;
                            })) att*=2;
                            if(target.hp==1) return att/2;
                            return att/Math.sqrt(Math.max(1,target.hp));
                        },
                        ai:{
                            filterDamage:true,
                            skillTagFilter:function(player,tag,arg){
                                if(arg&&arg.player){
                                    if(arg.player.hasSkillTag('jueqing',false,player)) return false;
                                }
                            },
                            effect:{
                                target:function(card,player,target,current){
                                    if(target&&target.hp>1&&get.tag(card,'damage')&&!player.hasSkillTag('jueqing',false,target)) return 0.8;
                                },
                            },
                        },
                        sub:true,
                    },
                    "4":{
                        charlotte:true,
                        mark:true,
                        marktext:"ä¸Šä¸Šç­¾",
                        intro:{
                            name:"ä¸Šä¸Šç­¾",
                            content:"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œé˜²æ­¢æ­¤ä¼¤å®³ã€‚<br>ï¼ˆè‹¥ä½ æœ‰ã€–å¤©ç®—ã€—æ­¤ç­¾æ— æ•ˆï¼‰",
                        },
                        trigger:{
                            player:"damageBegin4",
                        },
                        filter:function(event,player){
                            return !player.hasSkill('DIY_tiansuan');
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_tiansuan")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_tiansuan',player);
                                }
                            });
                            player.popup('ä¸Šä¸Šç­¾');
                            trigger.cancel();
                        },
                        aiCheck:function(target){
                            if(target.hasSkill('DIY_tiansuan_4')) return 0;
                            var player=_status.event.player;
                            var att=get.attitude(player,target);
                            if(target.countCards('e',function(card){
                                return get.value(card,target)<=0;
                            })) att*=2;
                            return att/Math.sqrt(Math.max(1,target.hp));
                        },
                        ai:{
                            effect:{
                                target:function(card,player,target,current){
                                    if(get.tag(card,'damage')&&!player.hasSkillTag('jueqing',false,target)) return 'zerotarget';
                                },
                            },
                        },
                        sub:true,
                    },
                    "5":{
                        charlotte:true,
                        mark:true,
                        marktext:"ä¸­ç­¾",
                        intro:{
                            name:"ä¸­ç­¾",
                            content:"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ ä»¤ä¼¤å®³å±æ€§æ”¹ä¸ºç«å±æ€§å¹¶å°†ä¼¤å®³å€¼æ”¹ä¸º1ã€‚",
                        },
                        trigger:{
                            player:"damageBegin",
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_tiansuan")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_tiansuan',player);
                                }
                            });
                            player.popup('ä¸­ç­¾');
                            trigger.num=1;
                            trigger.nature='fire';
                        },
                        aiCheck:function(target){
                            if(target.hasSkill('DIY_tiansuan_5')) return 0;
                            var player=_status.event.player;
                            var att=get.attitude(player,target);
                            if(target.countCards('e',function(card){
                                return get.value(card,target)<=0;
                            })) att*=2;
                            if(target.hp==1) return att/2;
                            return att/Math.sqrt(Math.max(1,target.hp));
                        },
                        sub:true,
                    },
                    "6":{
                        enable:"phaseUse",
                        audio:"tiansuan",
                        filter:function(event,player){
                            return player.hasSkill('DIY_tiansuan_1')||player.hasSkill('DIY_tiansuan_2')||player.hasSkill('DIY_tiansuan_3')||player.hasSkill('DIY_tiansuan_4')||player.hasSkill('DIY_tiansuan_5');
                        },
                        filterTarget:function (card,player,target){
                            if(target.hasSkill('DIY_tiansuan_1')) return false;
                            if(target.hasSkill('DIY_tiansuan_2')) return false;
                            if(target.hasSkill('DIY_tiansuan_3')) return false;
                            if(target.hasSkill('DIY_tiansuan_4')) return false;
                            if(target.hasSkill('DIY_tiansuan_5')) return false;
                            return player!=target;
                        },
                        content:function(){
                            'step 0'
                            var list=[];
                            if(player.hasSkill('DIY_tiansuan_1')) list.push('ä¸‹ä¸‹ç­¾');
                            if(player.hasSkill('DIY_tiansuan_2')) list.push('ä¸‹ç­¾');
                            if(player.hasSkill('DIY_tiansuan_5')) list.push('ä¸­ç­¾');
                            if(player.hasSkill('DIY_tiansuan_3')) list.push('ä¸Šç­¾');
                            if(player.hasSkill('DIY_tiansuan_4')) list.push('ä¸Šä¸Šç­¾');
                            player.chooseControl(list).set('ai',function(){
                                var att=get.attitude(player,target);
                                if(att>0&&target.hp<3) return 'ä¸Šä¸Šç­¾';
                                if(att>0) return 'ä¸Šç­¾';
                                if(att<0&&target.hp<3) return 'ä¸‹ä¸‹ç­¾';
                                if(att<0) return 'ä¸‹ç­¾';
                                return 'ä¸­ç­¾';
                            });
                            'step 1'
                            game.log(player,'å°†','#gã€'+result.control+'ã€‘','ç§»ç»™äº†',target);
                            switch(result.control){
                                case 'ä¸‹ä¸‹ç­¾':
                                    player.say(["æ­¤ç­¾åŠ ä¹‹ä¸ä½ ï¼Œå®šæœ‰æ‰€ä¼¤"].randomGet());
                                    player.removeSkill('DIY_tiansuan_1');
                                    target.addTempSkill('DIY_tiansuan_1',{player:'phaseUseBegin'});
                                    break;
                                case 'ä¸‹ç­¾':
                                    player.say(["æ­¤ç­¾åŠ ä¹‹ä¸ä½ ï¼Œå®šæœ‰æ‰€ä¼¤","è¿™å°±æ˜¯ï¼Œä½ ä»¬è¦ç»å†çš„ä¸‹ç­¾åœ°ç‹±ï¼"].randomGet());
                                    player.removeSkill('DIY_tiansuan_2');
                                    target.addTempSkill('DIY_tiansuan_2',{player:'phaseUseBegin'});
                                    break;
                                case 'ä¸Šç­¾':
                                    player.removeSkill('DIY_tiansuan_3');
                                    target.addTempSkill('DIY_tiansuan_3',{player:'phaseUseBegin'});
                                    break;
                                case 'ä¸Šä¸Šç­¾':
                                    player.say(["æ­¤ä¹ƒå®Œå…¨ä¹‹ç­¾ï¼Œä¸æƒ§å¤©é›·"].randomGet());
                                    player.removeSkill('DIY_tiansuan_4');
                                    target.addTempSkill('DIY_tiansuan_4',{player:'phaseUseBegin'});
                                    break;
                                case 'ä¸­ç­¾':
                                    player.removeSkill('DIY_tiansuan_5');
                                    target.addTempSkill('DIY_tiansuan_5',{player:'phaseUseBegin'});
                                    break;
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_tuxi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    player:"drawBegin",
                },
                forced:true,
                direct:true,
                filter:function(event,player){
        return event.num>0&&game.hasPlayer(function(target){
            return target.countCards('he')>0&&player!=target;
        });
    },
                content:function (){
        "step 0"
        player.chooseTarget(get.prompt('DIY_tuxi'),'è·å¾—è‡³å¤š'+get.translation(trigger.num)+'åè§’è‰²çš„å„ä¸€å¼ ç‰Œï¼Œç„¶åå°‘æ‘¸ç­‰é‡çš„ç‰Œ',[1,trigger.num],function(card,player,target){
            return target.countCards('he')>0&&player!=target;
        },function(target){
            var att=get.attitude(_status.event.player,target);
            if(target.hasSkill('tuntian')) return att/10;
            return 1-att;
        }).setHiddenSkill('DIY_tuxi');
        "step 1"
        if(result.bool){
            player.logSkill('DIY_tuxi',result.targets);
            player.line(result.targets,'green');
            event.targets=result.targets;
            event.targets.sort(lib.sort.seat);
            trigger.num-=result.targets.length;
        }
        else{
            event.finish();
        }
        "step 2"
        if(player.isAlive()&&event.targets.length){
            player.gainPlayerCard(event.targets.shift(),'he',true);
        }
        else event.finish();
        'step 3'
        if(event.targets.length) event.goto(2);
        'step 4'
        if(trigger.num<=0) trigger.cancel();
    },
                ai:{
                    threaten:1.6,
                    expose:0.2,
                },
            },
            "DIY_powei":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    target:"useCardToTarget",
                },
                marktext:"å›´",
                intro:{
                    name:"ç ´å›´(å›´)",
                    "name2":"å›´",
                    content:"mark",
                },
                forced:true,
                filter:function(event,player){
        if(event.targets.length!=1) return false;
        return event.player!=player&&!event.player.hasMark("DIY_powei");
    },
                content:function(){
                    trigger.player.addMark('DIY_powei',1,false);
                },
                group:"DIY_powei_use",
                mod:{
                    targetInRange:function(card,player,target){
                        if(target.hasMark('DIY_powei')) return true;
                    },
                    cardUsableTarget:function(card,player,target){
                        if(target.hasMark('DIY_powei')) return true;
                    },
                },
                ai:{
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
                        return arg&&arg.target&&arg.target.hasMark('DIY_powei')
                    },
                },
                subSkill:{
                    use:{
                        audio:"DIY_powei",
                        trigger:{
                            player:"useCardToTargeted",
                        },
                        forced:true,
                        filter:function(event,player){
                            if(event.targets.length!=1) return false;
                            return event.target.hasMark('DIY_powei');
                        },
                        content:function(){
                            player.draw();
                        },
                        sub:true,
                    },
                },
            },
            "DIY_xuanfeng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["loseAfter","phaseDiscardEnd"],
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                },
                direct:true,
                filter:function(event,player){
        if(!game.hasPlayer(function(current){
            return current!=player&&current.countCards('he')>0;
        })) return false;
        if(event.name=='phaseDiscard'){
            var cards=[];
            player.getHistory('lose',function(evt){
                if(evt&&evt.type=='discard'&&evt.getParent('phaseDiscard')==event&&evt.hs) cards.addArray(evt.hs);
            });
            return cards.length>1;
        }
        var evt=event.getl(player);
        return evt&&evt.es&&evt.es.length>0;
    },
                content:function(){
        'step 0'
        var list=['å¼ƒç½®è‡³å¤šä¸¤åå…¶ä»–è§’è‰²çš„åˆè®¡ä¸¤å¼ ç‰Œ'];
        if(lib.skill.DIY_xuanfeng.canMoveCard(player)) list.push('ç§»åŠ¨åœºä¸Šçš„ä¸€å¼ è£…å¤‡ç‰Œ');
        player.chooseControl('cancel2').set('choiceList',list).set('prompt',get.prompt('DIY_xuanfeng')).set('ai',function(){
            if(lib.skill.DIY_xuanfeng.canMoveCard(player,true)) return 1;
            return 0;
        });
        'step 1'
        if(result.control!='cancel2'){
            player.logSkill('DIY_xuanfeng');
            if(result.index==1) event.goto(5);
            else event.count=2;
        }
        else event.goto(10);
        'step 2'
        player.chooseTarget('å¼ƒç½®ä¸€åå…¶ä»–è§’è‰²çš„ä¸€å¼ ç‰Œ',function(card,player,target){
            if(player==target) return false;
            return target.countDiscardableCards(player,'he');
        }).set('ai',function(target){
            return -get.attitude(_status.event.player,target);
        });
        'step 3'
        if(result.bool){
            player.line(result.targets[0],'green');
            player.discardPlayerCard(result.targets[0],'he',true);
            event.count--;
        }
        else event.goto(10);
        'step 4'
        if(event.count) event.goto(2);
        else event.goto(10);
        'step 5'
        var next=player.chooseTarget(2,function(card,player,target){
            if(ui.selected.targets.length){
                var from=ui.selected.targets[0];
                if(target.isMin()) return false;
                var es=from.getCards('e');
                for(var i=0;i<es.length;i++){
                    if(target.isEmpty(get.subtype(es[i]))) return true;
                }
                return false;
            }
            else{
                return target.countCards('e')>0;
            }
        });
        next.set('ai',function(target){
            var player=_status.event.player;
            var att=get.attitude(player,target);
            var sgnatt=get.sgn(att);
            if(ui.selected.targets.length==0){
                if(att>0){
                    if(target.countCards('e',function(card){
                        return get.value(card,target)<0&&game.hasPlayer(function(current){
                            return current!=player&&current!=target&&get.attitude(player,current)<0&&current.isEmpty(get.subtype(card))&&get.effect(current,card,player,player)>0;
                        });
                    })>0) return 9;
                }
                else if(att<0){
                    if(game.hasPlayer(function(current){
                        if(current!=target&&current!=player&&get.attitude(player,current)>0){
                            var es=target.getCards('e');
                            for(var i=0;i<es.length;i++){
                                if(get.value(es[i],target)>0&&current.isEmpty(get.subtype(es[i]))&&get.effect(current,es[i],player,player)>0) return true;
                            }
                        }
                    })){
                        return -att;
                    }
                }
                return 0;
            }
            var es=ui.selected.targets[0].getCards('e');
            var i;
            var att2=get.sgn(get.attitude(player,ui.selected.targets[0]));
            for(i=0;i<es.length;i++){
                if(sgnatt!=0&&att2!=0&&sgnatt!=att2&&
                    get.sgn(get.value(es[i],ui.selected.targets[0]))==-att2&&
                    get.sgn(get.value(es[i],target))==sgnatt&&
                    target.isEmpty(get.subtype(es[i]))){
                    return Math.abs(att);
                }
            }
            if(i==es.length){
                return 0;
            }
            return -att*get.attitude(player,ui.selected.targets[0]);
        });
        next.set('multitarget',true);
        next.set('targetprompt',['è¢«ç§»èµ°','ç§»åŠ¨ç›®æ ‡']);
        next.set('prompt',event.prompt||'ç§»åŠ¨åœºä¸Šçš„ä¸€å¼ è£…å¤‡ç‰Œ');
        next.set('forced',true);
        'step 6'
        if(result.bool){
            player.line2(result.targets,'green');
            event.targets=result.targets;
        }
        else{
            event.goto(10);
        }
        'step 7'
        game.delay();
        'step 8'
        if(targets.length==2){
            player.choosePlayerCard('e',true,function(button){
                var player=_status.event.player;
                var targets0=_status.event.targets0;
                var targets1=_status.event.targets1;
                if(get.attitude(player,targets0)>get.attitude(player,targets1)){
                    if(get.value(button.link,targets0)<0) return get.effect(targets1,button.link,player,player);
                    return 0;
                }
                else{
                    return get.value(button.link,targets0)*get.effect(targets1,button.link,player,player);
                }
            },targets[0]).set('targets0',targets[0]).set('targets1',targets[1]).set('filterButton',function(button){
                var targets1=_status.event.targets1;
                return targets1.isEmpty(get.subtype(button.link));
            });
        }
        else{
            event.goto(10);
        }
        'step 9'
        if(result.bool&&result.links.length){
            var link=result.links[0];
            event.targets[1].equip(link);
            event.targets[0].$give(link,event.targets[1])
            game.delay();
            event.result={bool:true};
        }
        'step 10'
        player.chooseTarget(get.prompt('DIY_xuanfeng'),function(card,player,target){
            if(target==player) return false;
            return get.distance(player,target)<=1||player.canUse('sha',target,false);
        }).set('ai',function(target){
            if(get.distance(player,target)<=1){
                return get.damageEffect(target,player,player)*2;
            }
            else{
                return get.effect(target,{name:'sha'},player,player);
            }
        });
        'step 11'
        if(result.bool){
            player.logSkill('DIY_xuanfeng',result.targets);
            var target=result.targets[0];
            var distance=get.distance(player,target);
            if(distance<=1&&player.canUse('sha',target,false)){
                player.chooseControl('å‡ºæ€','é€ æˆä¼¤å®³').ai=function(){
                    return 'é€ æˆä¼¤å®³';
                }
                event.target=target;
            }
            else if(distance<=1){
                target.damage();
                event.finish();
            }
            else{
                player.useCard({name:'sha',isCard:true},target,false).animate=false;
                game.delay();
                event.finish();
            }
        }
        else{
            event.finish();
        }
        "step 12"
        var target=event.target;
        if(result.control=='å‡ºæ€'){
            player.useCard({name:'sha',isCard:true},target,false).animate=false;
            game.delay();
        }
        else{
            target.damage();
        }
    },
                canMoveCard:function(player,withatt){
        return game.hasPlayer(function(current){
            var att=get.sgn(get.attitude(player,current));
            if(!withatt||att!=0){
                var es=current.getCards('e');
                for(var i=0;i<es.length;i++){
                    if(game.hasPlayer(function(current2){
                        if(player==current2) return false;
                        if(withatt){
                            if(get.sgn(get.value(es[i],current))!=-att) return false;
                            var att2=get.sgn(get.attitude(player,current2));
                            if(att==att2||att2!=get.sgn(get.value(es[i],current2))) return false;
                        }
                        return current!=current2&&!current2.isMin()&&current2.isEmpty(get.subtype(es[i]));
                    })){
                        return true;
                    }
                }
            }
        });
    },
                ai:{
                    effect:{
                        target:function(card,player,target,current){
                if(get.type(card)=='equip'&&!get.cardtag(card,'gifts')) return [1,3];
            },
                    },
                    reverseEquip:true,
                    noe:true,
                },
            },
            "DIY_yongjin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                unique:true,
                trigger:{
                    player:"gainAfter",
                },
                direct:true,
                filter:function(event,player){
        if(event.parent.parent.name=='phaseDraw') return false;
        return event.cards&&event.cards.length>0&&player.countCards('h',{type:['equip']});
    },
                content:function(){
        player.chooseToUse({type:'equip'},'å‹‡è¿›ï¼šä½¿ç”¨ä¸€å¼ è£…å¤‡ç‰Œ').logSkill='DIY_yongjin';
    },
                ai:{
                    expose:0.3,
                },
            },
            "DIY_shicai":{
                mod:{
                    aiOrder:function(player,card,num){
                        if(player.storage.DIY_shicai==card) return num+999;
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
        if(player.hasSkill('DIY_shicai_used')) return false;
        var hs=player.getCards('h');
        for(var i=0;i<hs.length;i++){
            if(hs[i].hasGaintag('DIY_shicai')) return false;
        }
        return true;
    },
                forced:true,
                direct:true,
                onremove:true,
                mark:true,
                intro:{
                    mark:function(dialog,content,player){
            if(player!=game.me) return get.translation(player)+'è§‚çœ‹ç‰Œå †ä¸­...';
            if(get.itemtype(_status.pileTop)!='card') return 'ç‰Œå †é¡¶æ— ç‰Œ';
            var cards=[];
            for(var i=0;i<3;i++){
                var card=ui.cardPile.childNodes[i];
                if(card) cards.push(card);
                else break;
            }
            dialog.add(cards);
        },
                },
                check:function(card){
        var player=_status.event.player;
        var cards=get.cards(3);
        var val1=player.getUseValue(cards[0],null,true);
        var val2=player.getUseValue(cards[1],null,true);
        var val3=player.getUseValue(cards[2],null,true);
        if(!val1&&!val2&&!val3) return -1;
        return val1>0||val2>0||val3>0;
    },
                content:function(){
        'step 0'
        var cards=get.cards(3);
        player.chooseButton(['æƒæ‰ï¼šé€‰æ‹©è·å¾—ä¸€å¼ ç‰Œ',cards.slice(0)]).set('ai',function(button){
            return game.hasPlayer(function(current){
                return _status.event.player.canUse(button.link,current,null,true);
            })&&player.getUseValue(button.link,null,true);
        });
        while(cards.length){
            ui.cardPile.insertBefore(cards.pop(),ui.cardPile.firstChild);
        }
        'step 1'
        if(result.bool){
            player.logSkill('DIY_shicai');
            player.gain(result.links,'gain2').gaintag.add('DIY_shicai');
            player.storage.DIY_shicai=result.links[0];
        }
        else{
            player.addTempSkill('DIY_shicai_used');
        }
        'step 2'
        game.updateRoundNumber();
    },
                subSkill:{
                    used:{
                        trigger:{
                            player:["useCard2","respond"],
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            player.removeSkill('DIY_shicai_used');
                        },
                        sub:true,
                    },
                },
                ai:{
                    order:11,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_cunmu":{
                trigger:{
                    player:["phaseBegin","useCard"],
                },
                forced:true,
                locked:false,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                content:function(){
        'step 0'
        var cards=get.bottomCards(3);
        player.chooseButton(['å¯¸ç›®ï¼šé€‰æ‹©ç½®äºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œ',cards.slice(0)]).set('ai',function(button){
            if(_status.event.player==_status.currentPhase) return game.hasPlayer(function(current){
                return _status.event.player.canUse(button.link,current,null,true);
            })&&player.getUseValue(button.link,null,true);
            return get.value(button.link,_status.event.player);
        });
        while(cards.length){
            ui.cardPile.appendChild(cards.pop(),ui.cardPile.firstChild);
        }
        'step 1'
        if(result.bool){
            ui.cardPile.insertBefore(result.links[0],ui.cardPile.firstChild);
        }
        game.updateRoundNumber();
    },
            },
            "DIY_chenglve":{
                mark:true,
                locked:true,
                zhuanhuanji:true,
                marktext:"æˆ",
                intro:{
                    content:function(storage,player,skill){
            var str=player.storage.DIY_chenglve?'é”å®šæŠ€ï¼Œæ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ”¾å¼ƒæ‘¸ç‰Œï¼Œæ”¹ä¸ºæ‘¸ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®ä¸€å¼ æ‰‹ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œç›´åˆ°æœ¬å›åˆç»“æŸï¼Œä½ ä½¿ç”¨ä¸å¼ƒç½®ç‰ŒèŠ±è‰²ç›¸åŒçš„ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶':'é”å®šæŠ€ï¼Œæ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ”¾å¼ƒæ‘¸ç‰Œï¼Œæ”¹ä¸ºæ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®ä¸¤å¼ æ‰‹ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œç›´åˆ°æœ¬å›åˆç»“æŸï¼Œä½ ä½¿ç”¨ä¸å¼ƒç½®ç‰ŒèŠ±è‰²ç›¸åŒçš„ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶';
            if(player.storage.DIY_chenglve1){
                str+='<br><li>å½“å‰èŠ±è‰²ï¼š';
                str+=get.translation(player.storage.DIY_chenglve1);
            }
            return str;
        },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                forced:true,
                content:function(){
        'step 0'
        trigger.cancel(null,null,'notrigger');
        if(player.storage.DIY_chenglve==true){
            player.storage.DIY_chenglve=false;
            player.draw(2);
            player.chooseToDiscard('h',true);
        }
        else{
            player.storage.DIY_chenglve=true;
            player.draw();
            player.chooseToDiscard('h',2,true);
        }
        'step 1'
        if(result.bool){
            player.storage.DIY_chenglve1=[];
            for(var i=0;i<result.cards.length;i++){
                player.storage.DIY_chenglve1.add(get.suit(result.cards[i],player));
            }
            player.markSkill('DIY_chenglve');
            player.addTempSkill('DIY_chenglve_1');
        }
    },
                subSkill:{
                    "1":{
                        mod:{
                            cardUsable:function(card,player){
                                var cards=player.storage.DIY_chenglve1;
                                for(var i=0;i<cards.length;i++){
                                    if(cards[i]==get.suit(card)) return Infinity;
                                };
                            },
                            targetInRange:function(card,player){
                                var cards=player.storage.DIY_chenglve1;
                                for(var i=0;i<cards.length;i++){
                                    if(cards[i]==get.suit(card)) return true;
                                };
                            },
                        },
                        onremove:true,
                        sub:true,
                    },
                },
                ai:{
                    fireAttack:true,
                    halfneg:true,
                    threaten:1.05,
                },
            },
            "DIY_panshi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                direct:true,
                filter:function(event,player){
        if(!game.hasPlayer(function(current){
            return current.hasSkill('DIY_cixiao');
        })) return true;
        return player.countCards('he')>=1;
    },
                content:function(){
        'step 0'
        if(game.hasPlayer(function(current){
            return current.hasSkill('DIY_cixiao');
        })) event.goto(2);
        else player.chooseTarget(lib.filter.notMe,get.prompt('DIY_panshi'),'ä»¤ä¸€åå…¶ä»–è§’è‰²è·å¾—ã€Œä¹‰çˆ¶ã€æ ‡è®°').set('ai',function(target){
            var player=_status.event.player;
            var att=-get.attitude(player,target);
            return att*target.countCards('h');
        });
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_panshi',target);
            target.addSkill('DIY_cixiao');
        }
        event.finish();
        'step 2'
        var list=game.filterPlayer(function(current){
            return current.hasSkill('DIY_cixiao');
        });
        player.chooseCard({
            prompt:get.prompt('DIY_panshi'),
            prompt2:('å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹'+get.translation(list)+'é€ æˆ1ç‚¹ä¼¤å®³ï¼Œç„¶åä½ å¯ä»¥ç§»åŠ¨ã€Œä¹‰çˆ¶ã€æ ‡è®°'),
            position:'he',
            filterCard:lib.filter.cardDiscardable,
            ai1:function(card){
                if(_status.event.goon) return 5-get.value(card);
                return 0;
            },
            ai2:function(target){
                var player=_status.event.player;
                var att=-get.attitude(player,target);
                return att*target.countCards('h');
            },
            goon:function(target){
                var att=-get.attitude(player,target);
                return att*target.countCards('h')<=0;
            }(list[0]),
        });
        'step 3'
        if(result.bool){
            var list=game.filterPlayer(function(current){
                return current.hasSkill('DIY_cixiao');
            });
            player.logSkill('DIY_panshi_damage');
            player.discard(result.cards).delay=false;
            player.line2(game.filterPlayer(function(current){
                if(current.hasSkill('DIY_cixiao')){
                    current.damage();
                    return true;
                }
            }));
            var list=game.filterPlayer(function(current){
                return current.hasSkill('DIY_cixiao');
            });
            player.chooseTarget(lib.filter.notMe,get.prompt('DIY_panshi'),'ä½ å¯ä»¥ç§»åŠ¨ã€Œä¹‰çˆ¶ã€æ ‡è®°',function(card,player,target){
                return !target.hasSkill('DIY_cixiao');
            }).set('ai',function(target){
            var player=_status.event.player;
            var att=-get.attitude(player,target);
            return att*target.countCards('h');
            });
        }
        else event.goto(5);
        'step 4'
        if(result.bool){
            player.logSkill('DIY_panshi');
            var target=result.targets[0];
            player.line2(game.filterPlayer(function(current){
                if(current.hasSkill('DIY_cixiao')){
                    current.removeSkill('DIY_cixiao');
                    return true;
                }
            }).concat(result.targets),'green');
            target.addSkill('DIY_cixiao');
        }
        'step 5'
        game.delayx();
    },
                derivation:"DIY_cixiao",
                ai:{
                    threaten:8,
                },
            },
            "DIY_panshi_damage":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
            },
            "DIY_cixiao":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                mark:true,
                marktext:"çˆ¶",
                intro:{
                    content:"æˆ‘å„¿å¥‰å…ˆå¤©ä¸‹æ— åŒ",
                },
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                filter:function(event,player){
        return player.countCards('h')>0&&game.hasPlayer(function(current){
            return current!=player&&current.hasSkill('DIY_panshi');
        });
    },
                content:function(){
        'step 0'
        var targets=game.filterPlayer(function(current){
            return current!=player&&current.hasSkill('DIY_panshi');
        });
        if(targets.length==1){
            event.target=targets[0];
            player.chooseCard('h',true,'æ…ˆå­ï¼šç»™å„¿å­'+get.translation(targets)+'å‘é›¶èŠ±é’±');
        }
        else player.chooseCardTarget({
            prompt:'æ…ˆå­ï¼šç»™å„¿å­ä»¬'+get.translation(targets)+'ä¸­çš„ä¸€åè§’è‰²å‘é›¶èŠ±é’±',
            filterCard:true,
            position:'h',
            targets:targets,
            forced:true,
            filterTarget:function(card,player,target){
                return _status.event.targets.contains(target);
            },
        });
        'step 1'
        if(result.bool){
            if(!target) target=result.targets[0];
            player.line(target);
            target.gain(result.cards,player,'giveAuto');
        }
    },
                group:"DIY_cixiao_damage",
            },
            "DIY_cixiao_damage":{
                trigger:{
                    player:"damageBegin4",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                filter:function(event,player){
        return event.source.hasSkill('DIY_panshi');
    },
                content:function(){
        trigger.num++;
    },
            },
            "DIY_liqu":{
                global:"DIY_liqu2",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
            },
            "DIY_liqu2":{
                usable:1,
                audio:"wengua",
                enable:"phaseUse",
                filter:function(event,player){
        if(game.players.length<3) return false;
        if(player.hasSkill('DIY_liqu')) return false;
        return player.countCards('he')&&game.hasPlayer(function(current){
            return current.hasSkill('DIY_liqu');
        });
    },
                direct:true,
                delay:false,
                filterCard:true,
                discard:false,
                lose:false,
                position:"he",
                prompt:function(){
        var player=_status.event.player;
        var list=game.filterPlayer(function(current){
            return current.hasSkill('DIY_liqu');
        });
        var str='å°†ä¸€å¼ ç‰Œäº¤ç»™'+get.translation(list);
        if(list.length>1) str+='ä¸­çš„ä¸€äºº';
        return str;
    },
                check:function(card){
        if(card.name=='sha') return 5;
        return 8-get.value(card);
    },
                content:function(){
        "step 0"
        var targets=game.filterPlayer(function(current){
            return current.hasSkill('DIY_liqu');
        });
        if(targets.length==1){
            event.target=targets[0];
            event.goto(2);
        }
        else if(targets.length>0){
            player.chooseTarget(true,'é€‰æ‹©ã€åˆ©é©±ã€‘çš„ç›®æ ‡',function(card,player,target){
                return _status.event.list.contains(target);
            }).set('list',targets).set('ai',function(target){
                var player=_status.event.player;
                return get.attitude(player,target);
            });
        }
        else{
            event.finish();
        }
        "step 1"
        if(result.bool&&result.targets.length){
            event.target=result.targets[0];
        }
        else{
            event.finish();
        }
        "step 2"
        if(event.target){
            player.logSkill('DIY_liqu',event.target);
            event.card=cards[0];
            if(event.target!=player){
                player.give(cards,event.target);
            }
            player.chooseTarget(true,'é€‰æ‹©'+get.translation(event.target)+'ä½¿ç”¨ã€æ€ã€‘çš„ç›®æ ‡',function(card,player,target){
                return target!=player&&target!=event.target;
            }).set('ai',function(target){
            var player=_status.event.player;
            var att=-get.attitude(player,target);
            return att*target.countCards('h');
            });
        }
        else{
            event.finish();
        }
        delete _status.noclearcountdown;
        game.stopCountChoose();
        "step 3"
        if(result.bool){
            target=result.targets[0];
            event.target.chooseToUse('å¯¹'+get.translation(target)+'ä½¿ç”¨ä¸€å¼ æ€',{name:'sha'},result.targets[0],-1);
        }
        else{
            event.finish();
        }
        "step 4"
        game.delay();
    },
                ai:{
                    order:2,
                    threaten:1.5,
                    result:{
                        player:function(player,target){
                var target=game.findPlayer(function(current){
                    return current.hasSkill('wengua');
                });
                if(target){
                    return get.attitude(player,target);
                }
            },
                    },
                },
            },
            "DIY_sidao":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardAfter",
                },
                filter:function(event,player){
        if(!player.countCards('hs')) return false;
        if(!event.targets||!event.targets.length) return false;
        for(var i=0;i<event.targets.length;i++){
            if(lib.filter.filterTarget({name:'shunshou'},player,event.targets[i])) return true;
        }
        return false;
    },
                direct:true,
                content:function(){
        var next=player.chooseToUse();
        next.set('targets',game.filterPlayer(function(current){
            return trigger.targets.contains(current);
        }));
        next.set('openskilldialog',get.prompt2('DIY_sidao'));
        next.set('norestore',true);
        next.set('_backupevent','DIY_sidaox');
        next.set('custom',{
            add:{},
            replace:{window:function(){}}
        });
        next.backup('DIY_sidaox');
    },
            },
            "DIY_sidaox":{
                audio:"DIY_sidao",
                filterCard:function(card){
        return get.itemtype(card)=='card';
    },
                position:"hs",
                viewAs:{
                    name:"shunshou",
                },
                filterTarget:function(card,player,target){
        return _status.event.targets&&_status.event.targets.contains(target)&&lib.filter.filterTarget.apply(this,arguments);
    },
                prompt:"å°†ä¸€å¼ æ‰‹ç‰Œå½“é¡ºæ‰‹ç‰µç¾Šä½¿ç”¨",
                check:function(card){return 7-get.value(card)},
                ai:{
                    wuxie:function(target,card,player,viewer){
            if(get.attitude(viewer,player)>0&&get.attitude(viewer,target)>0){
                return 0;
            }
        },
                    basic:{
                        order:7.5,
                        useful:4,
                        value:9,
                    },
                    result:{
                        target:function(player,target){
                if(get.attitude(player,target)<=0) return (target.countCards('he',function(card){
                    return get.value(card,target)>0&&card!=target.getEquip('jinhe');
                })>0)?-1.5:1.5;
                return (target.countCards('ej',function(card){
                    if(get.position(card)=='e') return get.value(card,target)<=0;
                    var cardj=card.viewAs?{name:card.viewAs}:card;
                    return get.effect(target,cardj,target,player)<0;
                })>0)?1.5:-1.5;
            },
                        player:function(player,target){
                if(get.attitude(player,target)<0&&!target.countCards('he',function(card){
                    return get.value(card,target)>0&&card!=target.getEquip('jinhe');
                })){
                    return 0;
                }
                if(get.attitude(player,target)>1){
                    return (target.countCards('ej',function(card){
                        if(get.position(card)=='e') return get.value(card,target)<=0;
                        var cardj=card.viewAs?{name:card.viewAs}:card;
                        return get.effect(target,cardj,target,player)<0;
                    })>0)?1.5:-1.5;
                }
                return 1;
            },
                    },
                    tag:{
                        loseCard:1,
                        gain:1,
                    },
                },
            },
            "DIY_tanbei":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    source:"damageBegin2",
                },
                filter:function(event,player){
        return player!=event.player;
    },
                forced:true,
                logTarget:"player",
                content:function(){
        if(trigger.player.countCards('h')){
            trigger.cancel();
            player.useCard({name:'shunshou',isCard:true},trigger.player,false,'noai');
        }
        trigger.num++;
    },
            },
            "DIY_fenxin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filter:function(event,player){
        var list=[];
        var skills=player.getSkills();
        for(var i=0;i<skills.length;i++){
            list.add(skills[i]);
        }
        return list.length>0;
    },
                content:function(){
        'step 0'
        var list=[];
        var skills=player.getSkills();
        for(var i=0;i<skills.length;i++){
            var label=get.info(skills[i]);
            var name=lib.translate[skills[i]];
            var info=lib.translate[skills[i]+'_info'];
            if(!info) continue;
            if(!name) continue;
            if(name=='é…’') continue;
            if(label.equipSkill) continue;
            list.add(skills[i]);
        }
        var Skills=player.awakenedSkills;
        for(var i=0;i<Skills.length;i++){
            if(lib.skill[Skills[i]].limited&&!player.getStorage('DIY_fenxin').contains(Skills[i])){
                list.add(Skills[i]);
            }
        }
        list.remove('jiu');
        event.skills=list;
        if(event.skills.length>0){
            player.chooseControl(event.skills).set('prompt','è¯·é€‰æ‹©è¦åºŸé™¤çš„æŠ€èƒ½').set('ai',function(){return event.skills.randomGet()});
        }
        else event.finish();
        'step 1'
        player.popup(result.control);
        player.removeSkill(result.control);
        if(!player.storage.DIY_fenxin) player.storage.DIY_fenxin=[];
        player.markAuto('DIY_fenxin',[result.control]);
        game.log(player,'ç§»é™¤äº†æŠ€èƒ½','#gã€'+get.translation(result.control)+'ã€‘');
        'step 2'
        var list;
        if(_status.characterlist){
            list=[];
            for(var i=0;i<_status.characterlist.length;i++){
                var name=_status.characterlist[i];
                if(lib.character[name][1]==player.group) list.push(name);
            }
        }
        else if(_status.connectMode){
            list=get.charactersOL(function(i){
                return lib.character[i][1]!=player.group;
            });
        }
        else{
            list=get.gainableCharacters(function(info){
                return info[1]==player.group;
            });
        }
        var players=game.players.concat(game.dead);
        for(var i=0;i<players.length;i++){
            list.remove(players[i].name);
            list.remove(players[i].name1);
            list.remove(players[i].name2);
        }
        list.remove('lingju');
        list.remove('old_lingju');
        list.remove('JX_lingju');
        list=list.randomGets(Math.max(4,game.countPlayer()));
        var skills=[];
        for(var i of list){
            skills.addArray((lib.character[i][3]||[]).filter(function(skill){
                var info=get.info(skill);
                return info&&!info.zhuSkill&&!info.juexingji&&!info.hiddenSkill&&!info.charlotte&&!info.dutySkill;
            }));
        }
        if(!list.length||!skills.length){event.finish();return;}
        if(player.isUnderControl()){
            game.swapPlayerAuto(player);
        }
        var switchToAuto=function(){
            _status.imchoosing=false;
            event._result={
                bool:true,
                skills:skills.randomGets(1),
            };
            if(event.dialog) event.dialog.close();
            if(event.control) event.control.close();
        };
        var chooseButton=function(list,skills){
            var event=_status.event;
            if(!event._result) event._result={};
            event._result.skills=[];
            var rSkill=event._result.skills;            
            var dialog=ui.create.dialog('è¯·é€‰æ‹©è·å¾—çš„ä¸€ä¸ªæŠ€èƒ½',[list,'character'],'hidden');
            event.dialog=dialog;
            var table=document.createElement('div');
            table.classList.add('add-setting');
            table.style.margin='0';
            table.style.width='100%';
            table.style.position='relative';
            for(var i=0;i<skills.length;i++){
                var td=ui.create.div('.shadowed.reduce_radius.pointerdiv.tdnode');
                td.link=skills[i];
                table.appendChild(td);
                td.innerHTML='<span>'+get.translation(skills[i])+'</span>';
                td.addEventListener(lib.config.touchscreen?'touchend':'click',function(){
                    if(_status.dragged) return;
                    if(_status.justdragged) return;
                    _status.tempNoButton=true;
                    setTimeout(function(){
                        _status.tempNoButton=false;
                    },500);
                    var link=this.link;                    
                    if(!this.classList.contains('bluebg')){
                        if(rSkill.length>=1) return;
                        rSkill.add(link);
                        this.classList.add('bluebg');
                    }
                    else{
                        this.classList.remove('bluebg');
                        rSkill.remove(link);
                    }
                });
            }
            dialog.content.appendChild(table);
            dialog.add('');
            dialog.open();
            
            event.switchToAuto=function(){
                event.dialog.close();
                event.control.close();
                game.resume();
                _status.imchoosing=false;
            };
            event.control=ui.create.control('ok',function(link){
                event.dialog.close();
                event.control.close();
                game.resume();
                _status.imchoosing=false;
            });
            for(var i=0;i<event.dialog.buttons.length;i++){
                event.dialog.buttons[i].classList.add('selectable');
            }
            game.pause();
            game.countChoose();
        };
        if(event.isMine()){
            chooseButton(list,skills);
        }
        else if(event.isOnline()){
            event.player.send(chooseButton,list,skills);
            event.player.wait();
            game.pause();
        }
        else{
            switchToAuto();
        }
        'step 3'
        var map=event.result||result;
        if(map&&map.skills&&map.skills.length){
            for(var i of map.skills){
            player.addSkill(i);
            game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€'+get.translation(i)+'ã€‘');
            }
        }
        game.broadcastAll(function(list){
            game.expandSkills(list);
            for(var i of list){
                var info=lib.skill[i];
                if(!info) continue;
                if(!info.audioname2) info.audioname2={};
                info.audioname2.old_yuanshu='weidi';
            }
        },map.skills);
        'step 4'
        if(player.storage.DIY_fenxin&&player.getStorage('DIY_fenxin').contains('DIY_fenxin')){
            player.chooseTarget('é€‰æ‹©ä¸€åè§’è‰²ç„¶åç§»é™¤å…¶æ­¦å°†ç‰Œä¸Šçš„ä¸€ä¸ªæŠ€èƒ½',function(card,player,target){
                return target!=player;
            }).set('ai',function(target){
            var player=_status.event.player;
            var att=-get.attitude(player,target);
            return att*target.countCards('h');
            });
        }
        else{
            event.goto(7);
        }
        'step 5'
        if(result.bool){
            event.target=result.targets[0];
            var info=lib.character[event.target.name];
            var skills=event.target.getSkills();
            var list=[];
            for(var i=0;i<info[3].length;i++){
                if(lib.skill[info[3][i]].fixed) continue;
                if(skills.contains(info[3][i])){
                    list.push(info[3][i]);
                }
            }
            if(list.length){
                player.chooseControl(list).set('prompt','è¯·é€‰æ‹©è¦ç§»é™¤çš„'+get.translation(event.target)+'çš„æŠ€èƒ½').set('ai',function(){return list.randomGet()});
            }
        }
        'step 6'
        if(result.control!='cancel2'){
            var skill=result.control;
            event.target.popup(skill);
            game.log(event.target,'ç§»é™¤äº†æŠ€èƒ½','#gã€'+get.translation(skill)+'ã€‘');
            event.target.removeSkill(skill);
            event.target.disableSkill('chuanxin_disable',skill,true);
        }
        'step 7'
    },
            },
            "DIY_jieyuan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                group:["DIY_jieyuan_more","DIY_jieyuan_less"],
                subSkill:{
                    more:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                        trigger:{
                            source:"damageBegin1",
                        },
                        direct:true,
                        filter:function(event,player){
                return player.countCards('he');
            },
                        content:function(){
                'step 0'
                var goon=(get.attitude(player,trigger.player)<0);
                var next=player.chooseToDiscard(get.prompt('DIY_jieyuan',trigger.player),'he');
                next.set('prompt2','å¼ƒç½®ä¸€å¼ ç‰Œä»¤ä¼¤å®³+1');
                next.set('ai',function(card){
                    if(_status.event.goon){
                        return 8-get.value(card);
                    }
                    return 0;
                });
                next.set('goon',goon);
                next.logSkill=['DIY_jieyuan',trigger.player];
                'step 1'
                if(result.bool){
                    trigger.num++;
                }
            },
                        sub:true,
                    },
                    less:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                        trigger:{
                            player:"damageBegin2",
                        },
                        filter:function(event,player){
                return player.countCards('he');
            },
                        direct:true,
                        content:function(){
                "step 0"
                var next=player.chooseToDiscard(get.prompt('DIY_jieyuan'),'he');
                next.set('prompt2','å¼ƒç½®ä¸€å¼ ç‰Œä»¤ä¼¤å®³-1');
                next.set('ai',function(card){
                    var player=_status.event.player;
                    if(player.hp==1||_status.event.getTrigger().num>1){
                        return 9-get.value(card);
                    }
                    if(player.hp==2){
                        return 8-get.value(card);
                    }
                    return 7-get.value(card);
                });
                next.logSkill='DIY_jieyuan';
                "step 1"
                if(result.bool){
                    trigger.num--;
                }
            },
                        sub:true,
                    },
                },
                ai:{
                    expose:0.2,
                    threaten:1.5,
                },
            },
            "DIY_mengjin":{
                shaRelated:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                logTarget:"target",
                check:function(event,player){
        return get.attitude(player,event.target)<=0;
    },
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(event.target.countCards('he')) return true;
        return false;
    },
                content:function(){
        var range=player.getAttackRange();
        player.discardPlayerCard(trigger.target,true,'he',range);
    },
                ai:{
                    threaten:0.5,
                    "directHit_ai":true,
                    skillTagFilter:function(player,tag,arg){
            if(get.attitude(player,arg.target)<=0&&arg.card.name=='sha'&&player.countCards('h',function(card){
                return card!=arg.card&&(!arg.card.cards||!arg.card.cards.contains(card));
            })>=arg.target.countCards('h')) return true;
            return false;
        },
                },
            },
            "DIY_juesi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
        return player.countCards('h',{type:'basic'})>0;
    },
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('he')>0&&(player.inRange(target)||target.inRange(player));
    },
                filterCard:{
                    type:"basic",
                },
                content:function(){
        'step 0'
        player.discardPlayerCard(target,true,'he');
        'step 1'
        if(result.bool&&result.cards[0].name!='sha'){
            player.useCard({name:'sha',isCard:true},target);
            target.useCard({name:'sha',isCard:true},player);
        }
    },
                ai:{
                    order:2,
                    result:{
                        target:-1,
                    },
                },
                group:"DIY_juesi_sha",
                subSkill:{
                    sha:{
                        trigger:{
                            target:"useCardToTarget",
                        },
                        direct:true,
                        filter:function(event,player){
                            return event.card.name=='sha'&&event.getParent(2).name=='DIY_juesi';
                        },
                        content:function(){
                            trigger.getParent().directHit.push(player);
                        },
                        sub:true,
                    },
                },
            },
            "DIY_qianhuan":{
                group:["DIY_qianhuan_add","DIY_qianhuan_use"],
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                ai:{
                    threaten:1.8,
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                preHidden:true,
                subSkill:{
                    add:{
                        trigger:{
                            global:"damageEnd",
                        },
                        filter:function(event,player){
                return event.player.isAlive()&&player.group=='qun';
            },
                        direct:true,
                        content:function(){
                'step 0'
                if(lib.config.extensions&&lib.config.extensions.contains('åƒå¹»è†éŸ³')&&lib.config['extension_åƒå¹»è†éŸ³_enable']){
                    target=player;
                }
                else{
                    target=trigger.player;
                }
                target.chooseBool(get.prompt2('DIY_qianhuan'),'åƒå¹»ï¼šæ˜¯å¦æ‘¸ä¸€å¼ ç‰Œå¹¶å°†ä¸€å¼ ç‰Œç½®äº'+get.translation(player)+'çš„æ­¦å°†ç‰Œä¸Š').set('ai',function(event,player){
            return get.attitude(target,player)>0;
        });
                'step 1'
                if(result.bool){
                    if(lib.config.extensions&&lib.config.extensions.contains('åƒå¹»è†éŸ³')&&lib.config['extension_åƒå¹»è†éŸ³_enable']){
                        target=player;
                    }
                    else{
                        target=trigger.player;
                    }
                    target.draw();
                    target.chooseCard('he',true).set('ai',function(card){
                        return 9-get.value(card);
                    });
                }
                else{
                    event.goto(3);
                }
                'step 2'
                if(result.bool){
                    player.logSkill('DIY_qianhuan');
                    var card=result.cards[0];
                    player.addToExpansion(card,player,'give').gaintag.add('DIY_qianhuan');
                }
            },
                        sub:true,
                    },
                    use:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        trigger:{
                            global:"useCardToTarget",
                        },
                        filter:function(event,player){
                if(!['basic','trick'].contains(get.type(event.card,'trick'))) return false;
                return event.target&&event.targets.length==1&&player.getExpansions('DIY_qianhuan').length;
            },
                        direct:true,
                        content:function(){
                'step 0'
                var goon=get.effect(trigger.target,trigger.card,trigger.player,player)<0;
                if(goon){
                    if(['tiesuo','diaohulishan','lianjunshengyan','zhibi','chiling','lulitongxin'].contains(trigger.card.name)){
                        goon=false;
                    }
                    else if(trigger.card.name=='sha'){
                        if(trigger.target.mayHaveShan()||trigger.target.hp>=3){
                            goon=false;
                        }
                    }
                    else if(trigger.card.name=='guohe'){
                        if(trigger.target.countCards('he')>=3||!trigger.target.countCards('h')){
                            goon=false;
                        }
                    }
                    else if(trigger.card.name=='shuiyanqijunx'){
                        if(trigger.target.countCards('e')<=1||trigger.target.hp>=3){
                            goon=false;
                        }
                    }
                    else if(get.tag(trigger.card,'damage')&&trigger.target.hp>=3){
                        goon=false;
                    }
                }
                player.chooseButton().set('goon',goon).set('ai',function(button){
                    if(_status.event.goon) return 1;
                    return 0;
                }).set('createDialog',[get.prompt('DIY_qianhuan'),'<div class="text center">ç§»å»ä¸€å¼ â€œåƒå¹»â€ç‰Œä»¤'+
                get.translation(trigger.player)+'å¯¹'+get.translation(trigger.target)+'çš„'+get.translation(trigger.card)+'å¤±æ•ˆ</div>',player.getExpansions('DIY_qianhuan')]);
                'step 1'
                if(result.bool){
                    player.logSkill('DIY_qianhuan_use',trigger.player);
                    trigger.getParent().targets.remove(trigger.target);
                    var card=result.links[0];
                    player.loseToDiscardpile(card);
                }
            },
                        sub:true,
                    },
                },
            },
            "DIY_guhuo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                derivation:"rechanyuan",
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
        if(player.group!='wu') return false;
        return (lib.inpile.contains(name)&&player.countCards('hes')>0);
    },
                filter:function(event,player){
        if(player.group!='wu') return false;
        if(!player.countCards('hes')) return false;
        for(var i of lib.inpile){
            var type=get.type(i);
            if((type=='basic'||type=='trick')&&event.filterCard({name:i},player,event)) return true;
            if(i=='sha'){
                for(var j of lib.inpile_nature){
                    if(event.filterCard({name:i,nature:j},player,event)) return true;
                }
            }
        }
        return false;
    },
                chooseButton:{
                    dialog:function(){
            var list=[];
            for(var i of lib.inpile){
                var type=get.type(i);
                if(type=='basic'||type=='trick') list.push([type,'',i]);
                if(i=='sha'){
                    for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
                }
            }
            return ui.create.dialog('è›Šæƒ‘',[list,'vcard']);
        },
                    filter:function(button,player){
            var evt=_status.event.getParent();
            return evt.filterCard({name:button.link[2],nature:button.link[3]},player,evt);
        },
                    check:function(button){
            var player=_status.event.player;
            var hasEnemy=game.hasPlayer(function(current){
                return current!=player&&!current.hasSkill('rechanyuan')&&(get.realAttitude||get.attitude)(current,player)<0;
            });
            var card={name:button.link[2],nature:button.link[3]};
            var val=_status.event.getParent().type=='phase'?player.getUseValue(card):1;
            if(val<=0) return 0;
            if(hasEnemy){
                if(!player.countCards('h',function(cardx){
                    if(card.name==cardx.name){
                        if(card.name!='sha') return true;
                        return get.nature(card)==get.nature(cardx);
                    }
                    return false;
                })) return 0;
                return 3*val;
            }
            return val;
        },
                    backup:function(links,player){
            return {
                viewAs:{
                    name:links[0][2],
                    nature:links[0][3],
                    suit:'none',
                    number:null,
                },
                position:'hes',
                ai1:function(card){
                    var player=_status.event.player;
                    var hasEnemy=game.hasPlayer(function(current){
                        return current!=player&&!current.hasSkill('rechanyuan')&&(get.realAttitude||get.attitude)(current,player)<0;
                    });
                    var cardx=lib.skill.DIY_guhuo_backup.viewAs;
                    if(hasEnemy){
                        if(card.name==cardx.name&&(card.name!='sha'||card.nature==cardx.nature)) return 10;
                        return 0;
                    }
                    return 6-get.value(card);
                },
                filterCard:true,
            }
        },
                    prompt:function(links){
            return 'å°†ä¸€å¼ æ‰‹ç‰Œå½“åš'+(get.translation(links[0][3])||'')+get.translation(links[0][2])+'ä½¿ç”¨';
        },
                },
                ai:{
                    fireAttack:true,
                    respondShan:true,
                    respondSha:true,
                    skillTagFilter:function(player){
            if(!player.countCards('hes')) return false;
        },
                    order:10,
                    result:{
                        player:1,
                    },
                    threaten:1.3,
                },
                group:"DIY_guhuo_guess",
            },
            "DIY_guhuo_guess":{
                trigger:{
                    player:["useCardBefore","respondBefore"],
                },
                forced:true,
                silent:true,
                popup:false,
                firstDo:true,
                filter:function(event,player){
        return event.skill&&event.skill.indexOf('DIY_guhuo_')==0;
    },
                content:function(){
        'step 0'
        event.fake=false;
        var card=trigger.cards[0];
        if(card.name!=trigger.card.name||(card.name=='sha'&&(trigger.card.nature||card.nature)&&trigger.card.nature!=card.nature)) event.fake=true;
        player.logSkill('DIY_guhuo');
        player.line(trigger.targets,get.nature(trigger.card));
        event.cardTranslate=get.translation(trigger.card.name);
        trigger.card.number=get.number(card);
        trigger.card.suit=get.suit(card);
        //trigger.line=false;
        trigger.skill='DIY_guhuo_backup';
        if(trigger.card.name=='sha'&&trigger.card.nature) event.cardTranslate=get.translation(trigger.card.nature)+event.cardTranslate;
        player.popup(event.cardTranslate,trigger.name=='useCard'?'metal':'wood');
        event.prompt='æ˜¯å¦è´¨ç–‘'+get.translation(player)+'å£°æ˜çš„'+event.cardTranslate+'ï¼Ÿ';
        game.log(player,'å£°æ˜äº†','#y'+event.cardTranslate);
        event.targets=game.filterPlayer(function(current){
            return current!=player&&!current.hasSkill('rechanyuan');
        }).sortBySeat();
        event.targets2=event.targets.slice(0);
        player.lose(card,ui.ordering).relatedEvent=trigger;
        if(!event.targets.length) event.goto(5);
        else if(_status.connectMode) event.goto(3);
        event.betrays=[];
        'step 1'
        event.target=targets.shift();
        event.target.chooseButton([event.prompt,[['ä¸è´¨ç–‘','è´¨ç–‘'],'vcard']],true,function(button){
            var player=_status.event.player;
            var evt=_status.event.getParent('DIY_guhuo_guess');
            if(!evt) return Math.random();
            var ally=button.link[2]=='ä¸è´¨ç–‘';
            if(ally&&(player.hp<=1||get.attitude(player,evt.player)>=0)) return 1.1;
            return Math.random();
        });
        'step 2'
        if(result.links[0][2]=='è´¨ç–‘'){
            event.betrays.push(target);
            target.addExpose(0.2);
        }
        event.goto(targets.length?1:5);
        'step 3'
        var list=event.targets.map(function(target){
            return [target,[event.prompt,[['ä¸è´¨ç–‘','è´¨ç–‘'],'vcard']],true];
        });
        player.chooseButtonOL(list).set('switchToAuto',function(){
            _status.event.result='ai';
        }).set('processAI',function(){
            var choice=Math.random()>0.5?'ä¸è´¨ç–‘':'è´¨ç–‘';
            var player=_status.event.player;
            var evt=_status.event.getParent('DIY_guhuo_guess');
            if(player.hp<=1||evt&&(get.realAttitude||get.attitude)(player,evt.player)>=0) choice='ä¸è´¨ç–‘';
            return {
                bool:true,
                links:[['','',choice]],
            }
        });
        'step 4'
        for(var i in result){
            if(result[i].links[0][2]=='è´¨ç–‘'){
                event.betrays.push(lib.playerOL[i]);
                lib.playerOL[i].addExpose(0.2);
            }
        }
        'step 5'
        for(var i of event.targets2){
            var b=event.betrays.contains(i);
            i.popup(b?'è´¨ç–‘':'ä¸è´¨ç–‘',b?'fire':'wood');
            game.log(i,b?'#yè´¨ç–‘':'#gä¸è´¨ç–‘');
        }
        game.delay();
        'step 6'
        player.showCards(trigger.cards);
        if(event.betrays.length){
            event.betrays.sortBySeat();
            if(event.fake){
                game.asyncDraw(event.betrays);
                trigger.cancel();
                trigger.getParent().goto(0);
                game.log(player,'å£°æ˜çš„','#y'+event.cardTranslate,'ä½œåºŸäº†')
            }
            else{
                var next=game.createEvent('DIY_guhuo_final',false);
                event.next.remove(next);
                trigger.after.push(next);
                next.targets=event.betrays;
                next.setContent(lib.skill.DIY_guhuo_guess.contentx);
                event.finish();
            }
        }
        else event.finish();
        'step 7'
        game.delayx();
    },
                contentx:function(){
        'step 0'
        event.target=targets.shift();
        event.target.chooseToDiscard('å¼ƒç½®ä¸€å¼ ç‰Œæˆ–å¤±å»1ç‚¹ä½“åŠ›').set('ai',function(card){
            return 9-get.value(card);
        });
        'step 1'
        if(!result.bool) target.loseHp();
        'step 2'
        target.addSkill('rechanyuan');
        if(targets.length) event.goto(0);
    },
            },
            "DIY_yaowu":{
                trigger:{
                    player:"damageBegin3",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                forced:true,
                filter:function(event){
        return event.card&&(get.color(event.card)!='red'||event.source&&event.source.isAlive());
    },
                content:function(){
        player.gain(trigger.cards,'gain2').gaintag.add('DIY_yaowu');
        trigger[get.color(trigger.card)!='red'?'player':'source'].draw(trigger.num);
    },
                mod:{
                    ignoredHandcard:function(card,player){
            if(card.hasGaintag('DIY_yaowu')) return true;
        },
                    cardDiscardable:function(card,player,name){
            if(name=='phaseDiscard'&&card.hasGaintag('DIY_yaowu')) return false;
        },
                    cardUsable:function(card,player,num){
            var Num=0;
            var hs=player.getCards('h');
            for(var i=0;i<hs.length;i++){
                if(hs[i].hasGaintag('DIY_yaowu')) Num++;
            }
            if(card.name=='sha') return num=Num+1;
        },
                },
            },
            "DIY_daoshu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                silent:true,
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('h')>0;
    },
                content:function(){
        'step 0'
        if(!target.isAlive()||!target.countCards('h')) event.goto(6);
        player.chooseControl(lib.suit).set('prompt','è¯·é€‰æ‹©ä¸€ä¸ªèŠ±è‰²').ai=function(){
        if(target.countCards('h',{suit:['diamond']})) return 'diamond';
        if(target.countCards('h',{suit:['heart']})) return 'heart';
        if(target.countCards('h',{suit:['spade']})) return 'spade';
        if(target.countCards('h',{suit:['club']})) return 'club';
        return lib.suit.randomGet();
        };
        'step 1'
        player.logSkill('DIY_daoshu',target);
        event.suit=result.control;
        player.popup(event.suit+2);
        game.log(player,'é€‰æ‹©äº†',event.suit+2);
        event.cards=target.get('h', function (card) {
          return get.suit(card)==event.suit;
        });
        if(!event.cards.length){
          event.goto(3);
        }
        'step 2'
        if(event.cards.length){
            player.gainPlayerCard(target,true,'h','visibleMove');
            target.damage();
            event.goto(5);
        }
        'step 3'
        if(player.countCards('h',function(card){return get.suit(card)!=event.suit})==0){
            player.showHandcards();
            event.goto(6);
        }
        else{
            player.chooseCard('h',true,function(card){
                return get.suit(card)!=event.suit;
            },'äº¤ç»™'+get.translation(target)+'ä¸€å¼ ä¸ä¸º'+get.translation(event.suit)+'èŠ±è‰²çš„ç‰Œ').set('event.suit',event.suit);
        }
        'step 4'
        player.give(result.cards,target,true);
        event.goto(6);
        'step 5'
        if(target.hp>0&&target.countCards('h')) event.goto(0);
    },
                ai:{
                    order:1,
                    result:{
                        target:-1,
                    },
                },
                subSkill:{
                    used:{
                        sub:true,
                    },
                },
                forced:true,
                popup:false,
            },
            "DIY_weicheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"gainAfter",
                },
                frequent:true,
                filter:function(event,player){
        if(event.player!=player){
            var evt=event.getl(player);
            return evt&&evt.hs&&evt.hs.length>0;
        }
        return false;
    },
                preHidden:true,
                content:function(){
        player.showHandcards();
        player.draw();
    },
            },
            "DIY_zhengu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                direct:true,
                content:function(){
        "step 0"
        player.chooseTarget(get.prompt2('DIY_zhengu'),function(card,player,target){
            return !target.hasSkill('DIY_zhengu2');
        }).set('ai',function(target){
            var player=_status.event.player;
            var num=(Math.min(5,player.countCards('h'))-target.countCards('h'));
            var att=get.attitude(player,target);
            return num*att;
        });
        "step 1"
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_zhengu',target);
            var num=player.countCards('h')-target.countCards('h');
            if(num>0) target.draw(num);
            if(num<0) target.chooseToDiscard('h',true,-num);
            player.addSkill("DIY_zhengu2");
            target.addSkill("DIY_zhengu2");
            player.storage.DIY_zhengu_mark=player.countCards('h');
            target.storage.DIY_zhengu_mark=player.countCards('h');
        }
    },
                group:"DIY_zhengu_phase",
                subSkill:{
                    phase:{
                        trigger:{
                            player:"phaseBegin",
                        },
                        filter:function(event,player){
                        if(!game.hasPlayer(function(current){
                        return current.hasSkill('DIY_zhengu2');
                        })) return false;
                        return true;
                    },
                        charlotte:true,
                        direct:true,
                        forced:true,
                        content:function(){
                        game.countPlayer(function(current){
                            if(current.hasSkill("DIY_zhengu2")){
                                current.storage.DIY_zhengu_mark=[];
                                current.removeSkill('DIY_zhengu2');
                            }
                        });
                    },
                        sub:true,
                    },
                },
            },
            "DIY_zhengu2":{
                trigger:{
                    player:["loseAfter","gainAfter"],
                },
                charlotte:true,
                onremove:true,
                mark:true,
                marktext:"é•‡éª¨",
                intro:{
                    name:"é•‡éª¨",
                    content:function(storage,player){
                        var num=player.storage.DIY_zhengu_mark;
                        var str='å½“ä½ çš„æ‰‹ç‰Œæ•°å°/å¤§äº'+get.cnNumber(num)+'æ—¶ï¼Œä½ æ‘¸/å¼ƒç½®è‡³'+get.cnNumber(num)+'å¼ ç‰Œã€‚';
                        return str;
                    },
                },
                direct:true,
                forced:true,
                filter:function(event,player){
        return player.countCards('h')!=player.storage.DIY_zhengu_mark;
    },
                content:function(){
        game.countPlayer(function(current){
            if(current.hasSkill("DIY_zhengu")){
                current.line(player,'yellow');
                current.logSkill('DIY_zhengu',player);
            }
        });
        var num=player.storage.DIY_zhengu_mark-player.countCards('h');
        if(num>0){
            player.draw(num);
        }
        else{
            player.chooseToDiscard('h',true,-num);
        }
    },
            },
            "DIY_qiangwu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard1",
                },
                usable:1,
                forced:true,
                filter:function(event,player){
        return player.isPhaseUsing();
    },
                content:function(){
        "step 0"
        var number=get.number(trigger.card);
        player.storage.DIY_qiangwu=number;
        player.addTempSkill('DIY_qiangwu2','phaseUseEnd');
    },
            },
            "DIY_shenxian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCard2","respond"],
                },
                round:1,
                forced:true,
                content:function(){
        player.draw(get.number(trigger.card));
    },
                group:["DIY_shenxian_roundcount"],
            },
            "DIY_qiangwu2":{
                mod:{
                    aiOrder:function(player,card,num){
            if(get.number(card)>player.storage.DIY_qiangwu) return num+2;
        },
                    targetInRange:function(card,player){
            if(_status.currentPhase==player&&get.number(card)<player.storage.DIY_qiangwu) return true;
        },
                    cardUsable:function(card,player){
            if(_status.currentPhase==player&&get.number(card)>player.storage.DIY_qiangwu) return Infinity;
        },
                },
                trigger:{
                    player:"useCard1",
                },
                charlotte:true,
                onremove:true,
                mark:true,
                marktext:"æªèˆ",
                intro:{
                    name:"æªèˆ",
                    content:function(storage,player){
                        var num=player.storage.DIY_qiangwu;
                        var str='ä½ ä½¿ç”¨å¤§äº'+get.translation(num)+'ç‚¹çš„ç‰Œæ— æ¬¡æ•°é™åˆ¶ï¼Œä½ ä½¿ç”¨å°äº'+get.translation(num)+'å¼ ç‚¹çš„ç‰Œæ— è·ç¦»é™åˆ¶ã€‚';
                        return str;
                    },
                },
                filter:function(event,player){
        if(_status.currentPhase==player&&event.card.name=='sha'&&
        get.number(event.card)>player.storage.DIY_qiangwu&&event.addCount!==false) return true;
        return false;
    },
                forced:true,
                popup:false,
                firstDo:true,
                content:function(){
        trigger.addCount=false;
        if(player.stat[player.stat.length-1].card.sha>0){
            player.stat[player.stat.length-1].card.sha--;
        }
    },
            },
            "DIY_xuehen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filter:function(event,player){
        return player.countCards('he',{color:'red'})>0;
    },
                filterTarget:true,
                selectTarget:function(){
        var player=_status.event.player
        return [1,player.getDamagedHp()+1];
    },
                position:"he",
                filterCard:{
                    color:"red",
                },
                check:function(card){
        return 8-get.value(card);
    },
                multitarget:true,
                multiline:true,
                line:"fire",
                content:function(){
        'step 0'
        event.delay=false;
        for(var i=0;i<targets.length;i++){
            if(!targets[i].isLinked()){
                targets[i].link(true);
                event.delay=true;
            }
        }
        'step 1'
        if(event.delay){
            game.delay();
        }
        'step 2'
        if(targets.length==1){
            num=player.getDamagedHp()+1;
        }
        else{
            num=1;
        }
        targets[0].damage(num,'fire','nocard');
    },
                ai:{
                    damage:true,
                    fireAttack:true,
                    threaten:1.5,
                    order:7,
                    result:{
                        target:function(player,target){
                var eff=get.damageEffect(target,player,target,'fire');
                if(target.isLinked()){
                    return eff/10;
                }
                else{
                    return eff;
                }
            },
                    },
                },
            },
            "DIY_huxiao":{
                trigger:{
                    source:"damageSource",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                filter:function(event,player){
        return event.nature=='fire';
    },
                logTarget:"player",
                content:function(){
        if(!player.storage.DIY_huxiao2){
            player.storage.DIY_huxiao2=[];
        }
        player.storage.DIY_huxiao2.add(trigger.player);
        player.addTempSkill('DIY_huxiao2');
    },
            },
            "DIY_huxiao2":{
                onremove:true,
                mark:true,
                intro:{
                    content:"players",
                },
                mod:{
                    cardUsableTarget:function(card,player,target){
            if(player.storage.DIY_huxiao2&&player.storage.DIY_huxiao2.contains(target)) return true;
        },
                },
            },
            "DIY_huxiao3":{
                trigger:{
                    player:"shaMiss",
                },
                direct:true,
                charlotte:true,
                mod:{
                    attackRange:function(player,num){
            return 3;
        },
                },
                filter:function(event,player){
        return player.canUse('sha',event.target,false)&&(player.hasSha()||_status.connectMode&&player.countCards('h'));
    },
                content:function(){
        "step 0"
        player.gain(trigger.cards,'gain2');
        "step 1"
        player.chooseToUse(get.prompt('DIY_huxiao3'),function(card,player,event){
            if(get.name(card)!='sha') return false;
            return lib.filter.filterCard.apply(this,arguments);
        },trigger.target,-1).set('addCount',false).logSkill='DIY_huxiao';
    },
            },
            "DIY_wuji":{
                skillAnimation:true,
                animationColor:"orange",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                forced:true,
                unique:true,
                juexingji:true,
                filter:function(event,player){
        return player.getStat('damage')>=3&&!player.storage.DIY_wuji;
    },
                content:function(){
        "step 0"
        player.removeSkill('DIY_huxiao');
        player.addSkill('DIY_huxiao3')
        player.gainMaxHp();
        "step 1"
        player.recover();
        player.awakenSkill('DIY_wuji');
        player.storage.DIY_wuji=true;
    },
            },
            "DIY_fengpo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:["useCardAfter","respondAfter"],
                },
                group:"DIY_fengpo2",
                forced:true,
                filter:function(event,player){
        return (!event.card.isCard||event.cards.length!=1||(get.position(event.cards[0],true)!='o'&&event.card.name!=event.cards[0].name));
    },
                content:function(){
        player.draw();
        player.chooseToUse('å‡¤é­„ï¼šä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œ').logSkill='DIY_fengpo';
    },
            },
            "DIY_fengpo2":{
                audio:"DIY_fengpo",
                enable:["chooseToUse","chooseToRespond"],
                prompt:function(){
        return 'å°†ä¸€å¼ æ–¹ç‰‡å½“ä½œã€ç«æ€ã€‘ä½¿ç”¨æˆ–æ‰“å‡º';
    },
                position:"hes",
                check:function(card,event){
        return 10-get.value(card);
    },
                selectCard:1,
                viewAs:{
                    name:"sha",
                    nature:"fire",
                },
                viewAsFilter:function(player){
        return player.countCards('hes',{suit:'diamond'});
    },
                filterCard:function(card){
        return get.suit(card)=='diamond';
    },
                ai:{
                    yingbian:function(card,player,targets,viewer){
            if(get.attitude(viewer,player)<=0) return 0;
            var base=0,hit=false;
            if(get.cardtag(card,'yingbian_hit')){
                hit=true;
                if(targets.filter(function(target){
                    return target.hasShan()&&get.attitude(viewer,target)<0&&get.damageEffect(target,player,viewer,get.nature(card))>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_all')){
                if(game.hasPlayer(function(current){
                    return !targets.contains(current)&&lib.filter.targetEnabled2(card,player,current)&&get.effect(current,card,player,player)>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_damage')){
                if(targets.filter(function(target){
                    return get.attitude(player,target)<0&&(hit||!target.mayHaveShan()||player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                    },true))&&!target.hasSkillTag('filterDamage',null,{
                        player:player,
                        card:card,
                        jiu:true,
                    })
                })) base+=5;
            }
            return base;
        },
                    canLink:function(player,target,card){
            if(!target.isLinked()&&!player.hasSkill('wutiesuolian_skill')) return false;
            if(target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                target:target,
                card:card,
            },true)) return false;
            if(player.hasSkill('jueqing')||player.hasSkill('gangzhi')||target.hasSkill('gangzhi')) return false;
            return true;
        },
                    basic:{
                        useful:[5,3,1],
                        value:[5,3,1],
                    },
                    order:function(item,player){
            if(player.hasSkillTag('presha',true,null,true)) return 10;
            if(lib.linked.contains(get.nature(item))){
                if(game.hasPlayer(function(current){
                    return current!=player&&current.isLinked()&&player.canUse(item,current,null,true)&&get.effect(current,item,player,player)>0&&lib.card.sha.ai.canLink(player,current,item);
                })&&game.countPlayer(function(current){
                    return current.isLinked()&&get.damageEffect(current,player,player,get.nature(item))>0;
                })>1) return 3.1;
                return 3;
            }
            return 3.05;
        },
                    result:{
                        target:function(player,target,card,isLink){
                var eff=function(){
                    if(!isLink&&player.hasSkill('jiu')){
                        if(!target.hasSkillTag('filterDamage',null,{
                            player:player,
                            card:card,
                            jiu:true,
                        })){
                            if(get.attitude(player,target)>0){
                                return -7;
                            }
                            else{
                                return -4;
                            }
                        }
                        return -0.5;
                    }
                    return -1.5;
                }();
                if(!isLink&&target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                },true)) return eff/1.2;
                return eff;
            },
                    },
                    tag:{
                        respond:1,
                        respondShan:1,
                        damage:function(card){
                if(card.nature=='poison') return;
                return 1;
            },
                        natureDamage:function(card){
                if(card.nature) return 1;
            },
                        fireDamage:function(card,nature){
                if(card.nature=='fire') return 1;
            },
                        thunderDamage:function(card,nature){
                if(card.nature=='thunder') return 1;
            },
                        poisonDamage:function(card,nature){
                if(card.nature=='poison') return 1;
            },
                    },
                },
            },
            "DIY_zengou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:["respond","useCard"],
                },
                filter:function(event,player){
        if(!event.respondTo) return false;
        if(event.player==player) return false;
        if(!player.inRange(event.player)) return false;
        return true;
    },
                logTarget:"player",
                check:function(event,player){
        if(get.attitude(player,event.player)>=0) return false;
        if(get.damageEffect(event.player,event.getParent(3).player,player,get.nature(event.card))<=0) return false;
        if(player.hasCard(function(card){
            return get.type(card)!=get.type(event.card)&&lib.filter.cardDiscardable(card,player,'DIY_zengou');
        },'he')) return true;
        return true;
    },
                content:function(){
        'step 0'
        trigger.cancel();
        var str='å¼ƒç½®ä¸€å¼ ç‰Œ';
        if(player.hp>0) str+='ï¼Œæˆ–ç‚¹ã€Œå–æ¶ˆã€å¤±å»ä¸€ç‚¹ä½“åŠ›';
        str+='ï¼Œç„¶åå–æ¶ˆ'+get.translation(trigger.cards.filterInD())+'çš„æ‰€æœ‰ç›®æ ‡å¹¶è·å¾—æ­¤ç‰Œ';
        var next=player.chooseToDiscard(str,'he').set('ai',function(card){
            return 7-get.value(card);
        });
        if(player.hp<=0) next.set('forced',true);
        'step 1'
        if(!result.bool) player.loseHp();
        'step 2'
        var cards=trigger.cards.filterInD();
        if(cards.length) player.gain(cards,'gain2');
    },
            },
            "DIY_zhangji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                frequent:true,
                content:function(){
        'step 0'
        if(player.isMaxHp()) player.chooseUseTarget({name:'sha'},'é•¿å§¬ï¼šæ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼Ÿ',false,'nodistance');
        'step 1'
        if(player.isMaxHandcard()) player.chooseUseTarget({name:'jiedao'},'é•¿å§¬ï¼šæ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ ã€å€Ÿåˆ€æ€äººã€‘ï¼Ÿ',false,'nodistance');
        'step 2'
        if(player.isMaxHp()&&player.isMaxHandcard()){
            var num=player.getStat('damage');
            player.draw(num);
        }
    },
            },
            "DIY_zenhui":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                filter:function(event,player){
        if(event.targets.length>1) return false;
        var card=event.card;
        if(card.name=='sha') return true;
        if(get.type(card)=='trick') return true;
        return false;
    },
                direct:true,
                content:function(){
        "step 0"
        player.chooseTarget(get.prompt2('DIY_zenhui'),function(card,player,target){
            if(player==target) return false;
            var evt=_status.event.getTrigger();
            return !evt.targets.contains(target);
        }).set('ai',function(target){
            var trigger=_status.event.getTrigger();
            var player=_status.event.player;
            return get.effect(target,trigger.card,player,player)+0.01;
        });
        "step 1"
        if(result.bool){
            event.target=result.targets[0];
        }
        else{
            event.finish();
        }
        "step 2"
        player.logSkill('DIY_zenhui',event.target);
        if(!player.canUse(trigger.card,event.target,false)) event.goto(4);
        if(player.hasSkill('DIY_zenhui2')) event.goto(5);
        event.target.chooseBool('ä»£æ›¿'+get.translation(player)+'æˆä¸º'+get.translation(trigger.card)+'çš„ä½¿ç”¨è€…ï¼Œæˆ–ç‚¹â€œå–æ¶ˆâ€æˆä¸º'+get.translation(trigger.card)+'çš„é¢å¤–ç›®æ ‡').set('ai',function(card){
            var num=[0,1].randomGet();
            return num<1?true:false;
        });
        "step 3"
        if(result.bool){
            event.goto(4);
        }
        else{
            event.goto(5);
        }
        "step 4"
        trigger.untrigger();
        trigger.getParent().player=event.target;
        game.log(event.target,'æˆä¸ºäº†',trigger.card,'çš„ä½¿ç”¨è€…');
        player.insertPhase();
        player.addTempSkill('DIY_zenhui2');
        event.goto(6);
        "step 5"
        game.log(event.target,'æˆä¸ºäº†',trigger.card,'çš„é¢å¤–ç›®æ ‡');
        trigger.getParent().targets.push(event.target);
        "step 6"
        event.finish();
    },
            },
            "DIY_zenhui2":{
                marktext:"è°®æ¯",
                mark:true,
                intro:{
                    "name2":"è°®æ¯",
                    content:"æœ¬å›åˆç»“æŸæ—¶ï¼Œä½ è¿›è¡Œä¸€ä¸ªé¢å¤–å›åˆ",
                },
            },
            "DIY_jiaojin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    target:"useCardToTarget",
                },
                filter:function(event,player){
        return (event.card.name=='sha'||get.type(event.card)=='trick')&&event.player!=player&&event.player.hasSex('male');
    },
                direct:true,
                content:function(){
        "step 0"
        player.chooseToDiscard('he');
        "step 1"
        if(result.bool){
            player.draw('visible');
            player.logSkill("DIY_jiaojin");
        }
        else{
            event.goto(3);
        }
        "step 2"
        var card=result[0];
        if(get.type(card)!='basic'){
            player.say(["æ”¾è‚†!ä½ æ•¢ä»¥ä¸‹çŠ¯ä¸Šï¼Ÿï¼","ä½ å°±ä¸æ€•æˆ‘çˆ¶ç‹æ€äº†ä½ å—ï¼Ÿ","ä½ ç–¯äº†ï¼Ÿï¼æˆ‘å¯æ˜¯é•¿å…¬ä¸»","å²‚æ•¢å¯¹æœ¬å…¬ä¸»æ— ç¤¼","è§åˆ°æœ¬å…¬ä¸»ï¼Œä¸ºä½•ä¸è·ªï¼","æœ¬å…¬ä¸»åœ¨æ­¤ï¼Œå²‚å®¹ä½ ä»¬æ”¾è‚†ï¼Ÿ!","æœ¬å…¬ä¸» å¯æ˜¯æŒä¸Šæ˜ç ","å®šå«ä½ åƒä¸äº†å…œç€èµ°","çºµæ— å«¡åº¶ä¹‹åˆ†ï¼Œä¹Ÿè¯¥è®ºé•¿å¹¼ä¸ºåº"].randomGet());
            trigger.untrigger();
            trigger.getParent().player=player;
            trigger.targets.remove(player);
            trigger.getParent().triggeredTargets2.remove(player);
            trigger.getParent().targets.push(trigger.player);
            game.log(player,'æˆä¸ºäº†',trigger.cards,'çš„ä½¿ç”¨è€…');
            game.log(trigger.player,'æˆä¸ºäº†',trigger.cards,'çš„ç›®æ ‡');
        }
    },
            },
            "DIY_jiezi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:["phaseDrawSkipped","phaseDrawCancelled"],
                },
                forced:true,
                content:function(){
        player.addMark('DIY_jiezi',1);
    },
                marktext:"è¾",
                intro:{
                    "name2":"è¾",
                    content:"mark",
                    onunmark:true,
                },
                group:"DIY_jiezi_extra",
                subSkill:{
                    extra:{
                        audio:"DIY_jiezi",
                        trigger:{
                            global:"phaseDrawAfter",
                        },
                        prompt:function(event,player){
                            var str="æˆªè¾ï¼šæ˜¯å¦ä»¤"+get.translation(event.player)+"æ‰§è¡Œä¸€ä¸ªæ‘¸ç‰Œé˜¶æ®µï¼Ÿ";
                            return str;
                        },
                        filter:function(event,player){
                return player.countMark('DIY_jiezi');
            },
                        logTarget:"player",
                        check:function(event,player){
                            return get.attitude(player,event.player)>0;
                        },
                        content:function(){
                var next=trigger.player.phaseDraw();
                event.next.remove(next);
                trigger.getParent().next.add(next);
                player.removeMark('DIY_jiezi',1);
            },
                        sub:true,
                    },
                },
            },
            "DIY_duanliang":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseBegin",
                },
                direct:true,
                filter:function(event,player){
                    return !event.numFixed&&player.countCards('h')>0&&event.player!=player;
                },
                content:function(){
        "step 0"
        var save=false;
        if(get.attitude(player,trigger.player)<0){
            save=true;
        }
        var next=player.chooseToDiscard(get.prompt('DIY_duanliang'),'å¼ƒç½®ä¸€å¼ é»‘è‰²ç‰Œå¹¶è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºâ™£ åˆ™è·³è¿‡'+get.translation(_status.currentPhase)+'çš„æ‘¸ç‰Œé˜¶æ®µ','he',function(card){
            return get.color(card)=='black';
        }).set('ai',function(card){
			if(save){
                return 7-get.value(card);
			}
			return 0;
        });
        next.logSkill=['DIY_duanliang',_status.currentPhase];
        "step 1"
        if(result.bool){
            player.judge(function(card){
                if(get.suit(card)!="club") return 2;
                return 0;
                }).judge2=function(result){
                    return result.bool?true:false;
                };
        }
        'step 2'
        if(result.bool){
            trigger.player.skip('phaseDraw');
        }
        'step 3'
        game.delay();
    },
                ai:{
                    expose:0.3,
                },
            },
            "DIY_qimei":{
                audio:"qimei",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                direct:true,
                content:function(){
        'step 0'
        player.chooseTarget(get.prompt('DIY_qimei'),'é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²å¹¶è·å¾—â€œé½çœ‰â€æ•ˆæœ',lib.filter.notMe).set('',function(target){
            var player=_status.event.player;
            return get.attitude(player,target)/(Math.abs(player.countCards('h')+2-target.countCards('h'))+1)
        });
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            player.logSkill('DIY_qimei',target);
            player.storage.DIY_qimei_draw=target;
            player.addTempSkill('DIY_qimei_draw',{player:'phaseBegin'});
            game.delayx();
        }
    },
                subSkill:{
                    draw:{
                        usable:1,
                        audio:"qimei",
                        charlotte:true,
                        forced:true,
                        trigger:{
                            global:["loseAfter","gainAfter"],
                        },
                        logTarget:function(event,player){
                return player.storage.DIY_qimei_draw;
            },
                        filter:function(event,player){
                var target=player.storage.DIY_qimei_draw;
                if(!target||!target.isIn()) return false;
                if(event.player!=target&&event.player!=player) return false;
                return true;
            },
                        content:function(){
                var target=player.storage.DIY_qimei_draw;
                var num=player.countCards('h')-target.countCards('h');
                if(num>0) target.draw(num);
                if(num<0) player.draw(-num);
            },
                        onremove:true,
                        mark:"character",
                        intro:{
                            content:"å·²å’Œ$ç»„æˆé½çœ‰ç»„åˆ",
                        },
                        group:"DIY_qimei_hp",
                        sub:true,
                    },
                    hp:{
                        usable:1,
                        audio:"qimei",
                        trigger:{
                            global:"changeHp",
                        },
                        charlotte:true,
                        forced:true,
                        logTarget:function(event,player){
                return player.storage.DIY_qimei_draw;
            },
                        filter:function(event,player){
                var target=player.storage.DIY_qimei_draw;
                if(!target||!target.isIn()) return false;
                if(player!=event.player&&target!=event.player) return false;
                return player.hp!=target.hp;
            },
                        content:function(){
                var target=player.storage.DIY_qimei_draw;
                var num=player.hp-target.hp;
                if(num>0) target.recover(num);
                if(num<0) player.recover(-num);
            },
                        sub:true,
                    },
                },
            },
            "DIY_yuqi":{
                audio:"yuqi",
                trigger:{
                    global:"damageEnd",
                },
                frequent:true,
                filter:function(event){
        var num1=game.countPlayer(function(current){
            return current.countCards('ej',{color:'black'});
        });
        var num2=game.countPlayer(function(current){
            return current.countCards('ej',{color:'red'});
        });
        return event.num>0&&num1==num2;
    },
                content:function(){
        "step 0"
        event.count=trigger.num;
        "step 1"
        event.count--;
        event.cards=get.cards(2);
        "step 2"
        if(event.cards.length>1){
            player.chooseCardButton('å°†â€œéš…æ³£â€ç‰Œåˆ†é…ç»™ä»»æ„è§’è‰²',true,event.cards,[1,event.cards.length]).set('ai',function(button){
                if(ui.selected.buttons.length==0) return 1;
                return 0;
            });
        }
        else if(event.cards.length==1){
            event._result={links:event.cards.slice(0),bool:true};
        }
        else{
            event.goto(5);
        }
        "step 3"
        if(result.bool){
            for(var i=0;i<result.links.length;i++){
                event.cards.remove(result.links[i]);
            }
            event.togive=result.links.slice(0);
            player.chooseTarget('å°†'+get.translation(result.links)+'äº¤ç»™ä¸€åè§’è‰²',true).set('ai',function(target){
                var att=get.attitude(_status.event.player,target);
                if(_status.event.enemy){
                    return -att;
                }
                else if(att>0){
                    return att/(1+target.countCards('h'));
                }
                else{
                    return att/100;
                }
            }).set('enemy',get.value(event.togive[0],player,'raw')<0);
        }
        "step 4"
        if(result.targets.length){
            result.targets[0].gain(event.togive,'draw');
            player.line(result.targets[0],'green');
            game.log(result.targets[0],'è·å¾—äº†'+get.cnNumber(event.togive.length)+'å¼ ç‰Œ');
            event.goto(2);
        }
        "step 5"
        if(event.count>0) player.chooseBool(get.prompt2(event.name)).set('frequentSkill',event.name);
        else event.finish();
        "step 6"
        if(result.bool){
            player.logSkill(event.name);
            event.goto(1);
        }
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    effect:{
                        target:function(card,player,target){
                if(get.tag(card,'damage')){
                    if(player.hasSkillTag('jueqing',false,target)) return [1,-2];
                    if(!target.hasFriend()) return;
                    var num=1;
                    if(get.attitude(player,target)>0){
                        if(player.needsToDiscard()){
                            num=0.7;
                        }
                        else{
                            num=0.5;
                        }
                    }
                    if(target.hp>=4) return [1,num*2];
                    if(target.hp==3) return [1,num*1.5];
                    if(target.hp==2) return [1,num*0.5];
                }
            },
                    },
                },
            },
            "DIY_shanshen":{
                mark:true,
                marktext:"å–„èº«",
                intro:{
                    content:function(storage,player){
            name:'å–„èº«';
            var str='<li>æ‹¥æœ‰æŠ€èƒ½ã€–éš…æ³£ã€—';
            var num1=game.countPlayer(function(current){
                return current.countCards('ej',{color:'black'});
            });
            var num2=game.countPlayer(function(current){
                return current.countCards('ej',{color:'red'});
            });
            if(num1>num2) str='<li>æ‹¥æœ‰æŠ€èƒ½ã€–å¸·å¹•ã€—';
            if(num2>num1) str='<li>æ‹¥æœ‰æŠ€èƒ½ã€–æ˜å“²ã€—';
            return str;
        },
                },
                audio:"shanshen",
                derivation:["DIY_yuqi","DIY_shanshen_weimu","DIY_shanshen_mingzhe"],
                group:["DIY_yuqi","DIY_shanshen_weimu","DIY_shanshen_mingzhe"],
            },
            "DIY_shanshen_weimu":{
                audio:"shanshen",
                mod:{
                    targetEnabled:function(card,player,target){
            var bool=false;
            var num1=game.countPlayer(function(current){
                return current.countCards('ej',{color:'black'});
            });
            var num2=game.countPlayer(function(current){
                return current.countCards('ej',{color:'red'});
            });
            if(num1>num2) bool=true;
            if(bool&&(get.type(card)=='trick'||get.type(card)=='delay')&&
                get.color(card)=='black') return false;
        },
                },
                trigger:{
                    target:"useCardToTarget",
                },
                forced:true,
                filter:function(event,player){
        var bool=false;
        var num1=game.countPlayer(function(current){
            return current.countCards('ej',{color:'black'});
        });
        var num2=game.countPlayer(function(current){
            return current.countCards('ej',{color:'red'});
        });
        if(num1>num2) bool=true;
        return bool&&player==_status.currentPhase&&event.player!=player;
    },
                content:function(){
        trigger.targets.remove(player);
        trigger.getParent().triggeredTargets2.remove(player);
        trigger.untrigger();
        trigger.cancel();
    },
            },
            "DIY_shanshen_mingzhe":{
                audio:"shanshen",
                trigger:{
                    player:["useCard","respond","loseAfter"],
                },
                frequent:true,
                filter:function(event,player){
        var num1=game.countPlayer(function(current){
            return current.countCards('ej',{color:'black'});
        });
        var num2=game.countPlayer(function(current){
            return current.countCards('ej',{color:'red'});
        });
        if(num1>=num2) return false;
        if(player==_status.currentPhase) return false;
        if(event.name!='lose') return get.color(event.card)=='red';
        if(event.type!='discard') return false;
        if(event.cards2){
            for(var i=0;i<event.cards2.length;i++){
                if(get.color(event.cards2[i],player)=='red') return true;
            }
        }
        return false;
    },
                content:function(){
        "step 0"
        event.count=1;
        if(trigger.name=='lose'){
            event.count=0;
            for(var i=0;i<trigger.cards2.length;i++){
                if(get.color(trigger.cards2[i],player)=='red') event.count++;
            }
        }
        "step 1"
        player.draw();
        event.count--;
        "step 2"
        if(event.count){
            player.chooseBool(get.prompt2('DIY_shanshen')).set('frequentSkill','mingzhe');
        }
        else event.finish();
        "step 3"
        if(result.bool){
            player.logSkill('DIY_shanshen');
            event.goto(1);
        }
    },
                ai:{
                    threaten:0.7,
                },
            },
            "DIY_xianya":{
                audio:"xianjing",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                direct:true,
                filter:function(event,player){
        var num=0;
        player.getHistory('lose',function(evt){
            if(evt.cards2) num+=evt.cards2.length;
        });
        return num>0;
    },
                content:function(){
        'step 0'
        var num=1;
        if(player.getHistory('damage').length>0) num=2;
        player.chooseTarget(get.prompt('DIY_xianya'),'ä»¤ä¸€åè§’è‰²æ‘¸'+get.cnNumber(num)+'å¼ ç‰Œã€‚').set('ai',function(target){
            if(target.hasSkillTag('nogain')&&target!=_status.currentPhase) return target.isDamaged()?0:1;
            var att=get.attitude(_status.event.player,target);
            if(target.isDamaged()) att=att*1.2;
            return att;
        });
        'step 1'
        if(result.bool){
            var num=1;
            if(player.getHistory('damage').length>0) num=2;
            var target=result.targets[0];
            player.logSkill('DIY_xianya',target);
            target.draw(num);
        }
    },
            },
            "DIY_juece":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                prompt:"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ï¼Œç„¶åå¯¹å…¶é€ æˆä¸€ç‚¹ä¼¤å®³ï¼Œè‹¥å…¶æ‰‹ç‰Œæ•°å¤§äºå…¶ä½“åŠ›å€¼ï¼Œä½ å¯¹å…¶é€ æˆ1ç‚¹ä¼¤å®³ä¸”ã€ç»ç­–ã€‘å¤±æ•ˆç›´è‡³ä¸€åè§’è‰²æ­»äº¡æˆ–æœ¬å›åˆç»“æŸã€‚",
                enable:"phaseUse",
                filter:function(event,player){
        return player.countCards('he')>0&&!player.hasSkill('DIY_juece2');
    },
                discard:false,
                line:true,
                lose:false,
                delay:false,
                position:"he",
                filterCard:true,
                direct:true,
                filterTarget:function(card,player,target){
        return target!=player;
    },
                check:function(card){
        return 5-get.value(card);
    },
                content:function(){
        'step 0'
        if(target.countCards('h')<target.hp){
            player.logSkill('DIY_juece1',target);
        }
        else{
            player.logSkill('DIY_juece',target);
        }
        target.gain(cards,player,'giveAuto');
        'step 1'
        if(target.countCards('h')>target.hp){
           target.damage('nocard');
           player.addSkill('DIY_juece2');
        }
    },
                ai:{
                    order:1,
                    result:{
                        target:function(player,target){
                            if(target.countCards('h')<target.hp) return 1;
                            return -1;
                        },
                    },
                },
            },
            "DIY_juece1":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
            },
            "DIY_juece2":{
                mark:true,
                marktext:"ç»",
                intro:{
                    name:"ç»ç­–",
                    content:"æœ¬å›åˆã€–ç»ç­–ã€—å¤±æ•ˆ",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:["dieAfter","phaseAfter"],
                },
                forced:true,
                content:function(){
        player.removeSkill("DIY_juece2");
    },
            },
            "DIY_mieji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                enable:"phaseUse",
                usable:1,
                filter:function(event,player){
        return player.hasCard(function(card){
            return get.type(card)!='basic';
        },'eh');
    },
                filterCard:function(card){
        return get.type(card,'trick')!='basic';
    },
                filterTarget:function(card,player,target){
        return target!=player&&target.countCards('h')>0;
    },
                discard:false,
                delay:false,
                check:function(card){
        return 8-get.value(card);
    },
                loseTo:"cardPile",
                insert:true,
                visible:true,
                content:function(){
        player.showCards(cards);
        target.storage.DIY_mieji2=get.color(cards);
        target.addTempSkill('DIY_mieji2',{player:'phaseAfter'});
    },
                ai:{
                    order:9,
                    result:{
                        target:function(player,target){
                            return -target.countCards('h');
                        },
                    },
                },
            },
            "DIY_mieji2":{
                group:"g_du",
                forced:true,
                mark:true,
                mod:{
                    cardname:function(card,player){
            if(get.color(card)==player.storage.DIY_mieji2) return 'du';
        },
                },
                intro:{
                    content:function(color){
            return 'ä½ çš„'+get.translation(color)+'ç‰Œè§†ä¸ºã€æ¯’ã€‘';
        },
                },
            },
            "DIY_qiaoshuo":{
                group:"DIY_qiaoshuo2",
                audio:"reqiaoshui",
                enable:"phaseUse",
                filterTarget:function(card,player,target){
        return player.canCompare(target);
    },
                filter:function(event,player){
        return player.countCards('h')>0;
    },
                content:function(){
        'step 0'
        player.chooseToCompare(target);
        'step 1'
        if(result.bool) player.addMark('DIY_qiaoshuo',1);
        else{
            if(player.countMark('DIY_qiaoshuo')>0){
                player.removeMark('DIY_qiaoshuo',1);
                event.finish();
            }
            else{
                var evt=_status.event.getParent('phaseUse');
                if(evt&&evt.name=='phaseUse'){
                    evt.skipped=true;
                    event.finish();
                }
                event.finish();
            }
        }
    },
                intro:{
                    name:"å·§è¯´",
                    content:"mark",
                },
                ai:{
                    order:8,
                    result:{
                        target:function(player,target){
                            return -1;
                        },
                    },
                },
                marktext:"å·§è¯´",
            },
            "DIY_qiaoshuo2":{
                trigger:{
                    player:"useCard2",
                },
                direct:true,
                filter:function(event,player){
        if(!player.countMark('DIY_qiaoshuo')) return false;
        var type=get.type(event.card);
        return type=='basic'||type=='trick';
    },
                content:function(){
        'step 0'
        player.removeMark('DIY_qiaoshuo',1);
        var goon=false;
        var info=get.info(trigger.card);
        if(trigger.targets&&!info.multitarget){
            var players=game.filterPlayer();
            for(var i=0;i<players.length;i++){
                if(lib.filter.targetEnabled2(trigger.card,player,players[i])&&!trigger.targets.contains(players[i])){
                    goon=true;break;
                }
            }
        }
        if(goon){
            player.chooseTarget('å·§è¯´ï¼šæ˜¯å¦é¢å¤–æŒ‡å®šä¸€å'+get.translation(trigger.card)+'çš„ç›®æ ‡ï¼Ÿ',function(card,player,target){
                var trigger=_status.event;
                if(trigger.targets.contains(target)) return false;
                return lib.filter.targetEnabled2(trigger.card,_status.event.player,target);
            }).set('ai',function(target){
                var trigger=_status.event.getTrigger();
                var player=_status.event.player;
                return get.effect(target,trigger.card,player,player);
            }).set('targets',trigger.targets).set('card',trigger.card);
        }
        else{
            if(!info.multitarget&&trigger.targets&&trigger.targets.length>1){
                event.goto(3);
            }
        }
        'step 1'
        if(result.bool){
            if(!event.isMine()) game.delayx();
            event.target=result.targets[0];
        }
        else{
            event.finish();
        }
        'step 2'
        if(event.target){
            player.logSkill('DIY_qiaoshuo',event.target);
            trigger.targets.add(event.target);
        }
        event.finish();
        'step 3'
        player.chooseTarget('å·§è¯´ï¼šæ˜¯å¦å‡å°‘ä¸€å'+get.translation(trigger.card)+'çš„ç›®æ ‡ï¼Ÿ',function(card,player,target){
            return _status.event.targets.contains(target);
        }).set('ai',function(target){
            var trigger=_status.event.getTrigger();
            return -get.effect(target,trigger.card,trigger.player,_status.event.player);
        }).set('targets',trigger.targets);
        'step 4'
        if(result.bool){
            event.targets=result.targets;
            if(event.isMine()){
                player.logSkill('DIY_qiaoshuo',event.targets);
                event.finish();
            }
            for(var i=0;i<result.targets.length;i++){
                trigger.targets.remove(result.targets[i]);
            }
            game.delay();
        }
        else{
            event.finish();
        }
        'step 5'
        player.logSkill('DIY_qiaoshuo',event.targets);
    },
            },
            "DIY_zongshi":{
                audio:"xinjyzongshi",
                trigger:{
                    player:["chooseToCompareAfter","compareMultipleAfter"],
                    target:["chooseToCompareAfter","compareMultipleAfter"],
                },
                filter:function(event,player){
        return !event.preserve;
    },
                frequent:true,
                content:function(){
        'step 0'
        var str='<div class="text center">ç‰Œå †é¡¶';
        var cards=get.cards();
        if(player==trigger.player){
            if(trigger.num1>trigger.num2&&get.position(trigger.card2,true)=='o'){
                str+='/æ‹¼ç‚¹ç‰Œ';
                cards.push(trigger.card2)
            }
            else if(trigger.num1<trigger.num2&&get.position(trigger.card1,true)=='o'){
                str+='/æ‹¼ç‚¹ç‰Œ';
                cards.push(trigger.card1);
            }
        }
        else{
            if(trigger.num1<trigger.num2&&get.position(trigger.card1,true)=='o'){
                str+='/æ‹¼ç‚¹ç‰Œ';
                cards.push(trigger.card1);
            }
            else if(trigger.num1>trigger.num2&&get.position(trigger.card2,true)=='o'){
                str+='/æ‹¼ç‚¹ç‰Œ';
                cards.push(trigger.card2);
            }
        }
        str+='</div>';
        event.cards=cards;
        player.chooseButton(['çºµé€‚ï¼šé€‰æ‹©è¦è·å¾—çš„ç‰Œ',str,cards],true).set('ai',get.buttonValue);
        'step 1'
        if(result.bool){
            var draw=result.links[0]==cards[0];
            player.gain(result.links,draw?'draw':'gain2').log=false;
            game.log(player,'è·å¾—äº†',draw?'ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œ':result.links);
            if(!draw){
                cards[0].fix();
                ui.cardPile.insertBefore(cards[0],ui.cardPile.firstChild);
                game.updateRoundNumber();
            }
        }
    },
            },
            "DIY_jiang":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    source:"damageSource",
                    player:"damageEnd",
                },
                forced:true,
                filter:function(event){
        return event.num>0; 
    },
                content:function(){
        player.gainMaxHp(trigger.num);
    },
            },
            "DIY_hunzi":{
                filter:function(event,player){
        return player.hp<=2&&!player.storage.DIY_hunzi;
    },
                ai:{
                    threaten:function(player,target){
            if(target.hp<=2) return 2;
            return 0.5;
        },
                    maixie:true,
                    effect:{
                        target:function(card,player,target){
                if(!target.hasFriend()) return;
                if(get.tag(card,'damage')==1&&target.hp==2&&!target.isTurnedOver()&&
                _status.currentPhase!=target&&get.distance(_status.currentPhase,target,'absolute')<=3) return [0.5,1];
            },
                    },
                },
                skillAnimation:true,
                animationColor:"wood",
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                juexingji:true,
                unique:true,
                trigger:{
                    player:["phaseZhunbeiBegin","dying"],
                },
                forced:true,
                derivation:["yingba","scfuhai","pinghe"],
                content:function(){
        'step 0'
        player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_sunce2.jpg');
        player.recover(1-player.hp);
        player.awakenSkill(event.name);
        player.storage[event.name]=true;
        'step 1'
        game.delay();
        player.popup('è‹±éœ¸');
        player.addSkill('yingba');
        game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€è‹±éœ¸ã€‘');
        'step 2'
        game.delay();
        player.popup('è¦†æµ·');
        player.addSkill('scfuhai');
        game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€è¦†æµ·ã€‘');
        'step 3'
        game.delay();
        player.popup('å†¯æ²³');
        player.addSkill('pinghe');
        game.log(player,'è·å¾—äº†æŠ€èƒ½','#gã€å†¯æ²³ã€‘');
    },
            },
            "DIY_lianji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:2,
                filter:function(event,player){
        return player.getStorage('DIY_lianji2').length<3&&player.countCards('he');
    },
                onChooseToUse:function(event){
        if(!game.online){
            var evt=event.getParent();
            if(evt.name!='phaseUse') return;
            if(!evt.DIY_lianji_list){
                var list=[];
                list.push('wy_xiaolicangdao');
                list.push('jiedao');
                list.push('wy_meirenji');
                evt.DIY_lianji_list=list;
            }
            if(!event.DIY_lianji_list) event.set('DIY_lianji_list',evt.DIY_lianji_list);
        }
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            for(var i of event.DIY_lianji_list)
                if(!player.getStorage('DIY_lianji2').contains(i)) list.push(['é”¦å›Š','',i]);
            return ui.create.dialog('è¿è®¡',[list,'vcard']);
        },
                    filter:function(button,player){
            return lib.filter.filterCard({name:button.link[2]},player,_status.event.getParent());
        },
                    check:function(button){
            return _status.event.player.getUseValue({name:button.link[2]});
        },
                    backup:function(links,player){
            return {
                audio:'DIY_lianji',
                filterCard:true,
                popname:true,
                position:'hes',
                viewAs:{name:links[0][2]},
                check:function(card){
                    return 6-get.value(card);
                },
                filterCard:true,
                onuse:function(links,player){
                    if(!player.storage.DIY_lianji2) player.storage.DIY_lianji2=[];
                    player.storage.DIY_lianji2.add(links.card.name);
                    player.addTempSkill('DIY_lianji2',{player:'useCardAfter'});
                },
            };
        },
                    prompt:function(links,player){
            return 'å°†ä¸€å¼ ç‰Œå½“åš'+get.translation(links[0][2])+'ä½¿ç”¨';
        },
                },
                ai:{
                    order:2,
                    result:{
                        player:function(player){
                if((player.hp<=2||player.needsToDiscard())&&!player.getStat('damage')) return 0;
                return 1;
            },
                    },
                },
                group:"DIY_lianji_clear",
                subSkill:{
                    clear:{
                        trigger:{
                            player:"phaseUseAfter",
                        },
                        direct:true,
                        content:function(){
                player.storage.DIY_lianji2=[];
            },
                        sub:true,
                    },
                },
            },
            "DIY_lianji2":{
                mark:true,
                marktext:"è¿è®¡",
                intro:{
                    name:"è¿è®¡",
                    content:"è‘£è´¼ä¼è¯›ï¼Œå¤©ä¸‹å¤ªå¹³ï¼",
                },
            },
            "DIY_moucheng":{
                limited:true,
                unique:true,
                init:function (player){
        player.storage.DIY_moucheng=false;
    },
                skillAnimation:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                animationColor:"thunder",
                derivation:"DIY_jingong",
                trigger:{
                    global:"dieAfter",
                },
                filter:function (event,player){
        if(player.storage.DIY_moucheng==true) return false;
        return player.hasSkill('DIY_lianji2');
    },
                content:function (){
        player.awakenSkill('DIY_moucheng');
        player.gainMaxHp();
        player.recover(player.maxHp-player.hp);
        player.drawTo(player.maxHp);
        player.removeSkill('DIY_lianji');
        player.addSkill('DIY_jingong');
        player.storage.DIY_moucheng=true;
    },
                mark:true,
                intro:{
                    content:"limited",
                },
            },
            "DIY_jingong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:8",
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
        if(lib.inpile.contains(name)&&name!='wuxie') return true;
    },
                filter:function(event,player){
        if(event.responded||event.DIY_jingong) return false;
        for(var i of lib.inpile){
            if(event.filterCard({name:i},player,event)&&i!='wuxie') return true;
        }
        return false;
    },
                check:function(event,player){
        if(player.hp<-1) return false;
        var card=event.filterCard(card,player,event);
        var cards=[];
        for(var i=0;i<3;i++){
            cards.push(ui.cardPile.childNodes[i]);
        }
        if(cards.contains(card)) return true;
        return false;
    },
                content:function(){
                    'step 0'
                    var evt=event.getParent(2);
                    evt.set('DIY_jingong',true);
                    var cards=get.cards(3);
                    for(var i=cards.length-1;i>=0;i--){
                        ui.cardPile.insertBefore(cards[i].fix(),ui.cardPile.firstChild);
                    }
					var aozhan=player.hasSkill('aozhan');
                    player.chooseButton(['çŸœåŠŸï¼šé€‰æ‹©è¦'+(evt.name=='chooseToUse'?'ä½¿ç”¨':'æ‰“å‡º')+'çš„ç‰Œ',cards]).set('filterButton',function(button){
                        return _status.event.cards.contains(button.link);
                    }).set('cards',cards.filter(function(card){
                        if(aozhan&&card.name=='tao'){
                            return evt.filterCard({
                                name:'sha',isCard:true,cards:[card],
                            },evt.player,evt)||evt.filterCard({
                                name:'shan',isCard:true,cards:[card],
                            },evt.player,evt);
                        }
                        return evt.filterCard(card,evt.player,evt);
                    })).set('ai',function(button){
                        var evt=_status.event.getParent(3);
                        	if(evt&&evt.ai){
                            	var tmp=_status.event;
                            	_status.event=evt;
                            	var result=(evt.ai||event.ai1)(button.link,_status.event.player,evt);
                            	_status.event=tmp;
                            	return result;
                        	}
                        return 1;
                    });
                    'step 1'
                    var evt=event.getParent(2);
                    	if(result.bool&&result.links&&result.links.length){
							var name=result.links[0].name,aozhan=(player.hasSkill('aozhan')&&name=='tao');
							if(aozhan){
								name=evt.filterCard({
									name:'sha',isCard:true,cards:[card],
								},evt.player,evt)?'sha':'shan';
							}
                        	if(evt.name=='chooseToUse'){
                            	game.broadcastAll(function(result,name){
                                	lib.skill.DIY_jingong_backup.viewAs={name:name,cards:[result],isCard:true};
                                	lib.skill.DIY_jingong_backup.prompt='é€‰æ‹©'+get.translation(result)+'çš„ç›®æ ‡';
                            	},result.links[0],name);
                            	evt.set('_backupevent','DIY_jingong_backup');
                            	evt.backup('DIY_jingong_backup');
                        	}
                        	else{
                            	delete evt.result.skill;
                            	delete evt.result.used;
                            	evt.result.card=get.autoViewAs(result.links[0]);
								if(aozhan) evt.result.card.name=name;
                            	evt.result.cards=[result.links[0]];
                            	evt.redo();
                            	return;
                        	}
                    	}
                    	else player.loseHp();
                    	evt.goto(0);
                	},
                ai:{
                    effect:{
                        target:function(card,player,target,effect){
                if(get.tag(card,'respondShan')) return 0.7;
                if(get.tag(card,'respondSha')) return 0.7;
            },
                    },
                    order:11,
                    respondShan:true,
                    respondSha:true,
                    result:{
                        player:function(player){
                if(_status.event.dying) return get.attitude(player,_status.event.dying);
                return 1;
            },
                    },
                },
            },
            "DIY_jingong_backup":{
                sourceSkill:"DIY_jingong",
                precontent:function(){
        delete event.result.skill;
        var name=event.result.card.name;
        event.result.cards=event.result.card.cards;
        event.result.card=get.autoViewAs(event.result.cards[0]);
        event.result.card.name=name;
    },
                filterCard:function(){return false},
                selectCard:-1,
            },
            "DIY_lingren":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:6",
                enable:"phaseUse",
                delay:false,
                usable:1,
                filter:function(event,player){
        return player.countCards('h');
    },
                content:function(){
        'step 0'
        player.showHandcards();
        'step 1'
        var list=['çº¢è‰²','é»‘è‰²'];
        if(player.countCards('h',{color:'red'})==0) list.remove('çº¢è‰²');
        if(player.countCards('h',{color:'black'})==0) list.remove('é»‘è‰²');
        player.chooseControl(list).set('ai',function(){
            var player=_status.event.player;
            if(player.countCards('h',{color:'red'})==1&&
            player.countCards('h',{color:'black'})>1) return 'çº¢è‰²';
            return 'é»‘è‰²';
        });
        'step 2'
        event.control=result.control;
        var cards;
        if(event.control=='çº¢è‰²'){
            cards=player.getCards('h',{color:'red'});
        }
        else{
            cards=player.getCards('h',{color:'black'});
        }
        for(var i=0;i<cards.length;i++){
            var hs=[];
            hs.push(cards[i]);
            player.chooseUseTarget(get.prompt('DIY_lingren'),'å°†'+get.translation(cards[i])+'å½“åšã€æ€ã€‘ä½¿ç”¨','sha',hs,true,'nodistance').logSkill='DIY_lingren2';
        }
    },
                ai:{
                    order:function(item,player){
            if(player.countCards('h',{color:'red'})==1) return 10;
            if(player.countCards('h',{color:'black'})==1) return 10;
            return 1;
        },
                    result:{
                        player:1,
                    },
                },
                group:"DIY_lingren_damage",
                subSkill:{
                    damage:{
                        audio:"DIY_lingren",
                        trigger:{
                            player:"damageAfter",
                        },
                        filter:function(event,player){
                            return player.countCards('h');
                        },
                        content:function(){
                            'step 0'
                            player.showHandcards();
                            'step 1'
                            var list=['çº¢è‰²','é»‘è‰²'];
                            if(player.countCards('h',{color:'red'})==0) list.remove('çº¢è‰²');
                            if(player.countCards('h',{color:'black'})==0) list.remove('é»‘è‰²');
                            player.chooseControl(list).set('ai',function(){
                                var player=_status.event.player;
                                if(player.countCards('h',{color:'red'})==1&&
                                player.countCards('h',{color:'black'})>1) return 'çº¢è‰²';
                                return 'é»‘è‰²';
                            });
                            'step 2'
                            event.control=result.control;
                            var cards;
                            if(event.control=='çº¢è‰²'){
                                cards=player.getCards('h',{color:'red'});
                            }
                            else{
                                cards=player.getCards('h',{color:'black'});
                            }
                            for(var i=0;i<cards.length;i++){
                                var hs=[];
                                hs.push(cards[i]);
                                player.chooseUseTarget(get.prompt('DIY_lingren'),'å°†'+get.translation(cards[i])+'å½“åšã€æ€ã€‘ä½¿ç”¨','sha',hs,true,'nodistance').logSkill='DIY_lingren2';
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_lingren2":{
                audio:"DIY_lingren",
            },
            "DIY_fujian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                usable:1,
                trigger:{
                    player:["useCard","respond"],
                },
                filter:function(event,player){
        return event.card.name=='sha'&&_status.currentPhase!=player;
    },
                forced:true,
                content:function(){
        "step 0"
        player.line(_status.currentPhase,'green');
        _status.currentPhase.addTempSkill('fengyin');
        "step 1"
        var info=lib.character[_status.currentPhase.name];
        player.draw(info[3].length);
    },
            },
            "DIY_wuniang":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"chooseToRespondBegin",
                },
                filter:function(event,player){
        if(event.responded) return false;
        if(!event.filterCard({name:'sha'},player,event)) return false;
        return player.countCards('h');
    },
                direct:true,
                content:function(){
        "step 0"
        player.chooseCardTarget({
            prompt:'è¯·é€‰æ‹©ã€æ­¦å¨˜ã€‘çš„ç‰Œå’Œç›®æ ‡',
            prompt2:'å°†ä¸€å¼ æ‰‹ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²è§†ä¸ºæ‰“å‡ºä¸€å¼ ã€æ€ã€‘',
            filterCard:true,
            filterTarget:lib.filter.notMe,
            ai1:function(card){
                if(get.tag(card,'recover')&&!game.hasPlayer(function(current){
                    return get.attitude(current,player)>0&&!current.hasSkillTag('nogain');
                })) return 0;
                return 1/Math.max(0.1,get.value(card));
            },
            ai2:function(target){
                var player=_status.event.player,att=get.attitude(player,target);
                if(target.hasSkillTag('nogain')) att/=9;
                return 4+att;
            },
        });
        "step 1"
        if(result.bool){
            var target=result.targets[0];
            player.line(target,'green');
            player.logSkill('DIY_wuniang',target);
            target.gain(result.cards,player,'giveAuto');
            event.draws=game.filterPlayer(function(current){
                if(current==player) return true;
                return ['lyz_guansuo','lyz_guansuo'].contains(current.name)||['lyz_guansuo','lyz_guansuo'].contains(current.name2);
            });
            game.asyncDraw(event.draws,1);
            trigger.untrigger();
            trigger.responded=true;
            trigger.result={bool:true,card:{name:'sha',isCard:true}};
        }
    },
                group:"DIY_wuniang_use",
            },
            "DIY_wuniang_use":{
                enable:"chooseToUse",
                filter:function(event,player){
        if(!player.countCards('h')) return false;
        return event.filterCard({name:'sha'},player,event);
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            if(event.filterCard({name:'sha'},player,event)){
                list.push(['åŸºæœ¬','','sha']);
                list.push(['åŸºæœ¬','','sha','fire']);
                list.push(['åŸºæœ¬','','sha','thunder']);
                list.push(['åŸºæœ¬','','sha','ice']);
            }
            return ui.create.dialog('æ­¦å¨˜',[list,'vcard'],'hidden');
        },
                    check:function(button){
            var player=_status.event.player;
            var card={name:button.link[2],nature:button.link[3]};
            if(game.hasPlayer(function(current){
                return player.canUse(card,current)&&get.effect(current,card,player,player)>0;
            })){
                if(card.name=='sha'){
                    if(card.nature=='fire') return 2.95;
                    else if(card.nature=='fire') return 2.92;
                    else return 2.9;
                }
            }
            return 0;
        },
                    backup:function(links,player){
            return {
                filterCard:function(){return false},
                viewAs:{name:links[0][2],nature:links[0][3],isCard:true},
                selectCard:-1,
                popname:true,
                log:false,
                precontent:function(){
                    'step 0'
                    player.chooseCardTarget({
                        prompt:'è¯·é€‰æ‹©ã€æ­¦å¨˜ã€‘çš„ç‰Œå’Œç›®æ ‡',
                        prompt2:'å°†ä¸€å¼ æ‰‹ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²',
                        filterCard:true,
                        forced:true,
                        filterTarget:lib.filter.notMe,
                        ai1:function(card){
                            if(get.tag(card,'recover')&&!game.hasPlayer(function(current){
                                return get.attitude(current,player)>0&&!current.hasSkillTag('nogain');
                            })) return 0;
                            return 1/Math.max(0.1,get.value(card));
                        },
                        ai2:function(target){
                            var player=_status.event.player,att=get.attitude(player,target);
                            if(target.hasSkillTag('nogain')) att/=9;
                            return 4+att;
                        },
                    });
                    'step 1'
                    if(result.bool){
                        var target=result.targets[0];
                        player.logSkill('DIY_wuniang',target);
                        player.line(target,'green');
                        target.gain(result.cards,player,'giveAuto');
                        event.draws=game.filterPlayer(function(current){
                            if(current==player) return true;
                            return ['lyz_guansuo','lyz_guansuo'].contains(current.name)||['lyz_guansuo','lyz_guansuo'].contains(current.name2);
                        });
                        game.asyncDraw(event.draws,1);
                    }
                },
            }
        },
                    prompt:function(links,player){
            return 'é€‰æ‹©'+get.translation(links[0][3]||'')+get.translation(links[0][2])+'çš„ç›®æ ‡';
        },
                },
                ai:{
                    order:function(){
            var player=_status.event.player;
            var event=_status.event;
            if(player.countCards('h')){
                if(event.filterCard({name:'sha'},player,event)){
                    return 2.9;
                }
            }
            return 0;
        },
                    save:true,
                    respondSha:true,
                    skillTagFilter:function(player,tag,arg){
            return player.countCards('h');
        },
                    result:{
                        player:function(player){
                return 1;
            },
                    },
                },
            },
            "DIY_zhennan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"damageEnd",
                },
                check:function(event,player){
                    return get.attitude(player,event.source)>0;
                },
                filter:function(event,player){
                    var num=event.source.getHistory('useCard',function(evt){
                        return get.tag(evt.card,'damage')>0;
                    }).length;
                    if(['yunhuaman'].contains(event.source.name)||['yunhuaman'].contains(event.source.name2)) return num>0;
                    return num>1;
                },
                content:function(){
        var list=[];
        list.add(player);
        if(trigger.source!=player) list.add(trigger.source);
        var num=1;
        if(['yunhuaman'].contains(trigger.source.name)||['yunhuaman'].contains(trigger.source.name2)) num=2;
        game.asyncDraw(list,num);
    },
                ai:{
                    jueqing:true,
                },
            },
            "DIY_shanjia":{
                audio:"shanjia",
                mark:true,
                intro:{
                    content:function(storage,player){
            var num=player.getAllHistory('useCard',(evt)=>get.type(evt.card)=='equip').length;
            if(num==0){
                str='æœªä½¿ç”¨è¿‡è£…å¤‡ç‰Œ';
            }
            else{
                str='å·²ä½¿ç”¨è¿‡'+get.translation(num)+'å¼ è£…å¤‡ç‰Œ';
            }
            if(!player.storage.DIY_shanjia){
                str+='<br>å·²å› ã€–ç¼®ç”²ã€—å¼ƒç½®è¿‡ã€‡å¼ è£…å¤‡ç‰Œ';
            }
            else{
                str+='<br>å·²å› ã€–ç¼®ç”²ã€—å¼ƒç½®è¿‡'+get.translation(player.storage.DIY_shanjia)+'å¼ è£…å¤‡ç‰Œ';
            }
            return str;
        },
                },
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                frequent:true,
                content:function(){
        'step 0'
        player.draw(Math.min(7,Math.max(3,player.getAllHistory('useCard',(evt)=>get.type(evt.card)=='equip').length)));
        'step 1'
        num=Math.min(7,Math.max(3,player.getAllHistory('useCard',(evt)=>get.type(evt.card)=='equip').length));
        if(player.storage.DIY_shanjia) num=Math.min(7,Math.max(3,player.getAllHistory('useCard',(evt)=>get.type(evt.card)=='equip').length))-player.storage.DIY_shanjia;
        if(num<1){
            event.goto(3);
        }
        else{
            player.chooseToDiscard('he',num,true);
        }
        'step 2'
        if(result.bool&&result.cards){
            for(var i=0;i<result.cards.length;i++){
                if(get.type(result.cards[i])=='equip'){
                    if(!player.storage.DIY_shanjia) player.storage.DIY_shanjia=0;
                    player.storage.DIY_shanjia++;
                    player.chooseUseTarget({name:'sha'},false,'ç¼®ç”²ï¼šæ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ æ— è·ç¦»é™åˆ¶çš„ã€æ€ã€‘ï¼Ÿ','nodistance');
                }
            }
        }
        'step 3'
    },
                ai:{
                    threaten:function(player,target){
            if(typeof target.storage.DIY_shanjia=='number'){
                return Math.min(2,Math.sqrt(1+target.storage.DIY_shanjia));
            }
        },
                },
            },
            "DIY_ganglie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:"damage",
                },
                filter:function(event,player){
        return (event.source!=undefined&&event.num>0);
    },
                direct:true,
                logTarget:"source",
                preHidden:true,
                content:function(){
        "step 0"
        player.addSkill('DIY_ganglie2');
        event.num=trigger.num;
        "step 1"
        var controls=[];
        if(trigger.source.isIn()){
            controls.push('åä¼¤');
            if(trigger.source.countCards('he')) controls.push('å¼ƒç‰Œ');
        }
        controls.push('cancel');
        player.chooseControl(controls).set('ai',function(){
            if(get.attitude(player,trigger.source)>0) return 'cancel';
            return 'åä¼¤';
        }).set('prompt',get.prompt2('DIY_ganglie'));
        "step 2"
        if(result.control=='å¼ƒç‰Œ'){
            player.logSkill('DIY_ganglie',trigger.source);
            if(trigger.source.countCards('he')){
                player.discardPlayerCard(trigger.source,'he',true);
            }
        }
        else{
            player.logSkill('DIY_ganglie',trigger.source);
            if(trigger.source.isIn()){
                trigger.source.damage();
            }
        }
        event.num--;
        if(event.num>0){
            player.chooseBool(get.prompt2('DIY_ganglie')).set('frequentSkill');
        }
        else{
            event.finish();
        }
        "step 3"
        if(result.bool){
            player.logSkill('DIY_ganglie',trigger.source);
            event.goto(1);
        }
    },
                ai:{
                    "maixie_defend":true,
                    expose:0.4,
                },
            },
            "DIY_ganglie2":{
                audio:"DIY_ganglie",
                mark:true,
                marktext:"ç«–ç½®",
                intro:{
                    name:"ç«–ç½®ä½“åŠ›ç‰Œ",
                    content:"é˜²æ­¢ä½ å—åˆ°çš„æ‰€æœ‰ä¼¤å®³",
                },
                trigger:{
                    player:"damageBegin3",
                },
                forced:true,
                content:function(){
        trigger.cancel();
    },
            },
            "DIY_fenyong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                forced:true,
                filter:function(event,player){
        return player.hasSkill('DIY_ganglie2')&&event.player.isAlive();
    },
                content:function(){
        'step 0'
        player.removeSkill('DIY_ganglie2');
        player.chooseControl('æ‘¸ç‰Œ','å¼ƒç‰Œ',function(){
            var player=_status.event.player;
            var trigger=_status.event.getTrigger();
            if(get.attitude(player,trigger.player)<0){
                if(trigger.player.countCards('he')<player.maxHp-player.hp){
                    return 'æ‘¸ç‰Œ';
                }
                return 'å¼ƒç‰Œ';
            }
            return 'æ‘¸ç‰Œ';
        }).set('prompt','æ‘¸'+get.cnNumber(player.maxHp-player.hp)+'å¼ ç‰Œï¼Œæˆ–å¼ƒç½®'+get.translation(trigger.player)+get.cnNumber(player.maxHp-player.hp)+'å¼ ç‰Œ');
        'step 1'
        if(result.control=='å¼ƒç‰Œ'){
            player.line(trigger.player,'green');
            if(player.hp<player.maxHp&&trigger.player.countCards('he')){
                player.discardPlayerCard(trigger.player,true,'he',player.maxHp-player.hp);
            }
        }
        else{
            player.draw(player.maxHp-player.hp);
        }
    },
            },
            "DIY_tuifeng":{
                group:["DIY_tuifeng2","DIY_tuifeng3"],
                audio:"tuifeng",
                trigger:{
                    player:["damageEnd","phaseUseEnd"],
                },
                frequent:true,
                locked:false,
                marktext:"é”‹",
                intro:{
                    content:"expansion",
                    markcount:"expansion",
                },
                notemp:true,
                filter:function(event,player){
        if(event.name=='phaseUse') return player.countCards('h')>player.hp;
        return event.num>0;
    },
                content:function(){
        "step 0"
        event.count=trigger.num||1;
        "step 1"
        event.count--;
        player.draw();
        "step 2"
        if(player.countCards('h')){
            player.chooseCard('å°†ä¸€å¼ æ‰‹ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šä½œä¸ºâ€œé”‹â€',true);
        }
        else{
            event.goto(4);
        }
        "step 3"
        if(result.cards&&result.cards.length){
            player.addToExpansion(result.cards,player,'give').gaintag.add('DIY_tuifeng');
        }
        "step 4"
        if(event.count>0){
            player.chooseBool(get.prompt2('DIY_tuifeng')).set('frequentSkill','DIY_tuifeng');
        }
        else event.finish();
        "step 5"
        if(result.bool){
            player.logSkill('DIY_tuifeng');
            event.goto(1);
        }
    },
                onremove:function(player,skill){
        var cards=player.getExpansions('DIY_tuifeng');
        if(cards.length) player.loseToDiscardpile(cards);
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    threaten:0.8,
                    effect:{
                        target:function(card,player,target){
                if(get.tag(card,'damage')){
                    if(player.hasSkillTag('jueqing',false,target)) return [1,-2];
                    if(!target.hasFriend()) return;
                    if(target.hp>=4) return [0.5,get.tag(card,'damage')*2];
                    if(!target.hasSkill('paiyi')&&target.hp>1) return [0.5,get.tag(card,'damage')*1.5];
                    if(target.hp==3) return [0.5,get.tag(card,'damage')*1.5];
                    if(target.hp==2) return [1,get.tag(card,'damage')*0.5];
                }
            },
                    },
                },
            },
            "DIY_tuifeng2":{
                audio:"tuifeng",
                trigger:{
                    source:"damageSource",
                },
                frequent:true,
                preHidden:true,
                filter:function(event,player,name){
        if(!event.card) return false;
        var evt=event.getParent();
        return evt&&evt.card==event.card&&evt.type=='card'&&evt.targets&&evt.targets.length==1;
    },
                content:function(){
        'step 0'
        player.draw();
        'step 1'
        var hs=player.getCards('h');
        if(hs.length>0){
            if(hs.length==1) event._result={bool:true,cards:hs};
            else player.chooseCard('h',true,'å°†ä¸€å¼ æ‰‹ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šä½œä¸ºâ€œé”‹â€');
        }
        else event.finish();
        'step 2'
        if(result.bool){
            var cs=result.cards;
            player.addToExpansion(cs,player,'give').gaintag.add('DIY_tuifeng');
        }
    },
            },
            "DIY_tuifeng3":{
                audio:"tuifeng",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                forced:true,
                filter:function(event,player){
        return player.getExpansions('DIY_tuifeng').length>0;
    },
                content:function(){
        'step 0'
        var num=player.getExpansions('DIY_tuifeng').length;
        player.chooseCardButton('æ¨é”‹ï¼šç§»å»è‡³å¤š'+get.cnNumber(num)+'å¼ â€œé”‹â€',[1,num],player.getExpansions('DIY_tuifeng'));
        'step 1'
        if(result.bool){
            player.draw(2*result.links.length);
            player.addTempSkill('DIY_tuifeng4');
            player.storage.DIY_tuifeng_sha=result.links.length;
            player.loseToDiscardpile(result.links);
        }
    },
            },
            "DIY_tuifeng4":{
                mod:{
                    cardUsable:function(card,player,num){
            if(card.name=='sha') return num+player.storage.DIY_tuifeng_sha;
        },
                },
                onremove:true,
                charlotte:true,
            },
            "DIY_longdan":{
                marktext:"é¾™èƒ†",
                intro:{
                    content:"æœ¬å±€æ¸¸æˆå·²å‘åŠ¨è¿‡#æ¬¡ã€–é¾™èƒ†ã€—",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
        if(!['sha','shan','tao','jiu'].contains(name)) return false;
        return player.countCards('hes')>=Math.min(7,player.countMark('DIY_longdan'));
    },
                filter:function(event,player){
        if(event.filterCard({name:'sha'},player,event)||
            event.filterCard({name:'shan'},player,event)||
            event.filterCard({name:'jiu'},player,event)||
            event.filterCard({name:'tao'},player,event)){
            return player.countCards('hes')>=Math.min(7,player.countMark('DIY_longdan'));
        }
        return false;
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];
            if(event.filterCard({name:'sha'},player,event)){
                list.push(['åŸºæœ¬','','sha']);
                for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
            }
            if(event.filterCard({name:'shan'},player,event)){
                list.push(['åŸºæœ¬','','shan']);
            }
            if(event.filterCard({name:'tao'},player,event)){
                list.push(['åŸºæœ¬','','tao']);
            }
            if(event.filterCard({name:'jiu'},player,event)){
                list.push(['åŸºæœ¬','','jiu']);
            }
            return ui.create.dialog('é¾™èƒ†',[list,'vcard'],'hidden');
        },
                    check:function(button){
            var player=_status.event.player;
            var card={name:button.link[2],nature:button.link[3]};
            if(_status.event.getParent().type!='phase'||game.hasPlayer(function(current){
                return player.canUse(card,current)&&get.effect(current,card,player,player)>0;
            })){
                switch(button.link[2]){
                    case 'tao':case 'shan':return 5;
                    case 'jiu':{
                        if(player.storage.yizan&&player.countCards('hs',{type:'basic'})>2) return 3;
                    };
                    case 'sha':
                        if(button.link[3]=='fire') return 2.95;
                        else if(button.link[3]=='thunder'||button.link[3]=='ice') return 2.92;
                        else return 2.9;
                }
            }
            return 0;
        },
                    backup:function(links,player){
            return {
                audio:'DIY_longdan',
                filterCard:true,
                complexCard:true,
                selectCard:function(card,player,target){
                    return Math.min(7,_status.event.player.countMark('DIY_longdan'));
                },
                check:function(card,player,target){
                    return 6-get.value(card);
                },
                viewAs:{name:links[0][2],nature:links[0][3]},
                position:'hes',
                popname:true,
                precontent:function(){
                    player.draw();
                    if(player.countMark('DIY_longdan')<7) player.addMark('DIY_longdan',1,false);
                },
            }
        },
                    prompt:function(links,player){
            return 'å°†'+get.cnNumber(Math.min(7,player.countMark('DIY_longdan')))+'å¼ ç‰Œå½“åš'+get.translation(links[0][3]||'')+get.translation(links[0][2])+'ä½¿ç”¨æˆ–æ‰“å‡º';
        },
                },
                ai:{
                    order:function(){
            var player=_status.event.player;
            var event=_status.event;
            if(event.filterCard({name:'jiu'},player,event)&&get.effect(player,{name:'jiu'})>0){
                return 3.3;
            }
            return 3.1;
        },
                    skillTagFilter:function(player,tag,arg){
            if(tag=='fireAttack') return true;
        return player.countCards('hes')>=Math.min(7,player.countMark('DIY_longdan'));
        },
                    result:{
                        player:1,
                    },
                    respondSha:true,
                    respondShan:true,
                    fireAttack:true,
                },
            },
            "DIY_jizhu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
                trigger:{
                    player:"phaseBegin",
                },
                prompt:function(event,player){
                    var num=Math.min(7,player.countMark('DIY_longdan'));
                    return 'æ‘¸'+get.cnNumber(num)+'å¼ ç‰Œå†å¼ƒç½®'+get.cnNumber(7-num)+'å¼ ç‰Œï¼Œç„¶åæœ¬å›åˆä½ ä½¿ç”¨ã€æ€ã€‘/ã€æ¡ƒã€‘çš„ä¼¤å®³å€¼/å›å¤å€¼+'+get.translation(7-num)+'';
                },
                content:function(){
                    'step 0'
                    player.draw(Math.min(7,player.countMark('DIY_longdan')));
                    'step 1'
                    event.num=Math.max(7-Math.min(7,player.countMark('DIY_longdan')),1);
                    player.chooseToDiscard('he',event.num,true);
                    'step 2'
                    if(result.bool){
                        player.addTempSkill('DIY_jizhu_effect');
                        player.storage.DIY_jizhu_effect=event.num;
                        player.removeMark('DIY_longdan',Infinity,false);
                    }
                },
                subSkill:{
                    effect:{
                        mark:true,
                        marktext:"ç§¯è‘—",
                        intro:{
                            content:"æœ¬å›åˆä½ ä½¿ç”¨ã€æ€ã€‘/ã€æ¡ƒã€‘çš„ä¼¤å®³å€¼/å›å¤å€¼+$",
                        },
                        audio:"DIY_jizhu",
                        trigger:{
                            player:"useCard",
                        },
                        forced:true,
                        filter:function(event,player){
                            if(!player.storage.DIY_jizhu_effect) return false;
                            var evt=event;
                            return ['sha','tao'].contains(evt.card.name);
                        },
                        content:function(){
                            trigger.baseDamage+=player.storage.DIY_jizhu_effect;
                        },
                        sub:true,
                    },
                },
            },
            "DIY_huaiyuan":{
                trigger:{
                    player:"gainAfter",
                },
                audio:"huaiyuan",
                forced:true,
                direct:true,
                content:function(){
        player.addGaintag(trigger.cards,'DIY_sui');
    },
                mod:{
                    "cardEnabled2":function(card,player){
            if(get.itemtype(card)=='card'&&card.hasGaintag('DIY_sui')) return false;
        },
                    ignoredHandcard:function(card,player){
            if(card.hasGaintag('DIY_sui')) return true;
        },
                    cardDiscardable:function(card,player,name){
            if(name=='phaseDiscard'&&card.hasGaintag('DIY_sui')) return false;
        },
                },
                group:["DIY_huaiyuan_Discard","DIY_huaiyuan_count"],
                onremove:function(player){
        player.removeGaintag('DIY_sui');
    },
                subSkill:{
                    Discard:{
                        audio:"huaiyuan",
                        trigger:{
                            player:"phaseDiscardBefore",
                        },
                        forced:true,
                        content:function(){},
                        sub:true,
                    },
                    count:{
                        trigger:{
                            global:"phaseBeginStart",
                        },
                        forced:true,
                        firstDo:true,
                        silent:true,
                        filter:function(event,player){
                if(player==event.player) return player.countCards('h')>0;
                return player.hasCard(function(card){
                    return card.hasGaintag('DIY_sui');
                },'h');
            },
                        content:function(){
                player.removeGaintag('DIY_sui');
            },
                        sub:true,
                        popup:false,
                    },
                },
            },
            "DIY_sui":{
            },
            "DIY_dezhang":{
                audio:"dezhang",
                trigger:{
                    global:"phaseUseBegin",
                },
                filter:function(event,player){
                    return player.getCards('he',function(card){
                        return !card.hasGaintag('DIY_sui');
                    }).length>0;
                },
                discard:false,
                lose:false,
                delay:false,
                check:function(event,player){
                    if(event.player==player&&player.countMark('DIY_dezhang_effect')>2&&player.getCards('h','sha').length>3) return false;
                    return get.attitude(player,event.player)>0;
                },
                content:function(){
        var num=player.getCards('he',function(card){
            return !card.hasGaintag('DIY_sui');
        }).length;
        player.discard(player.getCards('he',function(card){
            return !card.hasGaintag('DIY_sui');
        }));
        player.draw(num);
        trigger.player.addSkill('DIY_dezhang_effect');
        trigger.player.addMark('DIY_dezhang_effect',num,false);
        if(trigger.player!=player) player.changeHujia();
    },
                subSkill:{
                    effect:{
                        charlotte:true,
                        onremove:true,
                        mod:{
                            attackRange:function(player,num){
                                return num+player.countMark('DIY_dezhang_effect');
                            },
                            cardUsable:function(card,player,num){
                                if(card.name=='sha') return num+player.countMark('DIY_dezhang_effect');
                            },
                        },
                        marktext:"å¾·",
                        intro:{
                            content:"æ”»å‡»èŒƒå›´+#<br>ä½¿ç”¨ã€æ€ã€‘æ¬¡æ•°ä¸Šé™+#",
                        },
                        sub:true,
                    },
                },
            },
            "DIY_guowu":{
                trigger:{
                    player:"useCardToPlayered",
                },
                intro:{
                    content:"mark",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                filter:function(event,player){
                    return get.tag(event.card,'damage')>0;
                },
                logTarget:"target",
                content:function(){
                    'step 0'
                    trigger.target.addMark("DIY_guowu",1,false);
                    if(trigger.target.countMark("DIY_guowu")<3) event.goto(3);
                    'step 1'
                    player.chooseControl().set('prompt','å¸¼æ­¦ï¼šè¯·é€‰æ‹©ä¸€é¡¹').set('choiceList',[
                        'è·å¾—'+get.translation(trigger.target)+'ä¸€å¼ ç‰Œ',
                        'ä»¤'+get.translation(trigger.card)+'å¯¹'+get.translation(trigger.target)+'çš„ä¼¤å®³å€¼+1',
                        'èƒŒæ°´ï¼šå°†Xå½’é›¶',
                    ]).set('ai',function(){
                        var evt=_status.event.getTrigger();
                        var player=_status.event.player;
                        var target=evt.player;
                        if(target.countGainableCards(player,'he')>0) return 0;
                        return 1;
                    });
                    'step 2'
                    player.logSkill('DIY_guowu',trigger.target);
                    if(result.index!=1&&trigger.target.countGainableCards(player,'he')>0){
                        player.gainPlayerCard(trigger.target,'he',true);
                    }
                    if(result.index!=0){
                        trigger.target.addTempSkill("DIY_guowu_damage");
                        trigger.target.storage.DIY_guowu_damage={
                            card:trigger.card,
                        }
                    }
                    if(result.index==2){
                        trigger.target.removeMark("DIY_guowu",Infinity,false);
                    }
                    
                },
                subSkill:{
                    damage:{
                        trigger:{
                            player:"damageBegin3",
                        },
                        onremove:function (player){
                            delete player.storage.DIY_guowu_damage;
                        },
                        silent:true,
                        popup:false,
                        forced:true,
                        direct:true,
                        intro:{
                            content:"å•å®¶å¥³å„¿èƒœé¡»çœ‰ï¼Œèƒ­è„‚çº¢å¦†é…æ­¦è£³",
                        },
                        filter:function(event,player){
                            var info=player.storage.DIY_guowu_damage;
                            return event.card&&event.card==info.card;
                        },
                        content:function(){
                            trigger.num++;
                            player.removeSkill("DIY_guowu_damage");
                        },
                        sub:true,
                    },
                },
            },
            "DIY_zhuangrong":{
                derivation:["DIY_607shenwei","DIY_607wushuang"],
                trigger:{
                    player:"phaseJieshuBegin",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                frequent:true,
                content:function(){
                    var hs=player.getCards('h');
                    if(hs.length){
                        player.changeHujia(hs.length);
                        player.discard(hs);
                    }
                    player.addSkill('DIY_zhuangrong_hujia');
                },
                subSkill:{
                    hujia:{
                        trigger:{
                            player:"phaseZhunbei",
                        },
                        forced:true,
                        content:function(){
                            if(player.hujia>0){
                                player.draw(player.hujia);
                                player.changeHujia(-player.hujia);
                            }
                            player.addTempSkill('DIY_607shenwei');
                            player.addTempSkill('DIY_607wushuang');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_607shenwei":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDrawBegin2",
                },
                forced:true,
                filter:(event)=>!event.numFixed,
                content:function(){
        trigger.num+=2;
    },
                mod:{
                    maxHandcard:(player,num)=>num+2,
                },
            },
            "DIY_607wushuang":{
                shaRelated:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                locked:true,
                group:["DIY_607wushuang_1","DIY_607wushuang_2"],
                preHidden:["DIY_607wushuang_1","DIY_607wushuang_2"],
                subSkill:{
                    "1":{
                        audio:"DIY_607wushuang",
                        trigger:{
                            player:"useCardToPlayered",
                        },
                        forced:true,
                        filter:function(event,player){
                            return event.card.name=='sha'&&!event.getParent().directHit.contains(event.target);
                        },
                        logTarget:"target",
                        content:function(){
                            var id=trigger.target.playerid;
                            var map=trigger.getParent().customArgs;
                            if(!map[id]) map[id]={};
                            if(typeof map[id].shanRequired=='number'){
                                map[id].shanRequired++;
                            }
                            else{
                                map[id].shanRequired=2;
                            }
                        },
                        ai:{
                            "directHit_ai":true,
                            skillTagFilter:function(player,tag,arg){
                                if(arg.card.name!='sha'||arg.target.countCards('h','shan')>1) return false;
                            },
                        },
                        sub:true,
                    },
                    "2":{
                        audio:"DIY_607wushuang",
                        trigger:{
                            player:"useCardToPlayered",
                            target:"useCardToTargeted",
                        },
                        forced:true,
                        logTarget:function(trigger,player){
                            return player==trigger.player?trigger.target:trigger.player
                        },
                        filter:function(event,player){
                            return event.card.name=='juedou';
                        },
                        content:function(){
                            var id=(player==trigger.player?trigger.target:trigger.player)['playerid'];
                            var idt=trigger.target.playerid;
                            var map=trigger.getParent().customArgs;
                            if(!map[idt]) map[idt]={};
                            if(!map[idt].shaReq) map[idt].shaReq={};
                            if(!map[idt].shaReq[id]) map[idt].shaReq[id]=1;
                            map[idt].shaReq[id]++;
                        },
                        ai:{
                            "directHit_ai":true,
                            skillTagFilter:function(player,tag,arg){
                                if(arg.card.name!='juedou'||Math.floor(arg.target.countCards('h','sha')/2)>player.countCards('h','sha')) return false;
                            },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_jishe":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
        return player.getHandcardLimit()>0;
    },
                content:function(){
        player.draw();
        player.getHistory('custom').push({DIY_jishe:true});
    },
                group:"DIY_jishe_draw",
                subSkill:{
                    draw:{
                        audio:"DIY_jishe",
                        trigger:{
                            player:"phaseEnd",
                        },
                        forced:true,
                        filter:function(event,player){
                            return player.getHistory('custom',function(evt){
                                return evt.DIY_jishe==true;
                            }).length>0;
                        },
                        content:function(){
                            var num1=player.getHistory('custom',function(evt){
                                return evt.DIY_jishe==true;
                            }).length;
                            var num2=1;
                            for(i=0;i<player.countCards('h');i++){
                                num2=num2*num1;
                            }
                            player.draw(num2);
                        },
                        sub:true,
                    },
                },
                ai:{
                    order:11,
                    result:{
                        player:function(player){
                if(player.getHistory('custom',function(evt){
                    return evt.DIY_jishe==true;
                }).length<2){
                    return 1;
                }
                return 0;
            },
                    },
                },
                mod:{
                    maxHandcard:function(player,num){
            return num-player.getHistory('custom',function(evt){
                return evt.DIY_jishe==true;
            }).length;
        },
                },
            },
            "DIY_qieting":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"gainBegin",
                },
                frequent:true,
                filter:function(event,player){
        return player!=event.player;
    },
                content:function(){
        'step 0'
        var cards=trigger.cards;
        game.log(player,'è§‚çœ‹äº†',trigger.player,'å³å°†è·å¾—çš„ç‰Œ');
        var next=player.chooseToMove('çªƒå¬ï¼šæ˜¯å¦ç”¨æ‰‹ç‰Œäº¤æ¢'+get.translation(trigger.player)+'å³å°†è·å¾—çš„ç‰Œï¼Ÿ');
        next.set('list',[
            [get.translation(trigger.player)+'å³å°†è·å¾—çš„ç‰Œ',cards],
            ['æ‰‹ç‰ŒåŒº',player.getCards('h')],
        ]);
        next.set('filterMove',function(from,to){
            return typeof to!='number';
        });
        'step 1'
        if(result.bool){
            var pushs=result.moved[0],gains=result.moved[1];
            pushs.removeArray(trigger.cards);
            gains.removeArray(player.getCards('h'));
            player.lose(pushs,ui.special);
            trigger.cards.addArray(pushs);
            trigger.cards.remove(gains);
            player.gain(gains,'gain2','log','fromStorage');
        }
        'step 2'
        if(trigger.cards.length>1){
            var color=get.color(trigger.cards[0]);
            for(var i=1;i<trigger.cards.length;i++){
                if(get.color(trigger.cards[i])!=color) return;
            }
            player.draw();
        }
    },
            },
            "DIY_antao":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"damageEnd",
                },
                usable:1,
                direct:true,
                filter:function(event,player){
        return player.countCards('he',{suit:'spade'})&&(event.player.isAlive()||event.source.isAlive());
    },
                content:function(){
        'step 0'
        player.chooseCardTarget({
            prompt:'è¯·é€‰æ‹©ã€æš—æ¶›ã€‘çš„ç‰Œå’Œç›®æ ‡',
            prompt2:'å¼ƒç½®ä¸€å¼ â™ ç‰Œç„¶åå¯¹'+get.translation(trigger.player)+'æˆ–'+get.translation(trigger.source)+'é€ æˆ'+get.cnNumber(trigger.num)+'ç‚¹ä¼¤å®³',
            position:'he',
            filterCard:{
                suit:"spade",
            },
            filterTarget:function(card,player,target){
                return trigger.player.contains(target)||trigger.source.contains(target);
            },
            ai1:function(card){
                return 8-get.value(card);
            },
            ai2:function(target){
                var player=_status.event.player,att=get.attitude(player,target);
                return -att;
            },
        });
        'step 1'
        if(result.bool){
            player.discard(result.cards);
            player.logSkill('DIY_antao',result.targets);
            var target=result.targets[0];
            target.damage(trigger.num);
        }
    },
            },
            "DIY_zhuilie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                mod:{
                    targetInRange:function(card){
            if(card.name=='sha') return true;
        },
                },
                trigger:{
                    player:"useCardToTargeted",
                },
                filter:function(event,player){
        return event.card&&event.card.name=='sha'&&!player.inRange(event.target);
    },
                forced:true,
                logTarget:"target",
                content:function(){
                'step 0'
                player.storage.DIY_zhuilie_1='X';
                player.storage.DIY_zhuilie_2='X';
                player.storage.DIY_zhuilie_3='X';
                player.storage.DIY_zhuilie_4='X';
                i = [1,2,3,4].randomGet();
                /* å®šä¹‰è¢«è¿½åŠè€…é€Ÿåº¦ */
                if(i!=2){
                    player.storage.DIY_zhuilie_2=Math.floor(Math.random() * (99 - 1 + 1)) + 99;
                }
                /* å®šä¹‰è¿½åŠè€…é€Ÿåº¦ */
                if(i!=1){
                    player.storage.DIY_zhuilie_1=Math.floor(Math.random() * (99 - 1 + 1)) + 99;
                }
                /* å®šä¹‰è¿½åŠè·ç¦» */
                if(i!=3){
                    player.storage.DIY_zhuilie_3=Math.floor(Math.random() * (99 - 1 + 1)) + 99;
                }
                /* å®šä¹‰è¿½åŠæ—¶é—´ */
                if(i!=4){
                    player.storage.DIY_zhuilie_4=Math.floor(Math.random() * (99 - 1 + 1)) + 99;
                }
                /* è®¡ç®—å‡ºç­”æ¡ˆ */
                if(i==1) event.num=Math.floor(((player.storage.DIY_zhuilie_3)/(player.storage.DIY_zhuilie_4))+player.storage.DIY_zhuilie_2);
                if(i==2) event.num=Math.floor(player.storage.DIY_zhuilie_1-((player.storage.DIY_zhuilie_3)/(player.storage.DIY_zhuilie_4)));
                if(i==3) event.num=(player.storage.DIY_zhuilie_1-player.storage.DIY_zhuilie_2)*player.storage.DIY_zhuilie_4;
                if(i==4) event.num=Math.floor((player.storage.DIY_zhuilie_3)/(player.storage.DIY_zhuilie_1-player.storage.DIY_zhuilie_2));
                if(event.num<0) event.num=-event.num;
                 /* åˆ›å»ºdialog */
                 var dialog = ui.create.dialog(false);
                 /* dialogæ ‡é¢˜ */
                 dialog.add('ã€è¿½çŒã€‘<br>åœ¨æ°´å¹³é“è·¯ä¸Šæœ‰ä¸¤äºº<font color=#96caff>'+get.translation(player)+'</font>ã€<font color=#96caff>'+get.translation(trigger.target)+'</font>ç›¸è·<font color=\"#FFFF00\">'+get.translation(player.storage.DIY_zhuilie_3)+'m</font>ï¼Œ<font color=#96caff>'+get.translation(player)+'</font>åœ¨ååšé€Ÿåº¦ä¸º<font color=\"#FFFF00\">'+get.translation(player.storage.DIY_zhuilie_1)+'m/s</font>çš„åŒ€é€Ÿç›´çº¿è¿åŠ¨ï¼ŒåŒæ—¶<font color=#96caff>'+get.translation(trigger.target)+'</font>åœ¨å‰ä»¥<font color=\"#FFFF00\">'+get.translation(player.storage.DIY_zhuilie_2)+'m/s</font>çš„é€Ÿåº¦åŒ€é€Ÿå‰è¡Œï¼Œä¸¤äººè¿åŠ¨æ–¹å‘ç›¸åŒï¼Œç»<font color=\"#FFFF00\">'+get.translation(player.storage.DIY_zhuilie_4)+'s</font>ä¸¤äººç›¸é‡ã€‚æ±‚é¢˜ç›®ä¸­çš„<font color=\"#FFFF00\">X</font>ã€‚<br>ï¼ˆè‹¥ä¸ºå°æ•°åˆ™å‘ä¸‹å–æ•´ï¼Œå¯è¾“å…¥<font color=#ff0033>è´Ÿæ•°</font>ï¼‰');
                 /* dialog.addæ–¹æ³•åªæ¥å—divï¼Œè€Œä¸æ˜¯input */
                 var div = document.createElement('div');
                 /* åˆ›å»ºinputå¹¶æ·»åŠ åˆ°divé‡Œ */
                 var input = div.appendChild(document.createElement('input'));
                /* åªèƒ½è¾“å…¥æ•°å­— */
                input.type = 'number';
                 /* è¾“å…¥æœ€å¤š99ä¸ªå­—ç¬¦ */
                 input.setAttribute('maxlength', '99');
                /* inputå†…æŒ‰é”®ä¸ç»§ç»­å†’æ³¡*/
                input.addEventListener('keydown', e => {
                    e.stopPropagation();
                });
                input.addEventListener('keyup', e => {
                    e.stopPropagation();
                });
                 /* è¾“å…¥å‰çš„æç¤º */
                 input.placeholder = 'è¯·è¾“å…¥ç­”æ¡ˆ';
                 /* dialogæ·»åŠ div */
                 dialog.add(div);
                 /* æŠŠdialogï¼ŒinputåŠ å…¥event,è®©ä¸‹ä¸€æ­¥éª¤çš„æŠ€èƒ½å¯è°ƒç”¨dialog */
                 event.dialog = dialog;
                 event.input = input;
                 'step 1'
                 /* è·å–ä¸Šä¸€æ­¥éª¤çš„dialog */
                 var {
                     dialog,
                     input
                 } = event;
                 var clickFun = () => {
                     /* ç§»é™¤dialog */
                     dialog.remove();
                     /* valueæ˜¯è¾“å…¥æ¡†é‡Œçš„å€¼ */
                     var value = input.value;
                     /* ä¿å­˜åˆ°player.storageä¸­ */
                     player.storage.DIY_zhuilie = input.value;
                     /* ç»§ç»­æ¸¸æˆ */
                     game.resume();
                 }
                 /* å¦‚æœæ˜¯ai */
                 if (!event.isMine()) {
                     /* ç»™äºˆaiä½œå¼Š */
                    
                    /* è¾“å…¥æ¡†èµ‹å€¼ */
                     input.value = event.num;
                     /* ç„¶åæ‰§è¡ŒclickFun*/
                     clickFun();
                 } else {
                     /* æ˜¾ç¤ºdialog */
                     dialog.open();
                     /* æš‚åœæ¸¸æˆ */
                     game.pause();
                     /* è¾“å…¥ç»“æŸåç‚¹å‡»ç¡®å®š */
                     var button = ui.create.control('ç¡®å®š', () => {
                         if(!input.value){
                           return alert('è¾“å…¥ä¸èƒ½ä¸ºç©º');
                           }
                         /*ç§»é™¤button */
                         button.remove();
                         clickFun();
                     });
                 }
                 'step 2'
                 if(trigger.getParent().addCount!==false){
                     trigger.getParent().addCount=false;
                     var stat=player.getStat();
                     if(stat&&stat.card&&stat.card.sha) stat.card.sha--;
                 }
                 if(player.storage.DIY_zhuilie==event.num){
                     var map=trigger.customArgs;
                     var id=trigger.target.playerid;
                     if(!map[id]) map[id]={};
                     if(typeof map[id].extraDamage!='number') map[id].extraDamage=0;
                     map[id].extraDamage+=trigger.target.hp-1;
                 }
                 else{
                     player.loseHp();
                 }
    },
            },
            "DIY_shefu":{
                enable:"phaseUse",
                audio:"shefu",
                direct:true,
                init:function(player){
        if(!player.storage.DIY_shefu) player.storage.DIY_shefu=[[],[]];
    },
                filterCard:function(card,player){
        var list=[];
        var cards=player.getExpansions('DIY_shefu');
        for(i=0;i<cards.length;i++){
            if(!list.contains(get.suit(cards[i]))) list.add(get.suit(cards[i]));
        }
        return !list.contains(get.suit(card));
    },
                check:function(card){
                    if(get.tag(card,'damage')) return 6;
                    if(card.name=='shunshou'||card.name=='guohe') return 5;
                    return -1;
                },
                discard:false,
                lose:false,
                filter:function(event,player){
        return player.countCards('h')>0;
    },
                onremove:function(player,skill){
        var cards=player.getExpansions(skill);
        if(cards.length) player.loseToDiscardpile(cards);
    },
                intro:{
                    mark:function(dialog,storage,player){
                        var cards=player.getExpansions('DIY_shefu');
                        if(player.isUnderControl(true)){
                            dialog.addAuto(cards);
                            dialog.addText(get.translation(storage[1]));
                        }
                        else{
                            return 'å…±è®¾ä¼äº†'+get.cnNumber(cards.length)+'å¼ ç‰Œ';
                        }
                    },
                    markcount:"expansion",
                    onunmark:function(storage,player){
            player.storage.DIY_shefu[0]=[];
            player.storage.DIY_shefu[1]=[];
        },
                },
                content:function(){
        'step 0'
        player.chooseButton([get.prompt('DIY_shefu'),'è¯·é€‰æ‹©è¦è®¾çš„â€œä¼â€',[lib.inpile.map(function(i){
            return ['ä¼','',i];
        }),'vcard']],true).set('filterButton',function(button){
            var player=_status.event.player;
            if(player.storage.DIY_shefu[1]&&player.storage.DIY_shefu[1].contains(button.link[2])) return false;
            return true;
        }).set('ai',function(button){
            var rand=_status.event.rand;
            switch(button.link[2]){
                case 'sha':return 5+rand[1];
                case 'tao':return 4+rand[2];
                case 'lebu':return 3+rand[3];
                case 'shan':return 4.5+rand[4];
                case 'wuzhong':return 4+rand[5];
                case 'shunshou':return 3+rand[6];
                case 'nanman':return 2+rand[7];
                case 'wanjian':return 2+rand[8];
                default:return rand[0];
            }
        }).set('rand',[Math.random(),Math.random(),Math.random(),Math.random(),
        Math.random(),Math.random(),Math.random(),Math.random(),Math.random()]);
        'step 1'
        if(result.bool){
            event.cardname=result.links[0][2];
            player.logSkill('shefu');
            player.addToExpansion(cards,player,'give').gaintag.add('DIY_shefu');
            player.storage.DIY_shefu[0].push(cards);
            player.storage.DIY_shefu[1].push(event.cardname);
            if(player.isOnline2()){
                player.send(function(storage){
                    game.me.storage.DIY_shefu[1]=storage;
                },player.storage.DIY_shefu[1]);
            }
            player.syncStorage('DIY_shefu');
            player.markSkill('DIY_shefu');
        }
    },
                group:["DIY_shefu2"],
            },
            "DIY_shefu2":{
                trigger:{
                    global:["useCard"],
                },
                audio:"shefu",
                filter:function(event,player){
        if(event.player==player) return false;
        return player.storage.DIY_shefu[1]&&player.storage.DIY_shefu[1].contains(event.card.name)&&event.player.getHistory('lose',function(evt){
            return evt.getParent()==event&&evt.hs&&evt.hs.length==event.cards.length;
        }).length;
    },
                direct:true,
                content:function(){
        "step 0"
        var effect=0;
        if(trigger.card.name=='wuxie'||trigger.card.name=='shan'){
            if(get.attitude(player,trigger.player)<-1){
                effect=-1;
            }
        }
        else if(trigger.targets&&trigger.targets.length){
            for(var i=0;i<trigger.targets.length;i++){
                effect+=get.effect(trigger.targets[i],trigger.card,trigger.player,player);
            }
        }
        var index=player.storage.DIY_shefu[1].indexOf(trigger.card.name);
        if(index!=-1){
            var card=player.storage.DIY_shefu[0][index];
        }
        var str='è®¾ä¼ï¼šæ˜¯å¦è·å¾—'+get.translation(trigger.player)+'çš„'+get.translation(trigger.card)+'å¹¶å¯¹å…¶ä½¿ç”¨'+get.translation(card)+'?';
        var next=player.chooseBool(str,function(){
            var player=_status.event.player;
            var trigger=_status.event.getTrigger();
            if(_status.event.effect<0){
                if(trigger.card.name=='sha'){
                    var target=trigger.targets[0];
                    if(target==player){
                        return !player.countCards('h','shan');
                    }
                    else{
                        return target.hp==1||(target.countCards('h')<=2&&target.hp<=2);
                    }
                }
                else{
                    return true;
                }
            }
            return false;
        });
        next.set('effect',effect);
        "step 1"
        if(result.bool){
            player.gain(trigger.cards.filterInD(),'log','gain2');
            player.logSkill('DIY_shefu',trigger.player);
            var index=player.storage.DIY_shefu[1].indexOf(trigger.card.name);
            if(index!=-1){
                var card=player.storage.DIY_shefu[0][index];
                player.useCard(card,trigger.player);
                player.storage.DIY_shefu[0].splice(index,1);
                player.storage.DIY_shefu[1].splice(index,1);
                if(player.storage.DIY_shefu[0].length==0){
                    player.unmarkSkill('DIY_shefu');
                }
                else{
                    player.syncStorage('DIY_shefu');
                    player.markSkill('DIY_shefu');
                    if(player.isOnline2()){
                        player.send(function(storage){
                            game.me.storage.DIY_shefu[1]=storage;
                        },player.storage.DIY_shefu[1]);
                    }
                }
            }
        }
    },
                ai:{
                    threaten:1.8,
                    expose:0.3,
                },
            },
            "DIY_benyu":{
                audio:"benyu",
                trigger:{
                    source:"damageSource",
                    player:"damageEnd",
                },
                content:function(){
        "step 0"
        player.drawTo(5);
        if(trigger.source!=player&&trigger.source==_status.currentPhase) trigger.source.addTempSkill('baiban');
        if(trigger.player!=player&&trigger.player==_status.currentPhase) trigger.player.addTempSkill('baiban');
    },
            },
            "DIY_renjie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"damageEnd",
                },
                forced:true,
                unique:true,
                group:"DIY_renjie_2",
                notemp:true,
                filter:function(event){
        return event.num>0;
    },
                content:function(){
        player.addMark('DIY_renjie',trigger.num||1);
    },
                intro:{
                    "name2":"å¿",
                    content:"mark",
                },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    combo:"DIY_baiyin",
                },
                subSkill:{
                    "2":{
                        audio:"DIY_renjie",
                        trigger:{
                            player:"loseAfter",
                        },
                        forced:true,
                        filter:function(event,player){
                            if(event.type!='discard'||!event.cards2) return false;
                            var evt=event.getParent('phaseDiscard');
                            return evt&&evt.name=='phaseDiscard'&&evt.player==player;
                        },
                        content:function(){
                            player.addMark('DIY_renjie',trigger.cards2.length);
                        },
                        sub:true,
                    },
                },
            },
            "DIY_baiyin":{
                derivation:["DIY_baiyin_guicai","DIY_baiyin_fangzhu","DIY_baiyin_zhiheng","DIY_baiyin_jizhi","DIY_baiyin_wansha"],
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                unique:true,
                limited:true,
                skillAnimation:true,
                animationColor:"orange",
                forceunique:true,
                filter:function(event,player){
        return player.countMark('DIY_renjie')>0;
    },
                prompt:function(event,player){
        var num=player.countMark('DIY_renjie');
        return get.prompt('DIY_baiyin')+'ï¼ˆä½“åŠ›ä¸Šé™ï¼š'+num+'ï¼‰';
    },
                check:function(event,player){
        if(player.countMark('DIY_renjie')>player.maxHp) return true;
        if(player.hp<=2&&player.countMark('DIY_renjie')>=3) return true;
        if(player.countMark('DIY_renjie')<=5) return false;
        return false;
    },
                content:function(){
        'step 0'
        event.num=player.countMark('DIY_renjie');
        player.removeMark('DIY_renjie',event.num);
        player.removeSkill('DIY_renjie');
        player.awakenSkill('DIY_baiyin');
        'step 1'
        event.videoId=lib.status.videoId++;
        var func=function(card,id,bool){
            var list=[
                'ã€–é¬¼æ‰ã€—ï¼šåœ¨ä»»æ„è§’è‰²çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥æ‰“å‡ºä¸€å¼ ç‰Œä»£æ›¿ä¹‹',
                'ã€–æ”¾é€ã€—ï¼šå½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¤ä¸€åå…¶ä»–è§’è‰²æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºä½ å·²æŸå¤±çš„ä½“åŠ›å€¼ï¼‰ï¼Œç„¶åè¯¥è§’è‰²å°†æ­¦å°†ç‰Œç¿»é¢ã€‚',
                'ã€–åˆ¶è¡¡ã€—ï¼šå‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä»»æ„å¼ ç‰Œå¹¶æ‘¸ç­‰é‡çš„ç‰Œï¼Œè‹¥ä½ åœ¨å‘åŠ¨ã€–åˆ¶è¡¡ã€—æ—¶å¼ƒç½®äº†æ‰€æœ‰æ‰‹ç‰Œï¼Œåˆ™ä½ å¤šæ‘¸ä¸€å¼ ç‰Œã€‚',
                'ã€–é›†æ™ºã€—ï¼šå½“ä½ ä½¿ç”¨é”¦å›Šç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚è‹¥æ­¤ç‰Œä¸ºåŸºæœ¬ç‰Œï¼Œåˆ™ä½ å¯ä»¥å¼ƒç½®ä¹‹ï¼Œç„¶åä»¤æœ¬å›åˆæ‰‹ç‰Œä¸Šé™+1ã€‚',
                'ã€–å®Œæ€ã€—ï¼šé”å®šæŠ€ã€‚â‘ ä½ çš„å›åˆå†…ï¼Œä¸å¤„äºæ¿’æ­»çŠ¶æ€çš„è§’è‰²ä¸èƒ½ä½¿ç”¨ã€æ¡ƒã€‘ã€‚â‘¡å½“æœ‰è§’è‰²äºä½ çš„å›åˆå†…è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ ä»¤å…¶ä»¥å¤–çš„æ‰€æœ‰å…¶ä»–è§’è‰²çš„éé”å®šæŠ€å¤±æ•ˆç›´åˆ°æ­¤æ¿’æ­»çŠ¶æ€ç»“ç®—ç»“æŸã€‚',
            ];
            var choiceList=ui.create.dialog('ã€æ‹œå°ã€‘ï¼šè¯·é€‰æ‹©è¦è·å¾—çš„'+get.cnNumber(event.num)+'ä¸ªæŠ€èƒ½','forcebutton');
            choiceList.videoId=id;
            for(var i=0;i<list.length;i++){
                list[i]=list[i].replace(/XXX/g,card);
                var str='<div class="popup text" style="width:calc(100% - 10px);display:inline-block">';
                if(i==5&&!bool) str+='<div style="opacity:0.5">';
                str+=list[i];
                if(i==5&&!bool) str+='</div>';
                str+='</div>';
                var next=choiceList.add(str);
                next.firstChild.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                next.firstChild.link=i;
                for(var j in lib.element.button){
                    next[j]=lib.element.button[j];
                }
                choiceList.buttons.add(next.firstChild);
            }
            return choiceList;
        };
        if(player.isOnline2()){
            player.send(func,get.translation(trigger.player),event.videoId);
        }
        event.dialog=func(get.translation(trigger.player),event.videoId);
        if(player!=game.me||_status.auto){
            event.dialog.style.display='none';
        }
        var next=player.chooseButton(true,Math.min(5,event.num));
        next.set('dialog',event.videoId);
        next.set('ai',function(button){
            return button.link*Math.random();
        });
        "step 2"
        if(event.videoId!=undefined){
            if(player.isOnline2()){
                player.send('closeDialog',event.videoId);
            }
            event.dialog.close();
        }
        var map=[
            function(trigger,player,event){
                player.addSkill('DIY_baiyin_guicai');
                game.log(player,'è·å¾—äº†','#gã€é¬¼æ‰ã€‘');
            },
            function(trigger,player,event){
                player.addSkill('DIY_baiyin_fangzhu');
                game.log(player,'è·å¾—äº†','#gã€æ”¾é€ã€‘');
            },
            function(trigger,player,event){
                player.addSkill('DIY_baiyin_zhiheng');
                game.log(player,'è·å¾—äº†','#gã€åˆ¶è¡¡ã€‘');
            },
            function(trigger,player,event){
                player.addSkill('DIY_baiyin_jizhi');
                game.log(player,'è·å¾—äº†','#gã€é›†æ™ºã€‘');
            },
            function(trigger,player,event){
                player.addSkill('DIY_baiyin_wansha');
                game.log(player,'è·å¾—äº†','#gã€å®Œæ€ã€‘');
            }
        ];
        result.links.sort();
        for(var i=0;i<result.links.length;i++){
            map[result.links[i]](trigger,player,event);
        }
        'step 3'
        var num=event.num-player.maxHp;
        if(num>0) player.gainMaxHp(num);
        else player.loseMaxHp(-num);
        'step 4'
        var num=event.num-player.hp;
        if(num>0) player.recover(num);
        else player.loseHp(-num);
        'srep 5'
        var num=event.num-player.countCards('h');
        if(num>0) player.drawTo(event.num);
        else player.chooseToDiscard('h',-num,true);
    },
                mark:true,
                intro:{
                    content:"limited",
                },
                init:function(player,skill){
        player.storage[skill]=false;
    },
            },
            "DIY_baiyin_jizhi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                locked:false,
                trigger:{
                    player:"useCard",
                },
                frequent:true,
                filter:function(event){
        return (get.type(event.card,'trick')=='trick'&&event.card.isCard);
    },
                init:function(player){
        player.storage.DIY_baiyin_jizhi=0;
    },
                content:function(){
        'step 0'
        player.draw();
        'step 1'
        event.card=result[0];
        if(get.type(event.card)=='basic'){
            player.chooseBool('æ˜¯å¦å¼ƒç½®'+get.translation(event.card)+'å¹¶ä»¤æœ¬å›åˆæ‰‹ç‰Œä¸Šé™+1ï¼Ÿ').set('ai',function(evt,player){
                return _status.currentPhase==player&&player.needsToDiscard(-3)&&_status.event.value<6;
            }).set('value',get.value(event.card,player));
        }
        'step 2'
        if(result.bool){
            player.discard(event.card);
            player.storage.DIY_baiyin_jizhi++;
            if(_status.currentPhase==player){
                player.markSkill('DIY_baiyin_jizhi');
            }
        }
    },
                ai:{
                    threaten:1.4,
                    noautowuxie:true,
                },
                mod:{
                    maxHandcard:function(player,num){
            return num+player.storage.DIY_baiyin_jizhi;
        },
                },
                intro:{
                    content:"æœ¬å›åˆæ‰‹ç‰Œä¸Šé™+#",
                },
                group:"DIY_baiyin_jizhi_clear",
                subSkill:{
                    clear:{
                        trigger:{
                            global:"phaseAfter",
                        },
                        silent:true,
                        content:function(){
                player.storage.DIY_baiyin_jizhi=0;
                player.unmarkSkill('DIY_baiyin_jizhi');
            },
                        sub:true,
                        forced:true,
                        popup:false,
                    },
                },
            },
            "DIY_baiyin_zhiheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                enable:"phaseUse",
                usable:1,
                position:"he",
                filterCard:function(card,player,event){
        event=event||_status.event;
        if(typeof event!='string') event=event.getParent().name;
        var mod=game.checkMod(card,player,event,'unchanged','cardDiscardable',player);
        if(mod!='unchanged') return mod;
        return true;
    },
                discard:false,
                lose:false,
                delay:false,
                selectCard:[1,Infinity],
                check:function(card){
        var player=_status.event.player;
        if(get.position(card)=='h'&&!player.countCards('h','du')&&(player.hp>2||!player.countCards('h',function(card){
            return get.value(card)>=8;
        }))){
            return 1;
        }
        return 6-get.value(card)
    },
                content:function(){
        'step 0'
        player.discard(cards);
        event.num=1;
        var hs=player.getCards('h');
        if(!hs.length) event.num=0;
        for(var i=0;i<hs.length;i++){
            if(!cards.contains(hs[i])){
                event.num=0;break;
            }
        }
        'step 1'
        player.draw(event.num+cards.length);
    },
                subSkill:{
                    draw:{
                        trigger:{
                            player:"loseEnd",
                        },
                        silent:true,
                        filter:function(event,player){
                if(event.getParent(2).skill!='rezhiheng'&&event.getParent(2).skill!='jilue_zhiheng'&&event.getParent(2).skill!='DIY_baiyin_zhiheng') return false;
                if(player.countCards('h')) return false;
                for(var i=0;i<event.cards.length;i++){
                    if(event.cards[i].original=='h') return true;
                }
                return false;
            },
                        content:function(){
                player.addTempSkill('DIY_baiyin_zhiheng_delay',trigger.getParent(2).skill+'After');
            },
                        sub:true,
                        forced:true,
                        popup:false,
                    },
                    delay:{
                        sub:true,
                    },
                },
                ai:{
                    order:1,
                    result:{
                        player:1,
                    },
                    threaten:1.55,
                },
            },
            "DIY_baiyin_wansha":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                global:"DIY_baiyin_wansha_global",
                trigger:{
                    global:"dyingBegin",
                },
                forced:true,
                logTarget:"player",
                filter:function(event,player){
        return player==_status.currentPhase;
    },
                content:function(){
        game.countPlayer(function(current){
            if(current!=player&&current!=trigger.player) current.addSkillBlocker('DIY_baiyin_wansha_fengyin');
        });
        player.addTempSkill('DIY_baiyin_wansha_clear');
    },
                subSkill:{
                    global:{
                        mod:{
                            cardEnabled:function(card,player){
                    var source=_status.currentPhase;
                    if(card.name=='tao'&&source&&source!=player&&source.hasSkill('DIY_baiyin_wansha')&&!player.isDying()) return false;
                },
                            cardSavable:function(card,player){
                    var source=_status.currentPhase;
                    if(card.name=='tao'&&source&&source!=player&&source.hasSkill('DIY_baiyin_wansha')&&!player.isDying()) return false;
                },
                        },
                        sub:true,
                    },
                    fengyin:{
                        inherit:"fengyin",
                        sub:true,
                        init:function(player,skill){
                player.addSkillBlocker(skill);
            },
                        onremove:function(player,skill){
                player.removeSkillBlocker(skill);
            },
                        charlotte:true,
                        skillBlocker:function(skill,player){
                return !lib.skill[skill].charlotte&&!get.is.locked(skill,player);
            },
                        mark:true,
                        intro:{
                            content:function(storage,player,skill){
                    var list=player.getSkills(null,false,false).filter(function(i){
                        return lib.skill.fengyin.skillBlocker(i,player);
                    });
                    if(list.length) return 'å¤±æ•ˆæŠ€èƒ½ï¼š'+get.translation(list);
                    return 'æ— å¤±æ•ˆæŠ€èƒ½';
                },
                        },
                    },
                    clear:{
                        trigger:{
                            global:"dyingAfter",
                        },
                        forced:true,
                        charlotte:true,
                        popup:false,
                        filter:function(event,player){
                return !_status.dying.length;
            },
                        content:function(){
                player.removeSkill('DIY_baiyin_wansha_clear');
            },
                        onremove:function(){
                game.countPlayer2(function(current){
                    current.removeSkillBlocker('DIY_baiyin_wansha_fengyin');
                });
            },
                        sub:true,
                    },
                },
            },
            "DIY_lianpo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseAfter",
                },
                frequent:true,
                filter:function(event,player){
        return player.getStat('kill')>0;
    },
                content:function(){
        player.insertPhase();
    },
            },
            "DIY_baiyin_guicai":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    global:"judge",
                },
                direct:true,
                filter:function(event,player){
        return player.countCards('hes')>0;
    },
                content:function(){
        "step 0"
        player.chooseCard(get.translation(trigger.player)+'çš„'+(trigger.judgestr||'')+'åˆ¤å®šä¸º'+
        get.translation(trigger.player.judging[0])+'ï¼Œ'+get.prompt('reguicai'),'hes',function(card){
            var player=_status.event.player;
            var mod2=game.checkMod(card,player,'unchanged','cardEnabled2',player);
            if(mod2!='unchanged') return mod2;
            var mod=game.checkMod(card,player,'unchanged','cardRespondable',player);
            if(mod!='unchanged') return mod;
            return true;
        }).set('ai',function(card){
            var trigger=_status.event.getTrigger();
            var player=_status.event.player;
            var judging=_status.event.judging;
            var result=trigger.judge(card)-trigger.judge(judging);
            var attitude=get.attitude(player,trigger.player);
            if(attitude==0||result==0) return 0;
            if(attitude>0){
                return result-get.value(card)/2;
            }
            else{
                return -result-get.value(card)/2;
            }
        }).set('judging',trigger.player.judging[0]);
        "step 1"
        if(result.bool){
            player.respond(result.cards,'DIY_baiyin_guicai','highlight','noOrdering');
        }
        else{
            event.finish();
        }
        "step 2"
        if(result.bool){
            if(trigger.player.judging[0].clone){
                trigger.player.judging[0].clone.classList.remove('thrownhighlight');
                game.broadcast(function(card){
                    if(card.clone){
                        card.clone.classList.remove('thrownhighlight');
                    }
                },trigger.player.judging[0]);
                game.addVideo('deletenode',player,get.cardsInfo([trigger.player.judging[0].clone]));
            }
            game.cardsDiscard(trigger.player.judging[0]);
            trigger.player.judging[0]=result.cards[0];
            trigger.orderingCards.addArray(result.cards);
            game.log(trigger.player,'çš„åˆ¤å®šç‰Œæ”¹ä¸º',result.cards[0]);
            game.delay(2);
        }
    },
                ai:{
                    rejudge:true,
                    tag:{
                        rejudge:1,
                    },
                },
            },
            "DIY_baiyin_fangzhu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:"damageEnd",
                },
                direct:true,
                preHidden:true,
                content:function(){
        "step 0"
        player.chooseTarget(get.prompt('fangzhu'),'ä»¤ä¸€åå…¶ä»–è§’è‰²å°†æ­¦å°†ç‰Œç¿»é¢å¹¶æ‘¸'+get.cnNumber(player.getDamagedHp())+'å¼ ç‰Œ',function(card,player,target){
            return player!=target
        }).setHiddenSkill('fangzhu').ai=function(target){
            if(target.hasSkillTag('noturn')) return 0;
            var player=_status.event.player;
            if(get.attitude(_status.event.player,target)==0) return 0;
            if(get.attitude(_status.event.player,target)>0){
                if(target.classList.contains('turnedover')) return 1000-target.countCards('h');
                if(player.getDamagedHp()<3) return -1;
                return 100-target.countCards('h');
            }
            else{
                if(target.classList.contains('turnedover')) return -1;
                if(player.getDamagedHp()>=3) return -1;
                return 1+target.countCards('h');
            }
        }
        "step 1"
        if(result.bool){
            player.logSkill('DIY_baiyin_fangzhu',result.targets);
            result.targets[0].draw(player.getDamagedHp());
            result.targets[0].turnOver();
        }
    },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                    effect:{
                        target:function(card,player,target){
                if(get.tag(card,'damage')){
                    if(player.hasSkillTag('jueqing',false,target)) return [1,-2];
                    if(target.hp<=1) return;
                    if(!target.hasFriend()) return;
                    var hastarget=false;
                    var turnfriend=false;
                    var players=game.filterPlayer();
                    for(var i=0;i<players.length;i++){
                        if(get.attitude(target,players[i])<0&&!players[i].isTurnedOver()){
                            hastarget=true;
                        }
                        if(get.attitude(target,players[i])>0&&players[i].isTurnedOver()){
                            hastarget=true;
                            turnfriend=true;
                        }
                    }
                    if(get.attitude(player,target)>0&&!hastarget) return;
                    if(turnfriend||target.hp==target.maxHp) return [0.5,1];
                    if(target.hp>1) return [1,0.5];
                }
            },
                    },
                },
            },
            "DIY_qingxi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                filter:function(event,player){
        return event.card.name=='sha'||event.card.name=='juedou';
    },
                check:function(event,player){
        return get.attitude(player,event.target)<0;
    },
                logTarget:"target",
                content:function(){
        'step 0'
        var num=Math.max(1,4-get.distance(player,trigger.target));
        trigger.target.chooseToDiscard(num,'å¼ƒç½®'+get.cnNumber(num)+'å¼ æ‰‹ç‰Œ',true).set('ai',function(card){
                if(get.type(card)=='basic'){
                    return 8-get.value(card);
                }
                else{
                    return 10-get.value(card);
                }
        });
        'step 1'
        var id=trigger.target.playerid;
        var map=trigger.customArgs;
        if(!map[id]) map[id]={};
        if(!map[id].extraDamage) map[id].extraDamage=0;
        map[id].extraDamage++;
        trigger.target.judge(function(card){
            if(get.color(card)=='red') return -1;
            return 0;
        }).judge2=function(result){
            return result.bool==false?true:false;
        };
        'step 2'
        if(result.color=='red') trigger.directHit.add(trigger.target);
    },
            },
            "DIY_qinguo":{
                audio:"qinguo_use",
                trigger:{
                    player:"loseAfter",
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
                },
                filter:function (event,player){
        var evt=event.getl(player);
        if(event.name=='equip'&&event.player==player) return true;
        return evt&&evt.es.length;
    },
                direct:true,
                content:function(){
        'step 1'
        player.chooseUseTarget({name:'sha'},get.prompt('xinfu_qinguo'),'è§†ä¸ºä½¿ç”¨ä¸€å¼ ã€æ€ã€‘',false).logSkill='xinfu_qinguo';
        'step 2'
        if(player.isHealthy()||player.countCards('e')==player.hp) player.recover();
        if(player.countCards('e')!=player.hp) player.draw();
    },
            },
            "DIY_hengwu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:"useCardAfter",
                },
                forced:true,
                content:function(){
        "step 0"
        var number=get.number(trigger.card);
        player.storage.DIY_hengwu2=number;
        player.addTempSkill('DIY_hengwu2');
        game.countPlayer(function(current){
            if(current!=player){
                player.line(current,'yellow');
                current.storage.DIY_hengwu3=number;
                current.addTempSkill('DIY_hengwu3');
            }
        });
    },
            },
            "DIY_shouli":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:["useCard1","respond"],
                },
                direct:true,
                filter:function(event,player){
        if(!player.storage.DIY_shouli_suit||!player.storage.DIY_shouli_suit.length) return true;
        var suit=get.suit(event.card);
        if(player.storage.DIY_shouli_suit.contains(suit))return false;
        return true;
    },
                content:function(){
        'step 0'
        player.addTempSkill('DIY_shouli_suit');
        if(!player.storage.DIY_shouli_suit) player.storage.DIY_shouli_suit=[];
        player.storage.DIY_shouli_suit.push(get.suit(trigger.card,false));
        player.logSkill("DIY_shouli");
        player.draw(4-player.storage.DIY_shouli_suit.length);
    },
                subSkill:{
                    suit:{
                        mark:true,
                        charlotte:true,
                        intro:{
                            name:"ç‹©éªŠ",
                            content:function(storage,player){
                                var str="æœ¬å›åˆå·²ä½¿ç”¨æˆ–æ‰“å‡ºèŠ±è‰²ï¼š"+get.translation(player.storage.DIY_shouli_suit)+"<br>ä½ çš„ç‰Œç‚¹æ•°-"+get.translation(player.storage.DIY_shouli_suit.length)+"";
                                return str;
                            },
                        },
                        mod:{
                            number:function(card,number){
                                var player=get.owner(card);
                                if(!player) return number;
                                var length = player.storage.DIY_shouli_suit.length;
                                return number <= length ? 1 : number - length;
                            },
                        },
                        onremove:true,
                        sub:true,
                    },
                },
            },
            "DIY_hengwu2":{
                mod:{
                    cardUsable:function(card,player){
            if(get.number(card)<player.storage.DIY_hengwu2) return Infinity;
        },
                },
                charlotte:true,
                onremove:true,
                mark:true,
                marktext:"æ¨ªå©º",
                intro:{
                    name:"æ¨ªå©º",
                    content:function(storage,player){
            var num=player.storage.DIY_hengwu2;
            var str='ä½ ä½¿ç”¨å°äº'+get.translation(num)+'ç‚¹çš„ç‰Œæ— æ¬¡æ•°é™åˆ¶';
            return str;
        },
                },
            },
            "DIY_hengwu3":{
                mod:{
                    "cardEnabled2":function(card,player){
            if(get.number(card)>player.storage.DIY_hengwu3) return false;
        },
                },
                charlotte:true,
                onremove:true,
                mark:true,
                marktext:"æ¨ªå©º",
                intro:{
                    name:"æ¨ªå©º",
                    content:function(storage,player){
            var num=player.storage.DIY_hengwu3;
            var str='ä½ ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‚¹æ•°å¤§äº'+get.translation(num)+'çš„ç‰Œ';
            return str;
        },
                },
            },
            "DIY_yanjiao":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                enable:"phaseUse",
                filterTarget:function(card,player,target){
        return target!=player;
    },
                filter:function(event,player){
        return player.getHistory('custom',function(evt){
            return evt.DIY_yanjiao==true;
        }).length<=player.countMark("DIY_shengshen");
    },
                content:function(){
        "step 0"
        player.getHistory('custom').push({DIY_yanjiao:true});
        player.storage.DIY_yanjiao_a=0;
        player.storage.DIY_yanjiao_b=0;
        player.storage.DIY_yanjiao_c=0;
        var num1=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num2=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num3=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num4=get.cnNumber(num1);
        var num5=get.cnNumber(num2);
        var num6=get.cnNumber(num3);
        if(num1<=num2&&num1<=num3){
            player.storage.DIY_yanjiao_a=num1;
            if(num2<=num3){
               player.storage.DIY_yanjiao_b=num2;
               player.storage.DIY_yanjiao_c=num3;
            }
            else{
                player.storage.DIY_yanjiao_b=num3;
                player.storage.DIY_yanjiao_c=num2;
            }
        }
        else{
            if(num2<=num3){
                player.storage.DIY_yanjiao_a=num2;
                if(num1<=num3){
                    player.storage.DIY_yanjiao_b=num1;
                    player.storage.DIY_yanjiao_c=num3;
                }
                else{
                    player.storage.DIY_yanjiao_b=num3;
                    player.storage.DIY_yanjiao_c=num1;
                }
            }
            else{
                player.storage.DIY_yanjiao_a=num3;
                if(num1<=num2){
                    player.storage.DIY_yanjiao_b=num1;
                    player.storage.DIY_yanjiao_c=num2;
                }
                else{
                    player.storage.DIY_yanjiao_b=num2;
                    player.storage.DIY_yanjiao_c=num1;
                }
            }
        }
        target.chooseControl('A','B','C','D').set('prompt','ã€–ä¸¥æ•™ã€—<br>'+get.translation(player)+'ï¼šä»Šæœ‰é•¿éä¸€æ¢ƒä¸‰ç«¯ï¼Œå…¶é•¿åˆ†ä¸º'+toCnCapNumber(num4)+'å¯¸ã€'+toCnCapNumber(num5)+'å¯¸ã€'+toCnCapNumber(num6)+'å¯¸ï¼Œå–„å­ï¼Œæ­¤æœ¨ä»¥ä¸ºä½•ä¸‰è§’ï¼Ÿ').set("displayIndex", false).set('choiceList',[
            'A.é”è§’ä¸‰è§’å½¢',
            'B.ç›´è§’ä¸‰è§’å½¢',
            'C.é’è§’ä¸‰è§’å½¢',
            'D.ä¸æˆä¸‰è§’å½¢',
        ]).set('ai',function(){
            var a=player.storage.DIY_yanjiao_a;
            var b=player.storage.DIY_yanjiao_b;
            var c=player.storage.DIY_yanjiao_c;
            if(a+b<=c) return 'D';
            if(a*a+b*b>c*c) return 'A';
            if(a*a+b*b==c*c) return 'B';
            if(a*a+b*b<c*c) return 'C';
            return 'D';
        });
        "step 1"
        if(result.control!="cancel2"){
            game.log(target,'é€‰æ‹©äº†','#y'+result.control);
            var a=player.storage.DIY_yanjiao_a;
            var b=player.storage.DIY_yanjiao_b;
            var c=player.storage.DIY_yanjiao_c;
            if(a+b<=c&&result.control=='D') event.goto(3);
            if(a+b>c&&a*a+b*b>c*c&&result.control=='A') event.goto(3);
            if(a+b>c&&a*a+b*b==c*c&&result.control=='B') event.goto(3);
            if(a+b>c&&a*a+b*b<c*c&&result.control=='C') event.goto(3);
        }
        "step 2"
        game.log(target,'å›ç­”é”™è¯¯âŒ');
        target.popup('å›ç­”é”™è¯¯');
        target.damage('nocard');
        event.goto(6);
        "step 3"
        game.log(target,'å›ç­”æ­£ç¡®âœ…');
        target.popup('å›ç­”æ­£ç¡®');
        player.draw(4);
        "step 4"
        player.chooseCard('he',true,2,'é€‰æ‹©äº¤ç»™'+get.translation(target)+'çš„ä¸¤å¼ ç‰Œ');
        "step 5"
        if(result.bool&&result.cards&&result.cards.length) target.gain(result.cards,player,'giveAuto');
        "step 6"
    },
                ai:{
                    order:10,
                    result:{
                        player:1,
                        target:1.1,
                    },
                },
            },
            "DIY_shengshen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:"damageEnd",
                },
                direct:true,
                filter:function(event,player){
        return event.source!=undefined&&event.num>0;
    },
                logTarget:"source",
                frequent:true,
                group:"DIY_shengshen_2",
                intro:{
                    content:"ã€–ä¸¥æ•™ã€—å‘åŠ¨æ¬¡æ•°+$",
                },
                subSkill:{
                    "2":{
                        trigger:{
                            player:"phaseEnd",
                        },
                        direct:true,
                        filter:function(event,player){
                            return player.countMark("DIY_shengshen")>0;
                        },
                        content:function(){
                            player.removeMark('DIY_shengshen',Infinity,false);
                        },
                        sub:true,
                    },
                },
                content:function(){
        "step 0"
        player.chooseBool('å¯¹'+get.translation(trigger.source)+'å‘åŠ¨ã€–ä¸¥æ•™ã€—æˆ–ç‚¹â€œå–æ¶ˆâ€æ‘¸ä¸€å¼ ç‰Œ').set('ai',function(){
            if(get.attitude(player,event.source)>0) return true;
            return false;
        });
        "step 1"
        player.logSkill('DIY_shengshen');
        if(!result.bool){
            player.draw();
            player.addMark('DIY_shengshen',1,false);
            event.goto(8);
        }
        "step 2"
        player.getHistory('custom').push({DIY_yanjiao:true});
        player.storage.DIY_yanjiao_a=0;
        player.storage.DIY_yanjiao_b=0;
        player.storage.DIY_yanjiao_c=0;
        var num1=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num2=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num3=Math.floor(Math.random() * (9 - 1 + 1)) + 9;
        var num4=get.cnNumber(num1);
        var num5=get.cnNumber(num2);
        var num6=get.cnNumber(num3);
        if(num1<=num2&&num1<=num3){
            player.storage.DIY_yanjiao_a=num1;
            if(num2<=num3){
               player.storage.DIY_yanjiao_b=num2;
               player.storage.DIY_yanjiao_c=num3;
            }
            else{
                player.storage.DIY_yanjiao_b=num3;
                player.storage.DIY_yanjiao_c=num2;
            }
        }
        else{
            if(num2<=num3){
                player.storage.DIY_yanjiao_a=num2;
                if(num1<=num3){
                    player.storage.DIY_yanjiao_b=num1;
                    player.storage.DIY_yanjiao_c=num3;
                }
                else{
                    player.storage.DIY_yanjiao_b=num3;
                    player.storage.DIY_yanjiao_c=num1;
                }
            }
            else{
                player.storage.DIY_yanjiao_a=num3;
                if(num1<=num2){
                    player.storage.DIY_yanjiao_b=num1;
                    player.storage.DIY_yanjiao_c=num2;
                }
                else{
                    player.storage.DIY_yanjiao_b=num2;
                    player.storage.DIY_yanjiao_c=num1;
                }
            }
        }
        player.logSkill('DIY_yanjiao',trigger.source);
        trigger.source.chooseControl('A','B','C','D').set('prompt','ã€–ä¸¥æ•™ã€—<br>'+get.translation(player)+'ï¼šä»Šæœ‰é•¿éä¸€æ¢ƒä¸‰ç«¯ï¼Œå…¶é•¿åˆ†ä¸º'+toCnCapNumber(num4)+'å¯¸ã€'+toCnCapNumber(num5)+'å¯¸ã€'+toCnCapNumber(num6)+'å¯¸ï¼Œå–„å­ï¼Œæ­¤æœ¨ä»¥ä¸ºä½•ä¸‰è§’ï¼Ÿ').set('choiceList',[
            'é”è§’ä¸‰è§’å½¢',
            'ç›´è§’ä¸‰è§’å½¢',
            'é’è§’ä¸‰è§’å½¢',
            'ä¸æˆä¸‰è§’å½¢',
        ]).set('ai',function(){
            var a=player.storage.DIY_yanjiao_a;
            var b=player.storage.DIY_yanjiao_b;
            var c=player.storage.DIY_yanjiao_c;
            if(a+b<=c) return 'D';
            if(a*a+b*b>c*c) return 'A';
            if(a*a+b*b==c*c) return 'B';
            if(a*a+b*b<c*c) return 'C';
            return 'D';
        });
        "step 3"
        if(result.control!="cancel2"){
            game.log(trigger.source,'é€‰æ‹©äº†','#y'+result.control);
            var a=player.storage.DIY_yanjiao_a;
            var b=player.storage.DIY_yanjiao_b;
            var c=player.storage.DIY_yanjiao_c;
            if(a+b<=c&&result.control=='D') event.goto(5);
            if(a+b>c&&a*a+b*b>c*c&&result.control=='A') event.goto(5);
            if(a+b>c&&a*a+b*b==c*c&&result.control=='B') event.goto(5);
            if(a+b>c&&a*a+b*b<c*c&&result.control=='C') event.goto(5);
        }
        "step 4"
        game.log(trigger.source,'å›ç­”é”™è¯¯âŒ');
        trigger.source.popup('å›ç­”é”™è¯¯');
        trigger.source.damage('nocard');
        event.goto(8);
        "step 5"
        game.log(trigger.source,'å›ç­”æ­£ç¡®âœ…');
        trigger.source.popup('å›ç­”æ­£ç¡®');
        player.draw(4);
        "step 6"
        player.chooseCard('he',true,2,'é€‰æ‹©äº¤ç»™'+get.translation(trigger.source)+'çš„ä¸¤å¼ ç‰Œ');
        "step 7"
        if(result.bool&&result.cards&&result.cards.length) trigger.source.gain(result.cards,player,'giveAuto');
        "step 8"
    },
                ai:{
                    "maixie_defend":true,
                    expose:0.4,
                },
            },
            "DIY_jiufa":{
                trigger:{
                    player:["phaseJudgeBefore","phaseDrawBefore","phaseDiscardBefore"],
                },
                group:["DIY_jiufa_use","DIY_jiufa_damage"],
                intro:{
                    content:"ã€–ä¹ä¼ã€—å¯å‘åŠ¨æ¬¡æ•°ï¼š$",
                },
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                content:function(){
        trigger.cancel();
        if(event.triggername=='phaseJudgeBefore') game.log(player,'è·³è¿‡äº†åˆ¤å®šé˜¶æ®µ');
        if(event.triggername=='phaseDrawBefore') game.log(player,'è·³è¿‡äº†æ‘¸ç‰Œé˜¶æ®µ');
        if(event.triggername=='phaseDiscardBefore') game.log(player,'è·³è¿‡äº†å¼ƒç‰Œé˜¶æ®µ');
                },
                subSkill:{
                    use:{
                        audio:"DIY_jiufa",
                        forced:true,
                        trigger:{
                            player:"phaseUseEnd",
                        },
                        filter:function(event,player){
                    return player.getHistory('custom',function(evt){
                        return evt.DIY_jiufa_use==true;
                    }).length<player.countMark("DIY_jiufa");
                        },
                        content:function(){
                            player.getHistory('custom').push({DIY_jiufa_use:true});
                            var next=trigger.player.phaseUse();
                            event.next.remove(next);
                            trigger.getParent('phase').next.push(next);
                            game.log(player,'æ‰§è¡Œäº†ä¸€ä¸ªå‡ºç‰Œé˜¶æ®µ');
                        },
                        sub:true,
                    },
                    damage:{
                        audio:"DIY_jiufa",
                        forced:true,
                        trigger:{
                            source:"damageSource",
                        },
                        filter:function(event,player){
                    return player==_status.currentPhase&&player.countMark("DIY_jiufa")<9;
                        },
                        content:function(){
                            player.addMark('DIY_jiufa',1,false);
                        },
                        sub:true,
                    },
                },
            },
            "DIY_tianren":{
                trigger:{
                    player:["phaseUseBefore"],
                },
                forced:true,
                discard:false,
                lose:false,
                delay:false,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                content:function(){
        'step 0'
        str='å¤©ä»»ï¼šè¯·é€‰æ‹©ä¸€é¡¹';
        if(player.storage.DIY_tianren_choice==0){
          str+='ï¼Œè‹¥ä½ é€‰æ‹©äº†é€‰é¡¹ä¸€ï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›';
        }
        else{
            if(player.storage.DIY_tianren_choice==1){
                str+='ï¼Œè‹¥ä½ é€‰æ‹©äº†é€‰é¡¹äºŒï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›';
            }
        }
        if(player.hasSkill('DIY_tianren_2')){
            player.chooseControl('é€‰é¡¹ä¸€','é€‰é¡¹äºŒ').set('prompt',str).set('choiceList',[
            'å°†æ‰‹ç‰Œè°ƒæ•´è‡³äº”å¼ ',
            'ä¾æ¬¡é‡é“¸äº”å¼ ç‰Œ',
        ]).set('ai',function(){
            if(player.storage.DIY_tianren_choice==0) return 'é€‰é¡¹äºŒ';
                return 'é€‰é¡¹ä¸€';
            });
        }
        else{
            player.chooseControl('é€‰é¡¹ä¸€','é€‰é¡¹äºŒ').set('prompt',str).set('choiceList',[
            'å°†æ‰‹ç‰Œè°ƒæ•´è‡³å››å¼ ',
            'ä¾æ¬¡é‡é“¸å››å¼ ç‰Œ',
        ]).set('ai',function(){
            if(player.storage.DIY_tianren_choice==0) return 'é€‰é¡¹äºŒ';
                return 'é€‰é¡¹ä¸€';
            });
        }
        'step 1'
        if(result.control=='é€‰é¡¹ä¸€'){
            if(player.hasSkill('DIY_tianren_2')){
                num1=5;
            }
            else{
                num1=4;
            }
            if(player.storage.DIY_tianren_choice==0){
                player.loseHp();
                player.removeSkill('DIY_tianren_2');
            }
            else{
                player.addSkill('DIY_tianren_2');
            }
            player.storage.DIY_tianren_choice=0;
            var num2=num1-player.countCards('h');
            if(num2>0) player.draw(num2);
            else player.chooseToDiscard('h',-num2,true);
        }
        else{
            if(player.hasSkill('DIY_tianren_2')){
                num1=5;
            }
            else{
                num1=4;
            }
            if(player.storage.DIY_tianren_choice==1){
                player.loseHp();
                player.removeSkill('DIY_tianren_2');
            }
            else{
                player.addSkill('DIY_tianren_2');
            }
            player.storage.DIY_tianren_choice=1;
            for(i=1;i<=num1;i++){
                player.chooseToDiscard('å¤©ä»»ï¼šè¯·é€‰æ‹©é‡é“¸çš„ç¬¬'+get.cnNumber(i)+'å¼ ç‰Œ','he',1,true).set('ai',function(card){
            return 7-get.value(card);
        });
                player.draw();
            }
        }
                },
                subSkill:{
                    "2":{
                        intro:{
                            content:"ä¸‹æ¬¡å‘åŠ¨ã€–å¤©ä»»ã€—é€‰é¡¹æ•°å­—+1",
                        },
                        sub:true,
                    },
                },
            },
            "DIY_paoxiao":{
                mod:{
                    aiOrder:function(player,card,num){
                        if(get.name(card)=='sha'&&(!player.storage.DIY_paoxiao||get.color(card)!=player.storage.DIY_paoxiao)) return num+10;
                    },
                    cardUsable:function (card,player,num){
                           if(card.name=='sha') return Infinity;
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCard","respond"],
                },
                direct:true,
                forced:true,
                filter:function(event,player){
                    if(get.name(event.card)!='sha') return false;
                    return true;
                },
                content:function(){
            if(player.storage.DIY_paoxiao){
                if(get.color(trigger.card)!=player.storage.DIY_paoxiao){
                    player.logSkill('DIY_paoxiao');
                    var cards=[];
                    get.cardPile(function(card){
                        if(get.color(card)!=get.color(trigger.card)) cards.push(card);
                    });
                    if(cards.length){
                        player.gain(cards.randomGet(),'gain2');
                    }
                    player.addSkill('DIY_paoxiao_sha');
                }
                else player.removeSkill('DIY_paoxiao_sha');
            }
            player.storage.DIY_paoxiao=get.color(trigger.card);        
            player.markSkill('DIY_paoxiao');
                },
                intro:{
                    mark:function(dialog,content,player){
                        if(player.storage.DIY_paoxiao){
                        if(['red','black'].contains(player.storage.DIY_paoxiao)) dialog.addText('ä¸Šæ¬¡æ€é¢œè‰²ï¼š'+get.translation(player.storage.DIY_paoxiao));
                        else dialog.addText('ä¸Šæ¬¡æ€é¢œè‰²ï¼šæ— é¢œè‰²');
                        }
                    },
                },
                subSkill:{
                    sha:{
                        forced:true,
                        mod:{
                            targetInRange:function (card,player){
                  if(card.name=='sha') return true;
        },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_wusheng":{
                mod:{
                    cardUsable:function (card,player,num){
                           if(get.suit(card)=='heart'&&card.name=='sha') return Infinity;
                    },
                    targetInRange:function (card){
                        if(get.suit(card)=='diamond'&&card.name=='sha') return true;
                    },
                },
                enable:["chooseToRespond","chooseToUse"],
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
                    return event.filterCard({name:'sha',isCard:true},player,event)&&player.countCards('hes',function(card){
                    return get.color(card)=='red'||get.name(card)=='sha';
                    });
                },
                chooseButton:{
                    dialog:function(event,player){
                        var dialog=ui.create.dialog('æ­¦åœ£','hidden');
                        dialog.addText('è¯·é€‰æ‹©ä¸€ä¸ªç‚¹æ•°ï¼š');
                        var table=document.createElement('div');
                        table.classList.add('add-setting');
                        table.style.margin='0';
                        table.style.width='100%';
                        table.style.position='relative';
                        for(var i=1;i<14;i++){
                            var td=ui.create.div('.shadowed.reduce_radius.pointerdiv.tdnode');
                            var num=i;
                            if(num==1) num='A';
                            if(num==11) num='J';
                            if(num==12) num='Q';
                            if(num==13) num='K';
                            td.innerHTML='<span>'+num+'</span>';
                            td.link=i;
                            td.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                            for(var j in lib.element.button){
                                td[j]=lib.element.button[j];
                            }
                            table.appendChild(td);
                            dialog.buttons.add(td);
                        }
                        dialog.content.appendChild(table);
                        dialog.addText('è¯·é€‰æ‹©ä¸€ä¸ªèŠ±è‰²ï¼š');
                        var table1=document.createElement('div');
                        table1.classList.add('add-setting');
                        table1.style.margin='0';
                        table1.style.width='100%';
                        table1.style.position='relative';
                        var suit=['spade','heart','club','diamond'];
                        for(var i=0;i<suit.length;i++){
                            var td=ui.create.div('.shadowed.reduce_radius.pointerdiv.tdnode');
                            td.innerHTML='<span>'+get.translation(suit[i])+'</span>';
                            td.link=suit[i];
                            td.addEventListener(lib.config.touchscreen?'touchend':'click',ui.click.button);
                            for(var j in lib.element.button){
                                td[j]=lib.element.button[j];
                            }
                            table1.appendChild(td);
                            dialog.buttons.add(td);
                        }
                        dialog.content.appendChild(table1);
                        var basic=[];
                        basic.push(['åŸºæœ¬','','sha']);
                        basic.push(['åŸºæœ¬','','sha','fire']);
                        basic.push(['åŸºæœ¬','','sha','thunder']);
                        basic.push(['åŸºæœ¬','','sha','ice']);
                        basic.push(['åŸºæœ¬','','sha','stab']);
                        dialog.addText('è¯·é€‰æ‹©ä¸€ä¸ªå±æ€§ï¼š');
                        dialog.add([basic,'vcard']);
                        return dialog;
                    },
                    filter:function(button){
                        if(ui.selected.buttons.length){
                        for(var i=0;i<ui.selected.buttons.length;i++){
                    if(typeof button.link==typeof ui.selected.buttons[i].link) return false;
                        }}
                        return true;
                    },
                    select:3,
                    check:function(button){
                    //typeof ç‚¹æ•°ï¼šnumber
                    //typeof èŠ±è‰²ï¼šstring
                    //typeof vcardï¼šobject
                        var player=_status.event.player;
                        if(_status.event.getParent().type!='phase') return 10;
                        if(typeof button.link=='number'){
                            return 1+Math.random();
                            }
                            if(typeof button.link=='string'){
                            if(player.storage.DIY_paoxiao){
                            if(player.storage.DIY_paoxiao=='red'&&['heart','diamond'].contains(button.link)) return false;
                            if(player.storage.DIY_paoxiao=='black'&&['spade','club'].contains(button.link)) return false;
                            }
                            else{
                            if(['heart'].contains(button.link)) return 999;
                            }
                            return 1+Math.random();
                            }
                            //    return player.getUseValue(card);
                                return player.getUseValue({
                            name:button.link[2],
                            nature:button.link[3],
                        });
                    },
                    backup:function(links,player){
                    var number=links[0],suit=links[0],name=links[0][2],nature=links[0][3];
                        if(typeof links[1]=='number') number=links[1];
                        if(typeof links[1]=='string') suit=links[1];
                        if(typeof links[1]=='object'){ name=links[1][2];nature=links[1][3];}
                        if(typeof links[2]=='number') number=links[2];
                        if(typeof links[2]=='string') suit=links[2];
                        if(typeof links[2]=='object'){ name=links[2][2];nature=links[2][3];}
                        return {
                            audio:'DIY_wusheng',
                            filterCard:function(card,player){
                    return get.color(card)=='red'||get.name(card)=='sha';
                },
                            popname:true,
                            precontent:function(){
                                player.logSkill('DIY_wusheng');
                                },
                            position:'hes',
                            viewAs:{
                                suit:suit,
                                number:number,
                                name:name,
                                nature:nature,
                                isCard:true,
                            },
                            ai1:function(card){
                                return 7
                            },
                        }
                    },
                    prompt:function(links){
                    var number=0,suit=0,name=0,nature=0;
                        if(typeof links[1]=='number') number=1;
                        if(typeof links[1]=='string') suit=1;
                        if(typeof links[1]=='object'){ name=1;nature=1;}
                        if(typeof links[2]=='number') number=2;
                        if(typeof links[2]=='string') suit=2;
                        if(typeof links[2]=='object'){ name=2;nature=2;}
                        var num=links[number];
                            if(num==1) num='A';
                            if(num==11) num='J';
                            if(num==12) num='Q';
                            if(num==13) num='K';
                        return 'å°†ä¸€å¼ ã€æ€ã€‘æˆ–çº¢è‰²ç‰Œå½“åš'+(get.translation(links[nature][3])||'')+get.translation(links[name][2])+'ã€'+get.translation(links[suit])+num+'ã€‘ä½¿ç”¨æˆ–æ‰“å‡º';
                    },
                },
                ai:{
                    respondSha:true,
                    skillTagFilter:function(player,tag,arg){
                        return player.countCards('hes',function(card){
                    return get.color(card)=='red'||get.name(card)=='sha';
                    });
                    },
                    order:12,
                    result:{
                        player:1,
                    },
                },
                group:"DIY_wusheng_sha",
                subSkill:{
                    sha:{
                        trigger:{
                            player:"useCardToPlayered",
                        },
                        direct:true,
                        filter:function(event,player){
                            return event.card.name=='sha'&&get.suit(event.card)=='heart';
                        },
                        content:function(){
                            trigger.addCount=false;
                            if(player.stat[player.stat.length-1].card.sha>0){
                                player.stat[player.stat.length-1].card.sha--;
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_tianzuo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"loseAfter",
                    global:"cardsDiscardAfter",
                },
                filter:function(event,player){
        if(event.name=='lose'){
            if(event.type!='discard') return false;
        }
        else{
            var evt=event.getParent();
            if(evt.name!='orderingDiscard'||!evt.relatedEvent||evt.relatedEvent.player!=player||!['useCard','respond'].contains(evt.relatedEvent.name)) return false;
        }
        return (event.cards2||event.cards).filterInD('d').length>0;
    },
                forced:true,
                content:function(){
        'step 0'
        var evt=trigger.getParent().relatedEvent;
        if((trigger.name=='discard'&&!trigger.delay)||evt&&evt.name=='respond') game.delayx();
        'step 1'
        event.cards=(trigger.cards2||trigger.cards).filterInD('d');
        player.gain(event.cards);
        game.delayx();
        'step 2'
        player.markAuto('DIY_lingce',event.cards);
        var list=[];
        for(i=1;i<ui.cardPile.childElementCount-1;i++){
            list.push(i);
        }
        player.lose(event.cards,ui.cardPile).insert_index=function(event,card){
            var num1=list.randomGet();
            if(get.isLuckyStar(player)&&ui.cardPile.childElementCount>10) num=[2,3,4,5,6,7,8].randomGet();;
            return ui.cardPile.childNodes[num1];
        };
        'step 3'
        game.updateRoundNumber();
        game.log(player,'æŠŠ',get.cnNumber(event.cards.length),'å¼ ç‰Œæ”¾åœ¨äº†ç‰Œå †é‡Œ');
        game.delayx();
                },
                group:"DIY_tianzuo_gain",
                subSkill:{
                    gain:{
                        audio:"DIY_tianzuo",
                        trigger:{
                            global:"gainAfter",
                        },
                        forced:true,
                        filter:function(event,player){
                            var cards=event.cards;
                            for(i=0;i<cards.length;i++){
                                if(player.getStorage('DIY_lingce').contains(cards[i])) return true;
                            }
                            return false;
                        },
                        content:function(){
                            'step 0'
                            var cards=trigger.cards;
                            for(i=0;i<cards.length;i++){
                                if(player.getStorage('DIY_lingce').contains(cards[i])) player.unmarkAuto('DIY_lingce',[cards[i]]);
                            }
                            'step 1'
                            player.chooseTarget('ä»¤ä¸€åè§’è‰²è·å¾—ä¸€å¼ â€œæ™ºå›Šâ€æˆ–ç‚¹å–æ¶ˆè§†ä¸ºå¯¹â€'+get.translation(trigger.player)+'ä½¿ç”¨ã€å¥‡æ­£ç›¸ç”Ÿã€‘',function(card,player,target){
                                if(target!=player&&target!=trigger.player) return false;
                                return true;
                            }).set('ai',function(target){
                                var att=get.attitude(_status.event.player,target);
                                if(_status.event.neg) return -att;
                                return att;
                            });
                            'step 2'
                            if(result.bool){
                                event.player=result.targets[0];
                                var list1=get.zhinangs();
                                if(player.storage.DIY_dinghan&&player.hasSkill('DIY_dinghan')) list2=player.getStorage('DIY_dinghan');
                                player.chooseButton(['çµç­–ï¼šè¯·é€‰æ‹©ä»¤'+get.translation(event.player)+'è·å¾—çš„æ™ºå›Š',[list1.concat(list2),'vcard']],true).set('ai',function(card){
                                    return (Math.random()+0.5)*get.value({name:card.link[2]},_status.event.player)
                                });
                            }
                            else{
                                player.useCard({name:'qizhengxiangsheng',isCard:true},trigger.player,false,'noai');
                                event.goto(4);
                            }
                            'step 3'
                            if(result.bool){
                                var card=get.cardPile2(function(card){
                                    return card.name==result.links[0][2];
                                });
                                if(card) event.player.gain(card,'gain2');
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_lingce":{
                mark:true,
                marktext:"çµç­–",
                intro:{
                    name:"ç­–",
                    content:"cards",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDrawBegin2",
                },
                frequent:true,
                preHidden:true,
                filter:function(event,player){
                    return !event.numFixed&&player.storage.DIY_lingce;
                },
                content:function(){
                    var storage=player.storage.DIY_lingce;
                    var list=[];
                    for(var i=0;i<storage.length;i++){
                        if(!list.contains(storage[i].name)){
                            list.push(storage[i].name);
                        }
                    }
                    var num=Math.min(3,list.length);
                    trigger.num+=num;
                },
                ai:{
                    threaten:1.5,
                },
                mod:{
                    maxHandcard:function(player,num){
                        var storage=player.storage.DIY_lingce;
                        var list=[];
                        for(var i=0;i<player.countMark('DIY_lingce');i++){
                            if(!list.contains(storage[i].name)){
                                list.push(storage[i].name);
                            }
                        }
                        if(list.length>3) return Math.max(1,num-Math.min(3,list.length-3));
                    },
                },
            },
            "DIY_dinghan":{
                enable:"phaseUse",
                direct:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                filter:function(event,player){
                    return !player.hasSkill('DIY_dinghan_2');
                },
                content:function(){
        'step 0'
        if(!player.storage.DIY_dinghan) player.storage.DIY_dinghan=[];
        var dialog=[get.prompt('dinghan')];list1=get.zhinangs(),list2=player.getStorage('DIY_dinghan'),list3=lib.inpile.filter(function(i){
            return get.type2(i,false)=='trick'&&!list1.contains(i)&&!list2.contains(i);
        });
        if(list1.length){
            dialog.push('<div class="text center">æ™ºå›Š</div>');
            dialog.push([list1,'vcard']);
            dialog.push([list2,'vcard']);
        }
        if(list3.length){
            dialog.push('<div class="text center">éæ™ºå›Š</div>');
            dialog.push([list3,'vcard']);
        }
        player.chooseButton(dialog).set('filterButton',function(button){
            if(button.link[2]=='wuxie') return false;
            if(button.link[2]=='wuzhong') return false;
            if(button.link[2]=='guohe') return false;
            return true;
        }).set('ai',function(button){
            var player=_status.event.player,name=button.link[2];
            if(get.zhinangs().contains(name)){
                return -get.effect(player,{name:name},player,player);
            }
            else{
                return get.effect(player,{name:name},player,player)*(1+player.countCards('hs',name));
            }
        });
        'step 1'
        if(result.bool){
            player.logSkill('DIY_dinghan');
            player.addTempSkill('DIY_dinghan_2');
            var name=result.links[0][2];
            if(player.storage.DIY_dinghan.contains(name)){
                player.storage.DIY_dinghan.remove(name);
                game.log(player,'ä»æ™ºå›Šä¸­ç§»é™¤äº†','#y'+get.translation(name));
            }
            else{
                player.storage.DIY_dinghan.push(name);
                game.log(player,'å‘æ™ºå›Šä¸­æ·»åŠ äº†','#y'+get.translation(name));
            }
            game.delayx();
        }
    },
                subSkill:{
                    "2":{
                        sub:true,
                    },
                },
                ai:{
                    order:10,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_qianchong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:["chooseToUse","chooseToRespond"],
                hiddenCard:function(player,name){
                    if(lib.inpile.contains(name)&&(get.type(name)=='basic'||get.type(name)=='trick')) return true;
                },
                direct:true,
                filter:function(event,player){
                       if(game.countPlayer(function(current){
                           return current!=player&&current.countCards('h')>0&&current.hasSex('male');
                       })==0) return false;
                       if(event.responded||event.DIY_qianchong) return false;
                       for(var i of lib.inpile){
                           if(event.filterCard({name:i},player,event)) return true;
                       }
                       return false;
                   },
                delay:false,
                content:function(){
                       'step 0'
                       var evt=event.getParent(2);
                    evt.set('DIY_qianchong',true);
                    var list1=[],list2=[];
                       for(var i=0;i<lib.inpile.length;i++){
                           var type=get.type(lib.inpile[i]);
                           if(type=='basic'){
                               if(evt.filterCard({name:lib.inpile[i]},player,evt)) list1.push(['åŸºæœ¬','',lib.inpile[i]]);
                        }
                        else if(type=='trick'){
                            if(evt.filterCard({name:lib.inpile[i]},player,evt)) list2.push(['é”¦å›Š','',lib.inpile[i]]);
                        }
                    }
                       player.chooseButton([get.prompt('DIY_qianchong'),'è¯·é€‰æ‹©è¦å£°æ˜çš„ç‰Œ',[list1.concat(list2),'vcard']]).set('filterButton',function(button){
                        return evt.filterCard({name:button.link[2]},player,evt);
                    });
                    'step 1'
                    var evt=event.getParent(2);
                    if(result.bool&&result.links&&result.links.length){
                        player.logSkill('DIY_qianchong');
                        player.storage.DIY_qianchong_num=0;
                        player.storage.DIY_qianchong=false;
                        player.showCards(game.createCard({
                            name:result.links[0][2],
                        }),get.translation(event.target)+'å£°æ˜äº†'+get.translation(result.links[0][2]));
                        event.name=result.links[0][2];
                    }
                    else event.goto(7);
                    'step 2'
                    event.current=player.next;
                    'step 3'
                    if(!event.current.countCards('h')||!event.current.hasSex('male')) event.goto(5);
                    else event.current.chooseCard('äº¤ç»™'+get.translation(player)+'ä¸€å¼ ç‰Œ','he',true).set('ai',function(card){
                        var evt=_status.event.getParent();
                        if(get.attitude(_status.event.player,evt.player)>2){
                            if(card.name!=event.name) return 120;
                        }
                        return 100-get.value(card);
                    });
                    'step 4'
                    if(result.bool&&result.cards&&result.cards.length){
                        player.gain(result.cards,event.current,'giveAuto');
                        player.storage.DIY_qianchong_num++;
                        if(result.cards[0].name==event.name&&player.storage.DIY_qianchong!=true){
                            player.loseHp();
                            player.say("å•Šâ€¦è¦çš„å°±ï¼Œå°±æ˜¯è¿™ä¸ª");
                            player.storage.DIY_qianchong=true;
                        }
                    }
                    'step 5'
                    event.current=event.current.next;
                    if(event.current!=player) event.goto(3);
                    'step 6'
                    if(player.storage.DIY_qianchong_num>player.hp&&player.storage.DIY_qianchong!=true){
                        player.loseHp();
                        player.say("ä¸è¡Œï¼Œå¤ªå¤šäº†ï¼Œè¿™æ ·ä¸‹å»â€¦â€¦ä¼šï¼Œä¼šåæ‰äº†");
                    }
                    'step 7'
                    var evt=event.getParent(2);
                    evt.goto(0);
                },
                ai:{
                    effect:{
                        target:function(card,player,target,effect){
                            if(get.tag(card,'respondShan')) return 0.7;
                            if(get.tag(card,'respondSha')) return 0.7;
                           },
                    },
                    order:11,
                    respondShan:true,
                    respondSha:true,
                    result:{
                        player:1,
                    },
                },
            },
            "DIY_dulie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                    target:"useCardToTarget",
                },
                derivation:"DIY_shenzhu",
                forced:true,
                logTarget:"target",
                filter:function(event,player){
        return event.card.name=='sha';
    },
                content:function(){
        'step 0'
        player.judge(function(result){
            if(get.suit(result)=='heart') return 2;
            return -1;
        }).judge2=function(result){
            return result.bool;
        };
        'step 1'
        if(result.bool){
            trigger.targets.remove(trigger.target);
			trigger.getParent().excluded.add(trigger.target);
        }
        else{
            player.addTempSkill('DIY_dulie_powei');
            player.addSkill('DIY_shenzhu');
        }
                },
                subSkill:{
                    powei:{
                        mark:true,
                        marktext:"ç¬ƒçƒˆ",
                        intro:{
                            content:"æœ¬å›åˆã€–è¡é­”ã€—å¤±æ•ˆ",
                        },
                        sub:true,
                    },
                },
                ai:{
                    effect:{
                        target:function(card,player,target,current,isLink){
                if(card.name=='sha'&&!isLink) return 0.5;
            },
                    },
                },
            },
            "DIY_dangmo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCard2",
                },
                filter:function(event,player){
                    if(player.hasSkill('DIY_dulie_powei')) return false;
                    if(event.card.name!='sha') return false;
                    return game.hasPlayer(function(target){
                        if(event.targets.contains(target)) return false;
                        if(!lib.filter.filterTarget(event.card,player,target)) return false;
                        return true;
                    });
                },
                direct:true,
                content:function(){
                    'step 0'
                    player.chooseTarget(get.prompt2('DIY_dangmo'),[1,Infinity],function(card,player,target){
                        var cardx=_status.event.cardx;
                        if(!lib.filter.filterTarget(cardx,player,target)) return false;
                        var targets=_status.event.targets.slice(0).concat(ui.selected.targets);
                        if(targets.contains(target)) return false;
                        return true;
                    }).set('promptbar','none').set('cardx',trigger.card).set('targets',trigger.targets).set('ai',function(target){
                        var player=_status.event.player;
                        return get.effect(target,_status.event.cardx,player,player)
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_dangmo',result.targets);
                        if(!player.storage.DIY_dangmo_trigger) player.storage.DIY_dangmo_trigger=[];
                        player.storage.DIY_dangmo_trigger.add(trigger.card);
                        trigger.targets.addArray(result.targets);
                        player.addTempSkill('DIY_dangmo_trigger');
                    }
                },
            },
            "DIY_dangmo_audio":{
                audio:"DIY_dangmoi",
            },
            "DIY_dangmo_trigger":{
                trigger:{
                    player:"shaMiss",
                },
                silent:true,
                onremove:true,
                content:function(){
                    'step 0'
                    event.current=player.next;
                    'step 1'
                    if(!event.current.countCards('he')&&trigger.getParent().targets.contains(event.current)) event.goto(2);
                    else player.gainPlayerCard(event.current,'he',true);
                    'step 2'
                    event.current=event.current.next;
                    if(event.current!=player) event.goto(1);
                    'step 3'
                    player.logSkill("DIY_dangmo_audio");
                    if(player.storage[event.name].contains(trigger.card)) trigger.getParent().excluded.addArray(trigger.getParent().targets);
                },
                group:"DIY_dangmo_remove",
                forced:true,
                popup:false,
            },
            "DIY_dangmo_remove":{
                trigger:{
                    player:["useCardAfter","useCardCancelled"],
                },
                silent:true,
                filter:function(event,player){
                    return player.storage.DIY_dangmo_trigger&&player.storage.DIY_dangmo_trigger.contains(event.card);
                },
                content:function(){
                    player.storage.DIY_dangmo_trigger.remove(trigger.card);
                },
                forced:true,
                popup:false,
            },
            "DIY_shenzhu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                position:"he",
                filterCard:true,
                filterTarget:function(card,player,target){
                    return target!=player;
                },
                filter:function(event,player){
                    return player.countCards('he')>0&&!player.hasSkill('DIY_shenzhu_sha');
                },
                content:function(){
                    player.useCard({name:'sha'},target,[card],'DIY_shenzhu').animate=false;
                },
                prompt:"å°†ä¸€å¼ ç‰Œå½“æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶çš„ã€æ€ã€‘å¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨",
                check:function(card){return 5-get.value(card)},
                group:"DIY_shenzhu_draw",
                ai:{
                    order:10,
                    result:{
                        player:1,
                        target:-1,
                    },
                },
                subSkill:{
                    sha:{
                        forced:true,
                        popup:false,
                        mark:true,
                        marktext:"ç¥è‘—",
                        intro:{
                            content:"ã€–ç¥è‘—ã€—å¤±æ•ˆ",
                        },
                        trigger:{
                            player:"useCard",
                            source:"damageSource",
                        },
                        filter:function(event,player){
                            if(event.name=='damage') return true;
                            return event.card.name=='sha';
                        },
                        content:function(){
                            player.logSkill("DIY_shenzhu_audio");
                            player.removeSkill('DIY_shenzhu_sha');
                        },
                        sub:true,
                    },
                    draw:{
                        trigger:{
                            player:"shaAfter",
                        },
                        forced:true,
                        popup:false,
                        filter:function(event,player){
                            return event.parent.skill=='DIY_shenzhu';
                        },
                        content:function(){
                        'step 0'
                        player.chooseControl().set('choiceList',[
                            'æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åæ­¤æŠ€èƒ½å¤±æ•ˆç›´è‡³ä½ ä¸‹ä¸€æ¬¡ä½¿ç”¨ã€æ€ã€‘æˆ–é€ æˆä¼¤å®³ï¼›',
                            'æ‘¸ä¸‰å¼ ç‰Œï¼Œç„¶åå¤±å»æ­¤æŠ€èƒ½ã€‚',
                        ]).set('ai',()=>_status.event.player.hasSha()?0:1);
                        'step 1'
                        if(result.index==0){
                            player.draw();
                            player.addSkill('DIY_shenzhu_sha');
                        }
                        else{
                            player.draw(3);
                            player.removeSkill('DIY_shenzhu');
                        }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_shenzhu_audio":{
                audio:"DIY_shenzhu",
            },
            "DIY_xionghuo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filterTarget:true,
                content:function(){
                    'step 0'
                    player.damage(target);
                    'step 1'
                    var list=[];
                    for(var name of lib.inpile){
                        var type=get.type(name);
                        if(type!='basic'&&type!='trick') continue;
                        var card={name:name,isCard:true};
                        /*var range=get.select(get.info(card).selectTarget);
                        if(range[0]!=1&&range[1]!=1) continue;*/
                        if(get.tag(card,'damage')>0&&player.hasUseTarget(card)){
                            list.push([type,'',name]);
                        }
                        if(name=='sha'){
                            for(var i of lib.inpile_nature){
                                card.nature=i;
                                if(player.hasUseTarget(card)) list.push([type,'',name,i]);
                            }
                        }
                    }
                    if(list.length){
                        target.chooseButton(['æ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ ä¼¤å®³ç‰Œï¼Ÿ',[list,'vcard'],true]).set('ai',function(button){
                            return _status.event.player.getUseValue({name:button.link[2]});
                        });
                    }
                    else event.finish();
                    'step 2'
                    if(result.bool){
                        event.name=result.links[0][2];
                        event.nature=result.links[0][3];
                        player.chooseControl().set('prompt','å‡¶é•¬ï¼šè¯·é€‰æ‹©ä¸€é¡¹').set('choiceList',[
                            'ä»¤'+get.translation(event.name)+'ä¼¤å®³+1',
                            'ä»¤'+get.translation(event.name)+'é¢å¤–ç»“ç®—ä¸€æ¬¡',
                            'èƒŒæ°´ï¼šä»¤'+get.translation(target)+'å°†æ‰‹ç‰Œæ•°è°ƒæ•´è‡³ä¸€',
                        ]).set('ai',function(){
                            return 2;
                        });
                    }
                    else event.finish();
                    'step 3'
                    if(result.index!=0){
                        target.addTempSkill("DIY_xionghuo_use");
                        target.storage.DIY_xionghuo_use=event.name;
                    }
                    if(result.index!=1){
                        target.addTempSkill("DIY_xionghuo_damage");
                        target.storage.DIY_xionghuo_damage=event.name;
                    }
                    if(result.index==2){
                        var num=target.countCards('h')-1;
                        if(num>0){
                            target.chooseToDiscard(num,true,'h');
                        }
                        else{
                            target.drawTo(1);
                        }
                    }
                    'step 4'
                    target.chooseUseTarget({name:event.name,nature:event.nature,isCard:true},true,false);
                },
                ai:{
                    order:8,
                    result:{
                        player:function(player){
                if(_status.event.dying) return get.attitude(player,_status.event.dying);
                return 1;
            },
                        target:function(player,target){
                if(target==player) return 10;
                if(target!=player) return 0;
            },
                    },
                },
                subSkill:{
                    damage:{
                        audio:"DIY_xionghuo",
                        trigger:{
                            player:"useCard",
                        },
                        forced:true,
                        filter:function(event,player){
                            var evt=event;
                            return evt.card.name==player.storage.DIY_xionghuo_damage;
                        },
                        content:function(){
                            if(!player.hasSkill('DIY_xionghuo_use')) player.removeSkill("DIY_xionghuo_damage");
                            trigger.baseDamage++;
                        },
                        sub:true,
                    },
                    use:{
                        audio:"DIY_xionghuo",
                        trigger:{
                            player:"useCardAfter",
                        },
                        forced:true,
                        filter:function(event,player){
                            var evt=event;
                            if(!evt.targets) return false;
                            return evt.card.name==player.storage.DIY_xionghuo_use;
                        },
                        content:function(){
                            player.removeSkill("DIY_xionghuo_use");
                            var card=game.createCard(trigger.card.name);
                            player.useCard(card,trigger.targets);
                        },
                        sub:true,
                    },
                },
            },
            "DIY_shajue":{
                enable:["chooseToUse"],
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                locked:true,
                filter:function(event,player){
                    if(!event.filterCard({name:'sha'},player,event)&&event.type!='phase') return false;
                    return game.hasPlayer(function(current){
                        return current.countCards('h')==1||current.countCards('e')==1;
                    });
                },
                content:function(){
                'step 0'
                var str='ã€–æ€ç»ã€—ï¼šè¯·é€‰æ‹©ä¸€åæ‰‹ç‰ŒåŒºæˆ–è£…å¤‡åŒºç‰Œæ•°ä¸º1çš„è§’è‰²ï¼š';
                player.chooseTarget(str,function(card,player,target){
                    if(target.countCards('h')!=1&&target.countCards('e')!=1) return false;
                    return true;
                }).ai=(target)=>{
                    var player=_status.event.player;
                    var att=get.attitude(player,target);
                    var h=target.getCards('h')[0];
                    var e=target.getCards('e')[0];
                    if(att<=0){
                        if(h&&!target.hasSkillTag('noh')) return 2;
                        if(e&&!target.hasSkillTag('noe')) return 2;
                    }
                    else{
                        if(h&&target.hasSkillTag('noh')) return 1;
                        if(e&&target.hasSkillTag('noe')) return 1;
                    }
                    return 1;
                };
                'step 1'
                if (result.bool) {
                    event.target=result.targets[0];
                    player.choosePlayerCard(event.target,'he').set('filterButton',function (button){
                        if(event.target.countCards('h')==1&&event.target.countCards('e')!=1) return event.target.getCards('h').contains(button.link);
                        if(event.target.countCards('e')==1&&event.target.countCards('h')!=1) return event.target.getCards('e').contains(button.link);
                        return true;
                    }).ai=get.buttonValue;
                }
                else{
                    _status.DIY_shajue_aiCanceled=true;
                    event.finish();
                    event.getParent(2).goto(0);
                }
                'step 2'
                if(result.bool&&result.cards&&result.cards.length){
                    event.cards=result.cards;
                    _status.DIY_shajue_aiCanceled=false;
                    player.logSkill('DIY_shajue',target);
                    player.gain(event.cards,'give','log');
                    player.addTempSkill('DIY_shajue_dying',{player:'shaAfter'});
                } 
                else{
                    _status.DIY_shajue_aiCanceled=true;
                    event.finish();
                    event.getParent(2).goto(0);
                }
                'step 3'
                var evt=event.getParent(2);
                var bool=true;
                for(var i of event.cards){
                if(game.checkMod(i,player,'unchanged','cardEnabled2',player)===false) bool=false;
                }
                if(bool){
                    var card=event.cards[0],
                    viewAs='sha';
                    if (evt.name=='chooseToUse') {
                    var bool2=true;
                    var cardx={
                        name:viewAs,
                        suit:event.cards[0].suit,
                        number:event.cards[0].number,
                        cards:event.cards,
                    };
                    if (viewAs=='sha'&&evt.type=='phase'){
                        bool2=game.hasPlayer(current=>{
                            return player.canUse(cardx,current,null);
                        });
                    }
                    game.broadcastAll(function(card){
                        lib.skill.DIY_shajue_backup2.viewAs=card;
                        lib.skill.DIY_shajue_backup2.filterCard=(card)=>card==lib.skill.DIY_shajue_backup2.viewAs.cards[0];
                        lib.skill.DIY_shajue_backup2.selectCard=-1;
                        lib.skill.DIY_shajue_backup2.prompt='é€‰æ‹©'+get.translation(card)+'çš„ç›®æ ‡';
                    },cardx);
                    if(evt.type=='phase'){
                        game.broadcastAll(function(card){
                        lib.skill.DIY_shajue_backup.viewAs=card;
                        lib.skill.DIY_shajue_backup.filterCard=(card)=>card==lib.skill.DIY_shajue_backup.viewAs.cards[0];
                        }, cardx);
                        var next=player.chooseToUse();
                        next.set('openskilldialog','ã€æ€ç»ã€‘é€‰æ‹©'+get.translation(get.autoViewAs(cardx,event.cards))+'çš„ç›®æ ‡');
                        next.set('filterCard',()=>true);
                        next.set('filterTarget',function(card,player,target){
                            return player.canUse('sha',target,false);
                        });
                        if (bool2) next.set('selectCard',-1);
                        next.set('_backupevent','DIY_shajue_backup');
                        next.set('custom',{
                            add:{},
                            replace:{window:function(){}}
                        });
                        next.backup('DIY_shajue_backup');
                    }
                    }
                } 
                else{
                    event.cancel();
                }
                evt.goto(0);
                },
                subSkill:{
                    backup:{
                        precontent:function(){
                            delete event.result.skill;
                        },
                        sub:true,
                    },
                    "backup2":{
                        precontent:function(){
                            delete event.result.skill;
                        },
                        filterCard:function(){ return false },
                        selectCard:-1,
                        silent:true,
                        sub:true,
                        forced:true,
                        popup:false,
                    },
                    dying:{
                        audio:"DIY_shajue",
                        trigger:{
                            global:"dying",
                        },
                        forced:true,
                        content:function(){
                            player.stat[player.stat.length-1].card.sha=0;
                            if(trigger.parent.name=='damage'&&get.itemtype(trigger.parent.cards)=='cards'&&get.position(trigger.parent.cards[0],true)=='o'){
                                player.gain(trigger.parent.cards,"gain2");
                            }
                        },
                        sub:true,
                    },
                },
                ai:{
                    respondSha:true,
                    order:function(){
                        var player=_status.event.player;
                        if(_status.event.type=='phase') return 11;
                        if(game.hasPlayer(function(current){
                            return current.countCards('h')==1||current.countCards('e')==1;
                        })) return get.order({name:'sha'})+0.4;
                        return get.order({name:'sha'})-0.4;
                    },
                    result:{
                        player:function(player){
                            if(_status.event.name=='chooseToUse'){
                                if(_status.event.type&&_status.event.type=='phase'){
                                    if(game.hasPlayer(current=>get.effect(current,{name:'sha'},player,player)>0&&player.inRange(current)&&get.attitude(player,current)<0)&&game.hasPlayer(function(current){
            return current.countCards('h')==1||current.countCards('e')==1;
        })) return 1;
                                }
                                else if(_status.event.type&&_status.event.type!='phase'&&player.hp<=2&&player.countCards('h',{name:'sha'})==0) return 1;
                                else if(_status.event.type&&_status.event.type!='phase'&&game.hasPlayer(function(current){
            return current.countCards('h')==1||current.countCards('e')==1;
        })) return 1;
                            }
                            return 0;
                        },
                    },
                },
            },
            "DIY_luoshen":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                locked:false,
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                frequent:true,
                content:function(){
        "step 0"
        player.addTempSkill('DIY_luoshen_add');
        event.cards=[];
        event.suits=[];
        "step 1"
        player.judge(function(card){
            var suit=get.suit(card);
            var list=event.suits;
            list.push(suit);
            if(list.contains('heart')&&list.contains('spade')&&list.contains('club')&&list.contains('diamond')) return 0;
            return 1;
        }).judge2=function(result){
            return result.bool?true:false;
        };
        "step 2"
        if(result.bool){
            player.gain(result.card,'gain2').gaintag.add('DIY_luoshen');
            if(get.color(result.card)=='red'&&player.hasSkill('DIY_qingguo')) player.turnOver();
            event.suits.push(result.suit);
            player.chooseBool('æ˜¯å¦å†æ¬¡å‘åŠ¨ã€æ´›ç¥ã€‘ï¼Ÿ').set('frequentSkill','DIY_luoshen');
        }
        else{
            player.gain(result.card,'gain2').gaintag.add('DIY_luoshen');
            if(get.color(result.card)=='red'&&player.hasSkill('DIY_qingguo')) player.turnOver();
            event.finish();
        }
        "step 3"
        if(result.bool){
            event.goto(1);
        }
    },
                subSkill:{
                    add:{
                        mod:{
                            ignoredHandcard:function(card,player){
                    if(card.hasGaintag('DIY_luoshen')){
                        return true;
                    }
                },
                            cardDiscardable:function(card,player,name){
                    if(name=='phaseDiscard'&&card.hasGaintag('DIY_luoshen')){
                        return false;
                    }
                },
                        },
                        onremove:function(player){
                player.removeGaintag('DIY_luoshen');
            },
                        sub:true,
                    },
                },
            },
            "DIY_qingguo":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"turnOverAfter",
                },
                filter:function(event,player){
        if(event.name=='link') return event.player.isLinked();
        return true;
    },
                direct:true,
                content:function(){
        'step 0'
        player.chooseTarget('å€¾å›½ï¼šæ˜¯å¦é€‰æ‹©ä¸€åç”·æ€§è§’è‰²ï¼Ÿ',function(card,player,target){
            return target!=player&&target.hasSex('male')&&player.countCards('h')!=target.countCards('h');
        }).ai=function(target){
            var num=player.countCards('h')-target.countCards('h');
            return get.attitude(_status.event.player,target)*num;
        };
        'step 1'
        if(result.bool){
            event.target=result.targets[0];
            player.line(target,'thunder');
            player.logSkill('DIY_qingguo',event.target);
            player.chooseControl().set('prompt','å€¾å›½ï¼šè¯·é€‰æ‹©ä¸€é¡¹').set('choiceList',[
                'ä»¤'+get.translation(event.target)+'å°†æ‰‹ç‰Œæ•°è°ƒæ•´è‡³'+get.cnNumber(player.countCards('h'))+'å¼ ',
                'ä»¤ä½ å°†æ‰‹ç‰Œæ•°è°ƒæ•´è‡³'+get.cnNumber(event.target.countCards('h'))+'å¼ ',
            ]).set('ai',function(){
                return 0;
            });
        }
        else{
            event.finish();
        }
        'step 2'
        if(result.index==0){
            var num=player.countCards('h')-event.target.countCards('h');
            if(num>0) event.target.draw(num);
            else event.target.chooseToDiscard(-num,true,'h');
        }
        else{
            var num=player.countCards('h')-event.target.countCards('h');
            if(num<0) player.draw(-num);
            else player.chooseToDiscard(num,true,'h');
        }
    },
                ai:{
                    expose:0.2,
                },
            },
            "DIY_yilue":{
                mark:true,
                intro:{
                    mark:function(dialog,content,player){
            if(player!=game.me) return get.translation(player)+'è§‚çœ‹ç‰Œå †ä¸­...';
            if(get.itemtype(_status.pileTop)!='card') return 'ç‰Œå †é¡¶æ— ç‰Œ';
            var cards=[];
            var num=Math.min(player.countCards('h'),ui.cardPile.childElementCount);
            if(num==0) return '';
            for(var i=0;i<num;i++){
                var card=ui.cardPile.childNodes[i];
                if(card) cards.push(card);
                else break;
            }
            dialog.add(cards);
        },
                },
                mod:{
                    cardname:function(card,player,name){
            var hs=player.getCards('h');
            for(var j=0;j<hs.length;j++){
                if(j+1>ui.cardPile.childElementCount) break;
                if(get.type(ui.cardPile.childNodes[j])!='equip'){
                    var name=ui.cardPile.childNodes[j].name;
                    if(card==hs[j]) return name;
                }
            }
        },
                    cardnature:function(card,player){
            var hs=player.getCards('h');
            for(var j=0;j<hs.length;j++){
                if(j+1>ui.cardPile.childElementCount) break;
                if(get.type(ui.cardPile.childNodes[j])!='equip'){
                    var nature=ui.cardPile.childNodes[j].nature;
                    if(card==hs[j]) return nature;
                }
            }
        },
                },
            },
            "DIY_zhaoran":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseUseBegin",
                },
                filter:function(event,player){
                    return player.countCards('h')>0;
                },
                check:function(event,player){
                    return true;
                },
                content:function(){
        player.showHandcards();
        player.addTempSkill('DIY_zhaoran_effect',{player:'phaseUseEnd'});
    },
                subSkill:{
                    effect:{
                        charlotte:true,
                        forced:true,
                        audio:"DIY_zhaoran",
                        trigger:{
                            player:"useCardAfter",
                        },
                        content:function(){
                            'step 0'
                            var evt=event.getParent('phaseUse');
                            var list=[],history=player.getHistory('useCard');
                            for(var i of history){
                                if(i.getParent('phaseUse')!=evt) continue;
                                var suit2=get.suit(i.card);
                                if(!lib.suit.contains(suit2)) continue;
                                list.add(suit2);
                            }
                            player.chooseToGuanxing(list.length);
                            'step 1'
                            var suit=get.suit(trigger.card);
                            var hs=player.getCards('h');
                            for(var j of hs){
                                if(get.suit(j)==suit) event.goto(3);
                            }
                            'step 2'
                            player.draw();
                        },
                        sub:true,
                    },
                },
            },
            "DIY_dili":{
                trigger:{
                    global:"gameDrawAfter",
                },
                forced:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                group:"DIY_dili_equip",
                derivation:["DIY_baihongjian","DIY_zidianjian","DIY_bixiejian","DIY_liuxingjian","DIY_qingmingjian","DIY_bailijian"],
                content:function(){
        "step 0"
        var name=['DIY_baihongjian','DIY_liuxingjian','DIY_zidianjian','DIY_bixiejian','DIY_qingmingjian','DIY_bailijian'].randomGet();
        var card;
        if(!lib.inpile.contains(name)){
            card=game.createCard2(name,'spade',8);
            lib.inpile.push(name);
        }
        else card=get.cardPile(function(card){
            return card.name==name
        });
        player.chooseUseTarget(card,true,'nopopup');
                },
                subSkill:{
                    equip:{
                        audio:"DIY_dili",
                        forced:true,
                        trigger:{
                            player:"useCardToTargeted",
                        },
                        filter:function(event,player){
                            if(get.type(event.card)!='equip') return false;
                            if(get.subtype(event.card,false)!='equip1'||player!=event.target) return false;
                            var list=['DIY_baihongjian','DIY_liuxingjian','DIY_zidianjian','DIY_bixiejian','DIY_qingmingjian','DIY_bailijian'];
                            return !list.contains(event.card.name);
    },
                        content:function(){
                            'step 0'
                            var cards=trigger.cards.filterInD();
                            if(cards.length>0) game.cardsDiscard(cards);
                            'step 1'
                            var name=['DIY_baihongjian','DIY_liuxingjian','DIY_zidianjian','DIY_bixiejian','DIY_qingmingjian','DIY_bailijian'].randomGet();
                            var card;
                            if(!lib.inpile.contains(name)){
                                card=game.createCard2(name,'spade',8);
                                lib.inpile.push(name);
                            }
                            else card=get.cardPile(function(card){
                                return card.name==name
                            });
                            player.chooseUseTarget(card,true,'nopopup');
                            
                        },
                        sub:true,
                    },
                },
            },
            "DIY_baihongjian":{
                equipSkill:true,
                enable:["chooseToRespond","chooseToUse"],
                usable:1,
                viewAs:{
                    name:"sha",
                    isCard:true,
                },
                filterCard:function(){return false},
                viewAsFilter:function(player){
        return true;
    },
                selectCard:-1,
                mark:false,
                prompt:"è§†ä¸ºä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ æ€",
                ai:{
                    order:function(){
            var player=_status.event.player;
            if(!player.hasShan()&&!game.hasPlayer(function(current){
                return player.canUse('sha',current)&&current.hp==1&&get.effect(current,{name:'sha'},player,player)>0;
            })){
                return 0;
            }
            return 2.95;
        },
                    skillTagFilter:function(player,tag,arg){
            if(arg!='use') return false;
        },
                    respondSha:true,
                    yingbian:function(card,player,targets,viewer){
            if(get.attitude(viewer,player)<=0) return 0;
            var base=0,hit=false;
            if(get.cardtag(card,'yingbian_hit')){
                hit=true;
                if(targets.filter(function(target){
                    return target.hasShan()&&get.attitude(viewer,target)<0&&get.damageEffect(target,player,viewer,get.nature(card))>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_all')){
                if(game.hasPlayer(function(current){
                    return !targets.contains(current)&&lib.filter.targetEnabled2(card,player,current)&&get.effect(current,card,player,player)>0;
                })) base+=5;
            }
            if(get.cardtag(card,'yingbian_damage')){
                if(targets.filter(function(target){
                    return get.attitude(player,target)<0&&(hit||!target.mayHaveShan()||player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                    },true))&&!target.hasSkillTag('filterDamage',null,{
                        player:player,
                        card:card,
                        jiu:true,
                    })
                })) base+=5;
            }
            return base;
        },
                    canLink:function(player,target,card){
            if(!target.isLinked()&&!player.hasSkill('wutiesuolian_skill')) return false;
            if(target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                target:target,
                card:card,
            },true)) return false;
            if(player.hasSkill('jueqing')||player.hasSkill('gangzhi')||target.hasSkill('gangzhi')) return false;
            return true;
        },
                    basic:{
                        useful:[5,3,1],
                        value:[5,3,1],
                    },
                    result:{
                        target:function(player,target,card,isLink){
                var eff=function(){
                    if(!isLink&&player.hasSkill('jiu')){
                        if(!target.hasSkillTag('filterDamage',null,{
                            player:player,
                            card:card,
                            jiu:true,
                        })){
                            if(get.attitude(player,target)>0){
                                return -7;
                            }
                            else{
                                return -4;
                            }
                        }
                        return -0.5;
                    }
                    return -1.5;
                }();
                if(!isLink&&target.mayHaveShan()&&!player.hasSkillTag('directHit_ai',true,{
                    target:target,
                    card:card,
                },true)) return eff/1.2;
                return eff;
            },
                    },
                    tag:{
                        respond:1,
                        respondSha:1,
                        damage:function(card){
                if(card.nature=='poison') return;
                return 1;
            },
                        natureDamage:function(card){
                if(card.nature) return 1;
            },
                        fireDamage:function(card,nature){
                if(card.nature=='fire') return 1;
            },
                        thunderDamage:function(card,nature){
                if(card.nature=='thunder') return 1;
            },
                        poisonDamage:function(card,nature){
                if(card.nature=='poison') return 1;
            },
                        respondShan:1,
                    },
                },
                sub:true,
            },
            "DIY_liuxingjian":{
                equipSkill:true,
                mod:{
                    targetInRange:function(card,player,target){
            if(card.name=='sha'&&!player.inRange(target)) return true;
        },
                },
                trigger:{
                    player:"useCardToPlayer",
                },
                forced:true,
                logTarget:"target",
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(event.card.DIY_liuxingjian) return false;
        if(player.countCards('h','sha')) return true;
        return false;
    },
                content:function(){
        var hs=player.getCards('h');
        cards=hs.filter(function(card){
            return hs.contains(card)&&get.name(card,player)=='sha'&&player.canUse({
                name:'sha',
                isCard:true,
                cards:[card],
            },trigger.target,false);
        });
        if(cards.length){
            var card=cards.randomRemove(1)[0];
            player.useCard(trigger.target,false,card).card.DIY_liuxingjian=true;
            event.redo();
        }
    },
            },
            "DIY_zidianjian":{
                equipSkill:true,
                trigger:{
                    source:"damageEnd",
                },
                direct:true,
                filter:function(event,player){
        return player.countCards('h');
    },
                logTarget:"player",
                content:function(){
        'step 0'
        player.chooseCardTarget({
            prompt:get.prompt2('DIY_zidianjian'),
            prompt2:'å°†ä¸€å¼ ç‰Œå½“åšã€é›·æ€ã€‘å¯¹è·ç¦»'+get.translation(trigger.player)+'ä¸€ä»¥å†…çš„è§’è‰²ä½¿ç”¨ã€‚',
            position:'he',
            filterCard:function(card,player){
                return _status.event.player.getEquip('DIY_zidianjian')!=card;
            },
            filterTarget:function(card,player,target){
                return get.distance(target,trigger.player)<=1&&target!=player;
            },
            ai1:function(card){
                if(get.tag(card,'recover')&&!game.hasPlayer(function(current){
                    return get.attitude(current,player)>0&&!current.hasSkillTag('nogain');
                })) return 0;
                return 7-get.value(card);
            },
            ai2:function(target){
                var player=_status.event.player,att=get.attitude(player,target);
                return -att;
            },
        });
        'step 1'
        if(result.bool){
            var target=result.targets[0];
            player.useCard({name:'sha',nature:'thunder'},target,[result.cards[0]],'DIY_zidianjian').animate=false;
        }
    },
            },
            "DIY_bixiejian":{
                equipSkill:true,
                trigger:{
                    target:"useCardToTargeted",
                },
                direct:true,
                filter:function(event,player){
        return event.card.name=='sha';
    },
                content:function(){
        'step 0'
        player.logSkill('DIY_bixiejian');
        'step 1'
        player.chooseToUse(function(card,player,event){
            if(get.name(card)!='sha') return false;
            return lib.filter.filterCard.apply(this,arguments);
        },'è¾Ÿé‚ªï¼šå¯¹'+get.translation(trigger.player)+'ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ä»¤'+get.translation(trigger.card)+'å¯¹ä½ æ— æ•ˆï¼Œå¦åˆ™ä½ ä¸èƒ½å“åº”æ­¤ç‰Œã€‚').set('complexSelect',true).set('filterTarget',function(card,player,target){
            if(target!=_status.event.sourcex&&!ui.selected.targets.contains(_status.event.sourcex)) return false;
            return lib.filter.targetEnabled.apply(this,arguments);
        }).set('sourcex',trigger.player);
        'step 2'
        if(result.bool!=false){
            trigger.excluded.add(player);
        }
        else{
            trigger.directHit.add(player);
        }
    },
            },
            "DIY_qingmingjian":{
                equipSkill:true,
                trigger:{
                    player:"useCardToPlayered",
                },
                logTarget:"target",
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        return true;
    },
                content:function(){
        'step 0'
        var str='å¼ƒç½®ä¸€å¼ ç‰Œ';
        if(player.hp>0) str+='ï¼Œæˆ–ç‚¹ã€Œå–æ¶ˆã€å¤±å»ä¸€ç‚¹ä½“åŠ›å¹¶æ‘¸ä¸€å¼ ç‰Œ';
        str+='ï¼Œç„¶åä»¤'+get.translation(trigger.card)+'ä¸å¯å“åº”';
        var next=player.chooseToDiscard(str,'he',function(card){
            return _status.event.player.getEquip('DIY_qingmingjian')!=card;
        }).set('ai',function(card){
            return 7-get.value(card);
        });
        if(player.hp<=0) next.set('forced',true);
        'step 1'
        if(!result.bool){
            player.draw();
            player.loseHp();
        }
        'srep 2'
        trigger.directHit.addArray(game.filterPlayer(function(current){
            return current!=player;
        }));
    },
            },
            "DIY_bailijian":{
                equipSkill:true,
                trigger:{
                    global:"useCardAfter",
                },
                usable:1,
                filter:function(event,player){
        return get.tag(event.card,'damage')>0&&!event.player.getHistory('sourceDamage',function(evt){
            return evt.card==event.card;
        }).length&&event.cards.filterInD().length>0;
    },
                content:function(){
        player.gain(trigger.cards.filterInD(),'gain2');
    },
            },
            "DIY_quyu":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                direct:true,
                filter:function(event,player){
                    return !player.hasSkill('DIY_quyu_phase');
                },
                content:function(){
        'step 0'
        player.chooseButton(['é©±å¾¡ï¼šè¯·é€‰æ‹©è¦è£…å¤‡çš„å®å‰‘',[lib.skill.DIY_dili.derivation.map(function(i){
            return ['','',i];
        }),'vcard']]).set('filterButton',function(button){
            if(player.getEquip(1)) return button.link[2]!=player.getEquip(1).name;
            return true;
        }).set('ai',function(button){
            return Math.random();
        });
        'step 1'
        if(result.bool){
            var card=game.createCard(result.links[0][2],'spade',8);
            player.$gain2(card);
            player.equip(card);
            player.logSkill('DIY_quyu');
            player.addTempSkill('DIY_quyu_phase');
            game.delay();
        }
    },
                group:"DIY_quyu_use",
                ai:{
                    order:6,
                    result:{
                        player:1,
                    },
                },
                subSkill:{
                    use:{
                        trigger:{
                            player:"TLAoLogSkillAfter",
                        },
                        direct:true,
                        filter:function(event,player){
                    var skill = event.skill;
                    var info = get.info(skill);
                    if(!info)return false;
                    if(!info.equipSkill)return false;
                    return true;
                        },
                        content:function(){
        'step 0'
        player.chooseButton(['é©±å¾¡ï¼šè¯·é€‰æ‹©è¦è£…å¤‡çš„å®å‰‘',[lib.skill.DIY_dili.derivation.map(function(i){
            return ['','',i];
        }),'vcard']]).set('filterButton',function(button){
            if(player.getEquip(1)) return button.link[2]!=player.getEquip(1).name;
            return true;
        }).set('ai',function(button){
            if(trigger.skill=='DIY_bixiejian'&&button.link[2]=='DIY_baihongjian') return 1;
            if(trigger.skill=='DIY_baihongjian'&&button.link[2]=='DIY_liuxingjian') return 1;
            if(trigger.skill=='DIY_liuxingjian'&&button.link[2]=='DIY_qingmingjian') return 1;
            if(trigger.skill=='DIY_qingmingjian'&&button.link[2]=='DIY_zidianjian') return 1;
            return Math.random();
        });
        'step 1'
        if(result.bool){
            var card=game.createCard(result.links[0][2],'spade',8);
            player.$gain2(card);
            player.equip(card);
            player.logSkill('DIY_quyu');
            game.delay();
        }
            },
                        sub:true,
                    },
                    phase:{
                        sub:true,
                    },
                },
            },
            "DIY_qingxian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                direct:true,
                filter:function(event,player){
                    return !player.hasSkill('DIY_qingxian_phase');
                },
                content:function(){
        'step 0'
        var list=["DIY_qingxian_ji","DIY_qingxian_lie","DIY_qingxian_rou","DIY_qingxian_he","cancel2"];
        if(player.storage.DIY_qingxian) list.remove(player.storage.DIY_qingxian);
        player.chooseControl(list).set('prompt','æ¸…å¼¦ï¼šè¯·é€‰æ‹©è¦åˆ‡æ¢çš„éŸµè°±').set('ai',function(button){
            List=["DIY_qingxian_ji","DIY_qingxian_lie","DIY_qingxian_rou","DIY_qingxian_he"];
            if(player.storage.DIY_qingxian) List.remove(player.storage.DIY_qingxian);
            return List.randomGet();
        });
        'step 1'
        if(result.control!='cancel2'){
            if(player.storage.DIY_qingxian) player.removeSkill(player.storage.DIY_qingxian);
            game.delay();
            player.addSkill(result.control);
            player.storage.DIY_qingxian=result.control;
            player.logSkill('DIY_qingxian');
            game.log(player,"åˆ‡æ¢äº†<span style='font-family: yuanli'>æ¸…å¼¦éŸµè°±</span>");
            player.addTempSkill('DIY_qingxian_phase');
            player.addTempSkill('DIY_qingxian_used');
        }
    },
                derivation:["DIY_qingxian_ji","DIY_qingxian_lie","DIY_qingxian_rou","DIY_qingxian_he"],
                group:"DIY_qingxian_skill",
                subSkill:{
                    skill:{
                        audio:"DIY_qingxian",
                        trigger:{
                            player:["damageEnd","recoverEnd"],
                            global:"gameDrawAfter",
                        },
                        direct:true,
                        content:function(){
                            'step 0'
                            var list=["DIY_qingxian_ji","DIY_qingxian_lie","DIY_qingxian_rou","DIY_qingxian_he","cancel2"];
                            if(player.storage.DIY_qingxian) list.remove(player.storage.DIY_qingxian);
                            player.chooseControl(list).set('prompt','æ¸…å¼¦ï¼šè¯·é€‰æ‹©è¦åˆ‡æ¢çš„éŸµè°±').set('ai',function(button){
                                List=["DIY_qingxian_ji","DIY_qingxian_lie","DIY_qingxian_rou","DIY_qingxian_he"];
                                if(player.storage.DIY_qingxian) List.remove(player.storage.DIY_qingxian);
                                return List.randomGet();
                            });
                            'step 1'
                            if(result.control!='cancel2'){
                                if(player.storage.DIY_qingxian) player.removeSkill(player.storage.DIY_qingxian);
                                game.delay();
                                player.addSkill(result.control);
                                player.storage.DIY_qingxian=result.control;
                                player.logSkill('DIY_qingxian');
                                game.log(player,"åˆ‡æ¢äº†<span style='font-family: yuanli'>æ¸…å¼¦éŸµè°±</span>");
                                player.addTempSkill('DIY_qingxian_phase');
                                game.delay();
                            }
                        },
                        sub:true,
                    },
                    phase:{
                        trigger:{
                            global:"phaseEnd",
                        },
                        direct:true,
                        content:function(){
                            player.logSkill('DIY_qingxian');
                            player.useSkill(player.storage.DIY_qingxian);
                        },
                        sub:true,
                    },
                    used:{
                        sub:true,
                    },
                },
            },
            "DIY_qingxian_ji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                mark:true,
                nopop:true,
                intro:{
                    content:"info",
                },
                trigger:{
                    player:"damageEnd",
                },
                filter:function(event,player){
                return event.source&&event.source.isIn()&&event.source!=player;
            },
                direct:true,
                content:function(){
                'step 0'
                player.chooseTarget(get.prompt2('DIY_qingxian_ji'),function(card,player,target){
                    return target!=player;
                }).set('ai',function(target){
                    return -get.attitude(player,target)/(1+target.hp);
                });
                'step 1'
                if(result.bool){
                    var target=result.targets[0];
                    player.logSkill('DIY_qingxian_ji',target);
                    target.loseHp();
                    var card=get.cardPile(function(card){
                        return get.type(card)=='equip'&&target.canUse(card,target);
                    });
                    if(card){
                        target.chooseUseTarget(card,true,'nothrow','nopopup',true);
                    }
                }
            },
                ai:{
                    "maixie_defend":true,
                },
            },
            "DIY_qingxian_lie":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                mark:true,
                nopop:true,
                intro:{
                    content:"info",
                },
                trigger:{
                    player:"recoverEnd",
                },
                direct:true,
                content:function(){
                'step 0'
                player.chooseTarget(get.prompt2('DIY_qingxian_lie'),function(card,player,target){
                    return target!=player;
                }).set('ai',function(target){
                    return -get.attitude(player,target)/(1+target.hp);
                });
                'step 1'
                if(result.bool){
                    var target=result.targets[0];
                    player.logSkill('DIY_qingxian_lie',target);
                    target.loseHp();
                    var card=get.cardPile(function(card){
                        return get.type(card)=='equip'&&target.canUse(card,target);
                    });
                    if(card){
                        target.chooseUseTarget(card,true,'nothrow','nopopup',true);
                    }
                }
            },
                sub:true,
            },
            "DIY_qingxian_rou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                mark:true,
                nopop:true,
                intro:{
                    content:"info",
                },
                trigger:{
                    player:"damageEnd",
                },
                filter:function(event,player){
                return event.source&&event.source.isIn()&&event.source!=player;
            },
                direct:true,
                content:function(){
                'step 0'
                player.chooseTarget(get.prompt2('DIY_qingxian_rou'),function(card,player,target){
                    return target!=player;
                }).set('ai',function(target){
                    var att=get.attitude(_status.event.player,target);
                    if(target.isHealthy()&&target.countCards('he')){
                        return -att;
                    }
                    else{
                        return 10*att/(1+target.hp);
                    }
                });
                'step 1'
                if(result.bool){
                    var target=result.targets[0];
                    player.logSkill('DIY_qingxian_rou',target);
                    target.recover();
                    if(target.countCards('he',{type:'equip'})){
                        target.chooseToDiscard('he',true,'å¼ƒç½®ä¸€å¼ è£…å¤‡ç‰Œ',function(card){
                            return get.type(card)=='equip';
                        });
                    }
                }
            },
                ai:{
                    "maixie_defend":true,
                },
            },
            "DIY_qingxian_he":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                mark:true,
                nopop:true,
                intro:{
                    content:"info",
                },
                trigger:{
                    player:"recoverEnd",
                },
                direct:true,
                content:function(){
                'step 0'
                player.chooseTarget(get.prompt2('DIY_qingxian_he'),function(card,player,target){
                    return target!=player;
                }).set('ai',function(target){
                    var att=get.attitude(_status.event.player,target);
                    if(target.isHealthy()&&target.countCards('he')){
                        return -att;
                    }
                    else{
                        return 10*att/(1+target.hp);
                    }
                });
                'step 1'
                if(result.bool){
                    var target=result.targets[0];
                    player.logSkill('DIY_qingxian_he',target);
                    target.recover();
                    if(target.countCards('he',{type:'equip'})){
                        target.chooseToDiscard('he',true,'å¼ƒç½®ä¸€å¼ è£…å¤‡ç‰Œ',function(card){
                            return get.type(card)=='equip';
                        });
                    }
                }
            },
            },
            "DIY_xiangjian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                forced:true,
                direct:true,
                trigger:{
                    player:"phaseBefore",
                },
                content:function(){
                    'step 0'
                    game.countPlayer(function(current){
                        if(current.hasSkill("DIY_xiangjian_effect")){
                            current.removeSkill('DIY_xiangjian_effect');
                        }
                    });
                    var list=['basic','trick','equip'];
                    if(player.hasSkill('DIY_xiangjian_type')) list=player.storage.DIY_xiangjian_type;
                    if(list.length>1){
                        player.chooseControl(list,true).set('ai',function(){
                            return list[1];
                        }).set('prompt',get.prompt('DIY_xiangjian')).set('prompt2','å£°æ˜ä¸€ç§ç‰Œçš„ç±»å‹ï¼Œæœ¬å›åˆä½ çš„æ‰‹ç‰Œå‡è§†ä¸ºæ­¤ç±»å‹');
                    }
                    else event.goto(2);
                    'step 1'
                    if(result.control&&result.control!='cancel2'){
                        player.logSkill('DIY_xiangjian');
                        player.storage.DIY_xiangjian_type=result.control;
                        player.addTempSkill('DIY_xiangjian_type');
                        var str=get.translation(result.control)+'ç‰Œ';
                        game.log(player,'å£°æ˜äº†','#y'+str);
                        player.popup(str,'thunder');
                    }
                    'step 2'
                    player.chooseTarget(true,'é€‰æ‹©ä¸€åè§’è‰²ï¼Œå…¶æ— æ³•ä½¿ç”¨åŸºæœ¬ç‰ŒæŒ‡å®šç›®æ ‡ä¸”æ— æ³•æˆä¸ºåŸºæœ¬ç‰Œçš„ç›®æ ‡ç›´è‡³ä½ çš„ä¸‹å›åˆå¼€å§‹æ—¶').set('ai',function(target){
                        var att=get.attitude(_status.event.player,target);
                        if(target==_status.event.player) return 999;
                        return att;
                    });
                    'step 3'
                    if(result.bool){
                        player.line(result.targets,'green');
                        result.targets[0].addSkill('DIY_xiangjian_effect');
                    }
                },
                subSkill:{
                    type:{
                        onremove:true,
                        mark:true,
                        intro:{
                            content:"æœ¬å›åˆä½ çš„ç‰Œå‡è§†ä¸º$ç‰Œ",
                        },
                        direct:true,
                        trigger:{
                            player:"useCard2",
                        },
                        content:function(){
                            player.logSkill('DIY_xiangjian_audio');
                        },
                        mod:{
                            type:function(card,player,storgae){
                               return player.storage.DIY_xiangjian_type;
                           },
                        },
                        sub:true,
                    },
                    effect:{
                        mod:{
                            targetEnabled:function(card,player,target){
                               if(get.type(card,"trick",target)=='basic') return false;
                           },
                            playerEnabled:function(card,player,target){
                               if(player.hasSkill('DIY_xiangjian_type')){
                                   if(player.storage.DIY_xiangjian_type=='basic') return false;
                                   else return true;
                               }
                               if(get.type(card,"trick",target)=='basic') return false;
                           },
                        },
                        sub:true,
                    },
                },
            },
            "DIY_xiangjian_audio":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
            },
            "DIY_yicheng":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                enable:"phaseUse",
                filter:function(event,player){
                    return game.hasPlayer(function(target){
            return target.countCards('he')>0&&!target.hasSkill('DIY_yicheng_li');
        });
                },
                filterTarget:function(card,player,target){
            return target.countCards('he')>0&&!target.hasSkill('DIY_yicheng_li');
        },
                content:function(){
                    'step 0'
                    player.choosePlayerCard(target,'he',1,get.prompt('DIY_yicheng',target)).set('forceAuto',true).ai=get.buttonValue;
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_yicheng',target);
                        target.addToExpansion(result.cards,'giveAuto',target).gaintag.add('DIY_yicheng_li');
                        target.addSkill('DIY_yicheng_li');
                    }
                },
                group:"DIY_yicheng_effect",
                ai:{
                    order:12,
                    result:{
                        target:function(player,target){
                            return get.attitude(_status.event.player,target);
                        },
                    },
                },
                subSkill:{
                    li:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        marktext:"ç¯±",
                        intro:{
                            name:"ç¯±",
                            markcount:"expansion",
                            mark:function(dialog,storage,player){
                                var cards=player.getExpansions('DIY_yicheng_li');
                                if(player.isUnderControl(true)) dialog.addAuto(cards);
                                else return 'å…±æœ‰'+get.cnNumber(cards.length)+'å¼ ç‰Œ';
                            },
                            sub:true,
                        },
                        sub:true,
                    },
                    effect:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                        trigger:{
                            global:"useCardToTargeted",
                        },
                        direct:true,
                        filter:function(event,player){
                            return get.type(event.card)!='equip'&&event.target.hasSkill('DIY_yicheng_li');
                        },
                        content:function(){
                            'step 0'
                            var list=get.typeCard("equip2");
                            list.remove('feichu_equip2');
                            player.chooseButton([get.prompt('DIY_yicheng'),'ä»¤'+get.translation(trigger.target)+'å°†â€œç¯±â€å¼ƒç½®å¹¶è§†ä¸ºä½¿ç”¨ä¸€å¼ ä½ æŒ‡å®šçš„é˜²å…·ç‰Œ',[list,'vcard']]).set('ai',function(button){
                                if(get.attitude(player,trigger.target)>=0){
                                    if(trigger.card.name=='sha'){
                                        if(button.link[2]=='qimengbagua') return 1000;
                                        if(get.color(trigger.card)=='black'&&button.link[2]=='renwang'){
                                            return 999;
                                        }
                                        else{
                                            if(get.color(trigger.card)=='red'&&trigger.card.nature!='fire'&&button.link[2]=='tengjia'){
                                                return 998;
                                            }
                                            else{
                                                if(button.link[2]=='bagua') return 997;
                                            }
                                        }
                                    }
                                    else{
                                        if(trigger.card.name=='nanman'||trigger.card.name=='wanjian'){
                                            if(button.link[2]=='tengjia') return 1000;
                                            else if(button.link[2]='heiguangkai') return 999;
                                        }
                                        return -1;
                                    }
                                }
                                else{
                                    if(trigger.card.name=='sha'&&trigger.card.nature=='fire'){
                                        if(button.link[2]=='tengjia') return 999;
                                    }
                                    else{
                                        if(trigger.card.name=='sha'&&button.link[2]=='serafuku') return 998;
                                        if(button.link[2]=='yingfengyi') return 997;
                                    }
                                }
                                return -1;
                            });
                            'step 1'
                            if(result.bool){
                                player.logSkill('DIY_yicheng_effect',trigger.target);
                                var cards=trigger.target.getExpansions('DIY_yicheng_li');
                                var card=game.createCard(result.links[0][2],cards[0].suit,cards[0].number);
                                trigger.target.loseToDiscardpile(cards);
                                trigger.target.removeSkill('DIY_yicheng_li');
                                trigger.target.$gain2(card);
                                trigger.target.equip(card);
                                trigger.target.storage.DIY_yicheng_li=card;
                                trigger.target.storage.DIY_yicheng_discard=trigger.card;
                                trigger.target.addSkill('DIY_yicheng_discard');
                                game.delay();
                            }
                        },
                        sub:true,
                    },
                    discard:{
                        trigger:{
                            global:"useCardAfter",
                        },
                        direct:true,
                        filter:function(event,player){
                            return event.card&&event.card==player.storage.DIY_yicheng_discard;
                        },
                        content:function(){
                            if(player.storage.DIY_yicheng_li){
                                if(player.getCards('he').contains(player.storage.DIY_yicheng_li)){
                                    game.log(player,'çš„',player.storage.DIY_yicheng_li,'å·²é”€æ¯');
                                    game.cardsGotoSpecial(player.storage.DIY_yicheng_li);
                                }
                            }
                        },
                        sub:true,
                    },
                },
            },
            "DIY_weijiang":{
                derivation:"DIY_gongjijuli",
                init:function(player){
        player.storage.DIY_weijiang1=2;
        player.storage.DIY_weijiang2=4;
    },
                mod:{
                    targetInRange:function(card,player,target,storage){
            if(card.name=='sha'){
                if(get.distance(player,target)==player.storage.DIY_weijiang1||get.distance(player,target)==player.storage.DIY_weijiang2) return true;
                else return false;
            }
        },
                },
                shaRelated:true,
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardToPlayered",
                },
                direct:true,
                forced:true,
                logTarget:"target",
                filter:function(event,player){
        if(event.card.name!='sha') return false;
        if(event.card.DIY_weijiang) return false;
        return event.targets.length==1;
    },
                content:function(){
        'step 0'
        var num=game.countPlayer(function(current){
            return !trigger.targets.contains(current)&&(get.distance(player,current)==player.storage.DIY_weijiang1||get.distance(player,current)==player.storage.DIY_weijiang2)&&get.distance(player,current)==get.distance(player,trigger.targets[0]);
        });
        if(num==0) event.goto(3);
        'step 1'
        player.chooseTarget(get.prompt('DIY_weijiang'),'ä¸º'+get.translation(trigger.card)+'å¢åŠ ä¸€ä¸ªç›®æ ‡',true,function(card,player,target){
            return !_status.event.sourcex.contains(target)&&(get.distance(player,target)==player.storage.DIY_weijiang1||get.distance(player,target)==player.storage.DIY_weijiang2)&&get.distance(player,target)==get.distance(player,_status.event.sourcex[0]);
        }).set('sourcex',trigger.targets).set('ai',function(target){
            var player=_status.event.player;
            return get.effect(target,_status.event.card,player,player);
        }).set('card',trigger.card).setHiddenSkill(event.name);
        'step 2'
        if(result.bool){
            if(!event.isMine()&&!event.isOnline()) game.delayx();
            player.logSkill('DIY_weijiang',result.targets[0]);
            trigger.targets.push(result.targets[0]);
            event.finish();
        }
        'step 3'
        player.logSkill('DIY_weijiang',trigger.targets);
        player.addTempSkill('DIY_weijiang_2','phaseUseAfter');
        player.storage.DIY_weijiang_2=trigger.card;
    },
                subSkill:{
                    "2":{
                        trigger:{
                            player:"useCardAfter",
                        },
                        forced:true,
                        charlotte:true,
                        popup:false,
                        lastDo:true,
                        filter:function(event,player){
                            if(!event.targets.length) return false;
                            return event.card==player.storage.DIY_weijiang_2;
                        },
                        content:function(){
                            player.removeSkill('DIY_weijiang_2');
                            var card=game.createCard(trigger.card.name,trigger.card.suit,trigger.card.number,trigger.card.nature);
                            player.useCard(card,(trigger._targets||trigger.targets).slice(0)).card.DIY_weijiang=true;
                        },
                        onremove:function(player){
                            delete player.storage.DIY_weijiang_2;
                        },
                        sub:true,
                    },
                },
            },
            "DIY_gongjijuli":{
				nobracket:true,
            },
            "DIY_qili":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                init:function(player){
        player.storage.DIY_qili1=0;
        player.storage.DIY_qili2=0;
    },
                mod:{
                    globalFrom:function(from,to,distance){
            return distance+from.storage.DIY_qili1-from.storage.DIY_qili2;
        },
                    globalTo:function(from,to,distance){
            return distance+to.storage.DIY_qili1-to.storage.DIY_qili2;
        },
                },
                mark:true,
                intro:{
                    markcount:function(storage,player){
            return player.getHistory('useCard').length+player.getHistory('respond').length;
        },
                    content:function(storage,player){
            str='';
            if((player.storage.DIY_weijiang1&&player.storage.DIY_weijiang2)||player.storage.DIY_weijiang1==0||player.storage.DIY_weijiang2==0){
                str+='æ”»å‡»è·ç¦»ï¼š'+get.translation(player.storage.DIY_weijiang1)+'/'+get.translation(player.storage.DIY_weijiang2)+'<br>';
            }
            var num=player.storage.DIY_qili1-player.storage.DIY_qili2;
            if(num>0){
                str+='ä½ å‚ä¸è®¡ç®—çš„è·ç¦»+'+get.translation(num)+'';
            }
            else{
                str+='ä½ å‚ä¸è®¡ç®—çš„è·ç¦»-'+get.translation(-num)+'';
            }
            return str;
        },
                },
                trigger:{
                    player:["useCard","respond"],
                },
                direct:true,
                filter:function(event,player){
                    return player.getHistory('useCard').length+player.getHistory('respond').length==player.storage.DIY_weijiang1||player.getHistory('useCard').length+player.getHistory('respond').length==player.storage.DIY_weijiang2;
                },
                content:function(){
                    'step 0'
                    var list=['æ‘¸ä¸€å¼ ç‰Œå¹¶ä»¤ã€–å¨å¼œã€—ä¸­çš„æ•°å­—-1','å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤ã€–å¨å¼œã€—ä¸­çš„æ•°å­—+1','æ‘¸ä¸€å¼ ç‰Œå¹¶ä»¤ä½ å‚ä¸è®¡ç®—çš„è·ç¦»+1','å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤ä½ å‚ä¸è®¡ç®—çš„è·ç¦»-1'];
                    if(!player.countCards('he')){
                        list.remove('å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤ã€–å¨å¼œã€—ä¸­çš„æ•°å­—+1');
                        list.remove('å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤ä½ å‚ä¸è®¡ç®—çš„è·ç¦»-1');
                    }
                    player.chooseControl('cancel2').set('choiceList',list).set('ai',function(){
                         return list.randomGet();
                    }).set('prompt',get.prompt2('DIY_qili'));
                    'step 1'
                    if(result.control!='cancel2'){
                        switch(result.index){
                            case 0:
                                player.draw();
                                if(player.storage.DIY_weijiang1&&player.storage.DIY_weijiang1>0){
                                    player.storage.DIY_weijiang1--;
                                }
                                if(player.storage.DIY_weijiang2&&player.storage.DIY_weijiang2>0){
                                    player.storage.DIY_weijiang2--;
                                }
                                break;
                            case 1:
                                player.chooseToDiscard('he',true);
                                if(player.storage.DIY_weijiang1||player.storage.DIY_weijiang1==0){
                                    player.storage.DIY_weijiang1++;
                                }
                                if(player.storage.DIY_weijiang2||player.storage.DIY_weijiang2==0){
                                    player.storage.DIY_weijiang2++;
                                }
                                break;
                            case 2:
                                player.draw();
                                player.storage.DIY_qili1++;
                                break;
                            case 3:
                                player.chooseToDiscard('he',true);
                                player.storage.DIY_qili2++;
                                break;
                        }
                        player.logSkill('DIY_qili');
                    }
                },
            },
            "DIY_jinglve":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                direct:true,
                enable:"phaseUse",
                filter:function(event,player){
                    return game.hasPlayer(function(current){
                        return current.countCards('h')>0&&!current.hasSkill('DIY_jinglve_choose');
                    });
                },
                line:false,
                init:function(player){
                    player.storage.DIY_jinglve=[];
                },
                filterTarget:function(card,player,target){
                    if(target.countCards('h')==0||target.hasSkill('DIY_jinglve_choose')) return false;
                    var hs=target.getCards('h');
                    for(var i=0;i<hs.length;i++){
                      if(!player.getStorage('DIY_jinglve').contains(hs[i])) return true;
                    }
                    return false;
                },
                content:function(){
                    'step 0'
                    player.chooseButton(['é€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºã€Œæ­»å£«ã€',target.getCards('h')],true).set('filterButton',function(button){
            if(player.getStorage('DIY_jinglve').contains(button.link)) return false;
            return true;
        }).set('ai',function(button){
                        var target=_status.event.getParent().target;
                        var card=button.link;
                        var val=target.getUseValue(card);
                        if(val>0) return val;
                        return get.value(card);
                    });
                    'step 1'
                    if(result.bool){
                        var card=result.links[0];
                        target.addTempSkill('DIY_jinglve_choose','phaseUseAfter');
                        player.storage.DIY_jinglve.add(result.links[0]);
                        player.markSkill('DIY_jinglve');
                    }
                },
                mark:true,
                intro:{
                    name:"æ­»å£«",
                    mark:function(dialog,content,player){
            if(player!=game.me) return '';
            storage=player.storage.DIY_jinglve;
            if(!storage.length) return '';
            dialog.addText(get.cnNumber(player.getStorage('DIY_jinglve').length));
            dialog.addAuto(player.storage.DIY_jinglve);
        },
                    markcount:function(dialog,storage,player){
            if(player!=game.me) return '';
            storage=player.storage.DIY_jinglve;
            if(!storage.length) return '';
            var num=get.translation(storage.length);
            return num;
        },
                },
                group:"DIY_jinglve_effect",
                subSkill:{
                    effect:{
                        audio:"DIY_jinglve",
                        trigger:{
                            target:"useCardToTargeted",
                        },
                        prompt:function(event,player){
                            return 'æ˜¯å¦å–æ¶ˆ'+get.translation(event.cards)+'çš„æ‰€æœ‰ç›®æ ‡å¹¶è·å¾—æ­¤ç‰Œ';
                        },
                        filter:function(event,player){
                            if(event.player==player) return false;
                            var cards=event.cards;
                            for(i=0;i<cards.length;i++){
                                if(player.getStorage('DIY_jinglve').contains(cards[i])) return true;
                            }
                            return false;
                        },
                        content:function(){
                            'step 0'
                            trigger.all_excluded=true;
                            trigger.targets.length=0;
                            'step 1'
                            player.gain(trigger.cards,'gain2').gaintag.add('æ­»å£«');
                            'step 2'
                            trigger.target.chooseUseTarget(trigger.cards);
                            'step 3'
                            player.removeGaintag('æ­»å£«');
                        },
                        sub:true,
                    },
                    choose:{
                        sub:true,
                    },
                },
                ai:{
                    order:12,
                    result:{
                        target:function(player,target){
                            return get.attitude(_status.event.player,target);
                        },
                    },
                },
            },
            "DIY_chebian":{
                mark:true,
                intro:{
                    content:"limited",
                },
                init:function(player,skill){
                    player.storage[skill]=false;
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                limited:true,
                skillAnimation:true,
                animationColor:"thunder",
                filter:function(event,player){
                    return player.storage.DIY_jinglve.length;
                },
                content:function(){
                    'step 0'
                    player.awakenSkill('DIY_chebian');
                    player.changeGroup("jin");
                    player.node.avatar.setBackgroundImage('extension/å¤©ç‰¢ä»¤/JX_simashi_jin.jpg');
                    player.gainMaxHp();
                    event.cards=player.getStorage('DIY_jinglve');
                    player.showCards(event.cards);
                    'step 1'
                    player.recover(player.maxHp-player.hp);
                    player.gain(event.cards,'gain2').gaintag.add('æ­»å£«');
                    for(var i=0;i<event.cards.length;i++){
                        player.chooseUseTarget(event.cards[i],'nodistance');
                    }
                    'step 2'
                    player.storage.DIY_jinglve=[];
                    player.removeGaintag('æ­»å£«');
                },
            },
            "DIY_longyin":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                shaRelated:true,
                trigger:{
                    global:"useCard",
                },
                direct:true,
                filter:function(event,player){
                    return event.card.name=='sha'&&player.countCards('he')>0&&event.player.isPhaseUsing();
                },
                content:function(){
                    'step 0'
                    game.delayx();
                    var go=false;
                    if(get.attitude(player,trigger.player)>0){
                        go=true;
                        if(trigger.addCount===false||!trigger.player.isPhaseUsing()) go=false;
                    }
                    var next=player.chooseToDiscard(get.prompt('DIY_longyin'),'å¼ƒç½®ä¸€å¼ ç‰Œï¼Œä»¤'+get.translation(trigger.player)+'æœ¬æ¬¡ä½¿ç”¨çš„ã€æ€ã€‘ä¸è®¡å…¥ä½¿ç”¨æ¬¡æ•°','he');
                    next.logSkill=['DIY_longyin',trigger.player];
                    next.set('ai',function(card){
                        if(_status.event.go){
                            if(get.color(card)=='red') return 9-get.value(card);
                            return 6-get.value(card);
                        }
                        return 0;
                    });
                    next.set('go',go);
                    'step 1'
                    if(result.bool){
                        if(trigger.addCount!==false){
                            trigger.addCount=false;
                            trigger.player.getStat().card.sha--;
                        }
                        if(get.color(trigger.card)=='red'||get.color(result.cards[0])=='red'){
                            if(player!=trigger.player){
                                player.gain(trigger.cards,'gain2');
                                trigger.player.gain(result.cards[0],'gain2');
                            }
                            else{
                                event.cards=[trigger.cards[0],result.cards[0]];
                                player.chooseCardButton(event.cards,'é¾™åŸï¼šè¯·é€‰æ‹©è¦è·å¾—çš„ç‰Œ',true);
                            }
                        }
                        else{
                            event.finish();
                        }
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(result.bool){
                        player.gain(result.links[0],'gain2');
                    }
                },
                ai:{
                    expose:0.2,
                },
            },
            "DIY_guanwei":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseDiscardAfter",
                },
                filter:function (event,player){
                    if(!player.countCards('he')) return false;
                    for(var i=0;i<game.players.length;i++){
                        var history=game.players[i].getHistory('useCard').concat(game.players[i].getHistory('respond'));
                        if(history.length<2) return false;
                        var num=0;
                        var color=false;
                        for(var i=0;i<history.length;i++){
                            var color2=get.color(history[i].card);
                            if(!color2) continue;
                            if(color&&color!=color2) return false;
                            color=color2;
                            num++;
                        }
                        if(num>1) return true;
                    }
                    return false;
                },
                direct:true,
                content:function(){
            'step 0'
        player.chooseCardTarget({
            filterCard:true,
            filterTarget:function(card,player,target){
                var history=target.getHistory('useCard').concat(target.getHistory('respond'));
                var num=0;
                var color=false;
                for(var i=0;i<history.length;i++){
                    var color2=get.color(history[i].card);
                    if(!color2) continue;
                    if(color&&color!=color2) return false;
                    color=color2;
                    num++;
                }
                if(num>1) return true;
            },
            position:'he',
            prompt:get.prompt2('DIY_guanwei'),
            ai1:function(card){
                return 7-get.value(card);
            },
            ai2:function(target){
                return get.attitude(player,target);
            },
        });
            'step 1'
        if(result.bool){
            player.discard(result.cards);
            event.target=result.targets[0];
            player.logSkill('DIY_guanwei',result.targets[0]);
            player.line(result.targets[0],'green');
            result.targets[0].draw(2);
        }
        else{
            event.finish();
        }
            'step 2'
        var next=event.target.phaseUse();
        event.next.remove(next);
        trigger.getParent('phase').next.push(next);
                },
                group:'DIY_guanwei_ai',
                subSkill:{
                    ai:{
                        mod:{
                            aiOrder:function(player,card,num){
                                if(typeof card=='object'&&player==_status.currentPhase){
                                    var evt=lib.skill.DIY_guanwei_ai.getLastUsed(player);
                                    if(evt&&evt.card&&get.color(evt.card)!='none'&&get.color(evt.card)==get.color(card)){
                                        return num+10;
                                    }
                                }
                            },
                        },
                        getLastUsed:function(player,event){
                            var history=player.getHistory('useCard');
                            var index;
                            if(event) index=history.indexOf(event)-1;
                            else index=history.length-2;
                            if(index>=0) return history[index];
                            return false;
                        },
                        sub:true,
                    },
                },
            },
            "DIY_gongqing":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["damageBegin3","damageBegin4"],
                },
                forced:true,
                filter:function (event,player,name){
                    if(!event.source) return false;
                    if(name=='damageBegin3') return event.source.countCards('h')<player.countCards('h');
                    return event.num>0&&event.source.countCards('h')>player.countCards('h');
                },
                preHidden:true,
                content:function (){
                    trigger.num=event.triggername=='damageBegin4'?trigger.num-1:trigger.num+1;
                },
                ai:{
                    filterDamage:true,
                    skillTagFilter:function(player,tag,arg){
                        if(arg&&arg.player){
                            if(arg.player.hasSkillTag('jueqing',false,player)) return false;
                            if(arg.player.countCards('h')>player.countCards('h')) return true;
                        }
                        return false;
                    },
                },
            },
            "DIY_jianxiong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"damage",
                },
                direct:true,
                init:function(player){
		if(!lib.config.compatiblemode) lib.config.compatiblemode=true;
        player.storage.DIY_jianxiong=[];
        player.storage.DIY_jianxiong_characters=[];
        player.storage.DIY_jianxiong_ai=[];
                },
                intro:{
                    content:"å·²è®°å½•æŠ€èƒ½ï¼š$",
                },
                content:function(){
                    'step 0'
                    player.chooseTarget(get.prompt2('DIY_jianxiong'),lib.filter.notMe,function(card,player,target){
                        var skills=target.getSkills();
                        var list=[];
                        for(var i=0;i<skills.length;i++){
                            var label=get.info(skills[i]);
                            var name=lib.translate[skills[i]];
                            var info=lib.translate[skills[i]+'_info'];
                            if(!info) continue;
                            if(!name) continue;
                            if(name=='é…’') continue;
                            if(label.equipSkill) continue;
                            if(label.enable) continue;
                            if(!label.content) continue;
                            if(player.getStorage('DIY_jianxiong').contains(skills[i])) continue;
                            list.push(skills[i]);
                        }
                        return list.length;
                    }).set('ai',function(target){
                        var skills=target.getSkills();
                        var list=[];
                        for(var i=0;i<skills.length;i++){
                            var info = get.info(skills[i]);
                            if(info.enable) continue;
                            if(!info.content) continue;
                            if(player.getStorage('DIY_jianxiong').contains(skills[i])) continue;
                        }
                        if(!list.length){
                            if(!player.storage.DIY_jianxiong_characters.contains(target)){
                                return Math.random();
                            }
                            else{
                                return -1;
                            }
                        }
                        if(!player.storage.DIY_jianxiong_characters.contains(target)) return 0.5+Math.random();
                        return 1+Math.random();
                    });
                    'step 1'
                    if(result.bool){
                        event.target=result.targets[0];
                        player.logSkill('DIY_jianxiong',event.target);
                        player.storage.DIY_jianxiong_characters.push(event.target);
                        var skills=event.target.getSkills();
                        var list=[];
                        for(var i=0;i<skills.length;i++){
                            var label=get.info(skills[i]);
                            var name=lib.translate[skills[i]];
                            var info=lib.translate[skills[i]+'_info'];
                            if(!info) continue;
                            if(!name) continue;
                            if(name=='é…’') continue;
                            if(label.equipSkill) continue;
                            if(label.enable) continue;
                            if(!label.content) continue;
                            if(player.getStorage('DIY_jianxiong').contains(skills[i])) continue;
                            list.push(skills[i]);
                        }
                        if(list.length){
                            player.chooseControl(list).set('dialog',[get.prompt('DIY_jianxiong'),'<div class="text center">è¯·é€‰æ‹©è¦è®°å½•çš„æŠ€èƒ½</div>']).set('ai',function(){
                                return 0;
                            });
                        }
                        else{
                            event.finish();
                        }
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    player.markAuto('DIY_jianxiong',[result.control]);
					game.log(player,'è®°å½•äº†','#gã€'+get.translation(result.control)+'ã€‘');
                },
                group:"DIY_jianxiong_damage",
                subSkill:{
                    damage:{
                        trigger:{
                            global:"damageEnd",
                        },
                        direct:true,
                        filter:function(event,player,name){
                            if(player.storage.DIY_jianxiong.length==0) return false;
                            if(event.player==player) return true;
                            return player.storage.DIY_jianxiong_characters.contains(event.player);
                        },
                        content:function(){
                            'step 0'
                            event.num=trigger.num;
                            'step 1'
                            var skills=player.getStorage('DIY_jianxiong');
                            player.chooseControl(skills,'cancel').set('dialog',[get.prompt('DIY_jianxiong'),'<div class="text center">è¯·é€‰æ‹©è¦å‘åŠ¨çš„æŠ€èƒ½</div>']).set('ai',function(){
                                for(i in skills){
                                    if(player.storage.DIY_jianxiong_ai.contains(i)) return 0.5+Math.random();
                                }
                                return skills.randomGet();
                            });
                            'step 2'
                            event.skill=result.control;
                            player.logSkill('DIY_jianxiong');
                            player.useSkill(result.control);
                            'step 3'
                            if(result.bool){
                                player.storage.DIY_jianxiong_ai.push(result.control);
                            }
                            event.num--;
                            'step 4'
                            if(event.num>0) event.goto(1);
                        },
                        sub:true,
                    },
                },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                },
            },
            "DIY_yingzi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseDrawBegin1",
                },
                filter:function(event,player){
                    return !event.numFixed;
                },
                frequent:true,
                content:function(){
                    'step 0'
                    trigger.changeToZero();
                    game.countPlayer(function(current){
                        if(current.hasSkill('DIY_yingzi_effect')){
                            current.removeSkill('DIY_yingzi_effect');
                        }
                    });
                    event.cards=get.cards(3);
                    game.cardsGotoOrdering(event.cards);
                    player.showCards(event.cards,'è‹±å§¿');
                    player.chooseCardButton(event.cards,'è‹±å§¿ï¼šè¯·é€‰æ‹©è¦äº¤ç»™ä¸€åè§’è‰²çš„ç‰Œ',true);
                    'step 1'
                    if(result.bool){
                        event.card=result.links[0];
                        event.cards.remove(event.card);
                    }
                    player.chooseTarget(get.prompt('DIY_yingzi'),true,'é€‰æ‹©ä¸€åè§’è‰²é€å‡º'+get.translation(event.card)).set('ai',function(target){
                        var att=get.attitude(_status.event.player,target);
                        if(_status.event.neg) return -att;
                        return att;
                    }).set('neg',get.value(event.card,player,'raw')<0);
                    'step 2'
                    if(result.bool){
                        player.line(result.targets,'green');
                        result.targets[0].gain(event.card,'gain2');
                        result.targets[0].addSkill('DIY_yingzi_effect');
                        player.gain(event.cards,'gain2');
                        player.addSkill('DIY_yingzi_effect');
                    }
                },
                subSkill:{
                    effect:{
                        direct:true,
                        mod:{
                            maxHandcardBase:function(player,num){
                                return player.maxHp;
                            },
                        },
                        intro:{
                            content:"ä½ å¾ˆå¸…",
                        },
                        charlotte:true,
                        forced:true,
                        trigger:{
                            player:"drawBegin",
                        },
                        content:function(){
                            trigger.num++;
                            game.countPlayer(function(current){
                                if(current.hasSkill("DIY_yingzi")){
                                    current.line(player,'yellow');
                                    current.logSkill('DIY_yingzi',player);
                                }
                            });
                        },
                        sub:true,
                    },
                },
            },
            "DIY_fanjian":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                filter:function(event,player){
                    return player.countCards('h')>0;
                },
                filterTarget:function(card,player,target){
                    return player!=target;
                },
                position:"he",
                filterCard:true,
                check:function(card){
                    return 8-get.value(card);
                },
                discard:false,
                lose:false,
                delay:false,
                content:function(){
                    target.gain(cards[0],player,'give');
                },
                group:"DIY_fanjian_effect",
                subSkill:{
                    effect:{
                        trigger:{
                            source:"gainAfter",
                        },
                        direct:true,
                        forced:true,
                        filter:function(event,player){
                            if(player==event.player) return false;
                            var evt=event.getl(player);
                            return evt&&evt.cards2&&evt.cards2.length>0;
                        },
                        logTarget:"player",
                        content:function(){
                            'step 0'
                            event.num=0;
                            'step 1'
                            trigger.player.storage.DIY_fanjian=trigger.cards[event.num];
                            player.logSkill('DIY_fanjian',trigger.player);
                            'step 2'
                            var suit=get.suit(trigger.player.storage.DIY_fanjian);
                            if(!trigger.player.countCards('h')) event._result={control:'refanjian_hp'};
                            else trigger.player.chooseControl('refanjian_card','refanjian_hp').ai=function(event,player){
                                var cards=player.getCards('he',{suit:get.suit(player.storage.DIY_fanjian)});
                                if(cards.length==1) return 0;
                                if(cards.length>=2){
                                    for(var i=0;i<cards.length;i++){
                                        if(get.tag(cards[i],'save')) return 1;
                                    }
                                }
                                if(player.hp==1) return 0;
                                for(var i=0;i<cards.length;i++){
                                    if(get.value(cards[i])>=8) return 1;
                                }
                                if(cards.length>2&&player.hp>2) return 1;
                                if(cards.length>3) return 1;
                                return 0;
                            }
                            'step 3'
                            if(result.control=='refanjian_card'){
                                trigger.player.showHandcards();
                            }
                            else{
                                trigger.player.loseHp();
                                event.goto(5);
                            }
                            'step 4'
                            var suit=get.suit(trigger.player.storage.DIY_fanjian);
                            trigger.player.discard(trigger.player.getCards('he',function(i){
                                return get.suit(i)==suit&&lib.filter.cardDiscardable(i,trigger.player,'DIY_fanjian');
                            }));
                            'step 5'
                            delete trigger.player.storage.DIY_fanjian;
                            event.num++;
                            'step 6'
                            if(event.num<trigger.cards.length) event.goto(1);
                        },
                        sub:true,
                    },
                },
            },
            "DIY_duanfa":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:["chooseToUse","chooseToRespond"],
                init:function(player){
        player.storage.DIY_duanfa=0;
    },
                filter:function(event,player){
        if(!player.countCards('he',{color:'black'})&&!player.countCards('h',{name:'sha'})) return false;
        return player.storage.DIY_duanfa<player.maxHp&&(event.filterCard({name:'sha'},player,event)||event.filterCard({name:'shan'},player,event));
    },
                chooseButton:{
                    dialog:function(event,player){
            var list=[];for(var i of lib.inpile){
            if(get.type(i)!='basic') continue;
            if(i!='sha'&&i!='shan') continue;
            var card={name:i,isCard:true};
            if(event.filterCard(card,player,event)) list.push(['','',i]);
            if(i=='sha'){
                for(var j of lib.inpile_nature){
                    card.nature=j;
                    if(event.filterCard(card,player,event)) list.push(['','',i,j]);
                }
            }
        }
            return ui.create.dialog('æ–­å‘',[list,'vcard'],'hidden');
        },
                    check:function(button){
            var player=_status.event.player;
            var card={name:button.link[2],nature:button.link[3]};
            if(card.name=='sha'){
                var eff=player.getUseValue(card);
                if(eff>0) return 2.9+eff/10;
                return 0;
            }
            else if(card.name=='shan'){
                return 4;
            }
            return 0;
        },
                    backup:function(links,player){
            return {
                filterCard:function(){return false},
                viewAs:{
                    name:links[0][2],
                    nature:links[0][3],
                    isCard:true,
                },
                selectCard:-1,
                popname:true,
                log:false,
                precontent:function(result,player){
                    'step 0'
                    var str='å¼ƒç½®ä¸€å¼ é»‘è‰²ç‰Œæˆ–ã€æ€ã€‘';
                    player.chooseToDiscard(true,get.prompt('DIY_duanfa'),str,'he',function(card){
                        return get.color(card)=='black'||card.name=='sha';
                    }).set('ai',function(card){
                        return 7-get.value(card);
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_duanfa');
                        player.storage.DIY_duanfa++;
                        delete event.result.skill;
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    game.delayx();
                },
            }
        },
                    prompt:function(links,player){
            return 'é€‰æ‹©ã€'+get.translation(links[0][3]||'')+get.translation(links[0][2])+'ã€‘çš„ç›®æ ‡';
        },
                },
                ai:{
                    order:function(){
            var player=_status.event.player;
            var event=_status.event;
            var nh=player.countCards('h');
            if(event.filterCard({name:'shan'},player,event)){
                return 4;
            }
            if(event.filterCard({name:'sha'},player,event)){
                return 4;
            }
            return 0;
        },
                    save:true,
                    respondSha:true,
                    respondShan:true,
                    skillTagFilter:function(player,tag,arg){
                if(!player.countCards('he',{color:'black'})&&!player.countCards('h',{name:'sha'})) return false;
                return true;
        },
                    result:{
                        player:1,
                    },
                },
                group:"DIY_duanfa_clear",
                subSkill:{
                    clear:{
                        trigger:{
                            global:"phaseEnd",
                        },
                        direct:true,
                        content:function(){
                            player.storage.DIY_duanfa=0;
                        },
                        sub:true,
                    },
                },
            },
            "DIY_youdi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"phaseJieshuBegin",
                },
                direct:true,
                filter:function (event,player){
        return player.countCards('h')>0;
    },
                content:function (){
        "step 0"
        player.chooseTarget(get.prompt('DIY_youdi'),'ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®ä½ ä¸€å¼ ç‰Œ',function(card,player,target){
            return player!=target;
        }).set('ai',function(target){
            var player=_status.event.player;
            if(player.countCards('h','sha')>player.countCards('h')/3&&player.countCards('h',{color:'red'})>player.countCards('h')/2) return 0;
            return -get.attitude(_status.event.player,target);
        });
        "step 1"
        if(result.bool){
            game.delay();
            player.logSkill('DIY_youdi',result.targets);
            result.targets[0].discardPlayerCard(player,'h',true);
        }
        else{
            event.finish();
        }
    },
                group:'DIY_youdi_effect',
                subSkill:{
                    effect:{
                        trigger:{
                            player:"loseAfter",
                        },
                        direct:true,
                        filter:function(event,player){
                            if(event.type!='discard') return false;
                            for(var i=0;i<event.cards2.length;i++){
                                if((get.color(event.cards2[i],player)!='black'||event.cards2[i].name!='sha')&&get.position(event.cards2[i])=='d'){
                                    return true;
                                }
                            }
                        return false;
                        },
                        content:function(){
                            'step 0'
                            event.num=0;
                            var cards=[];
                            for(var i=0;i<trigger.cards2.length;i++){
                                if((get.color(trigger.cards2[i],player)!='black'||trigger.cards2[i].name!='sha')&&get.position(trigger.cards2[i])=='d'){
                                    cards.push(trigger.cards2[i]);
                                }
                            }
                            if(!cards.length){
                                event.finish();
                            }
                            else{
                                event.cards=cards;
                            }
                            'step 1'
                            player.logSkill('DIY_youdi');
                            if(get.color(event.cards[event.num])!='black') player.draw();
                            'step 2'
                            if(event.cards[event.num].name!='sha'){
                                player.chooseTarget(get.prompt('DIY_youdi'),'è·å¾—ä¸€åå…¶ä»–è§’è‰²ä¸€å¼ ç‰Œ',function(card,player,target){
                                    return player!=target&&target.countCards('he')>0;
                                }).set('ai',function(target){
                                    if(target.countCards('he')==0) return 0.1;
                                    return -get.attitude(_status.event.player,target);
                                });
                            }
                            else{
                                event.goto(4);
                            }
                            'step 3'
                            if(result.bool){
                                player.gainPlayerCard('he',result.targets[0],true);
                            }
                            'step 4'
                            event.num++;
                            'step 5'
                            if(event.num<event.cards.length) event.goto(1);
                        },
                        sub:true,
                    },
                },
                ai:{
                    expose:0.3,
                    threaten:1.4,
                },
            },
            "DIY_yili":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                direct:true,
                filter:function(event,player){
                    var list=[];
                    game.getGlobalHistory('cardMove',function(evt){
                        if(evt.name=='lose'){
                            if(evt.position==ui.discardPile){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                        else{
                            if(evt.name=='cardsDiscard'){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                    });
                    return list.length&&!player.hasSkill('DIY_yili_used');
                },
                line:false,
                filterTarget:function(card,player,target){
                    return target!=player;
                },
                content:function(){
                    'step 0'
                    var list=[];
                    game.getGlobalHistory('cardMove',function(evt){
                        if(evt.name=='lose'){
                            if(evt.position==ui.discardPile){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                        else{
                            if(evt.name=='cardsDiscard'){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                    });
                    player.chooseCardButton(list,'é—ç¤¼ï¼šè¯·é€‰æ‹©è¦äº¤ç»™'+get.translation(target)+'çš„ç‰Œ');
                    'step 1'
                    if(result.bool){
                        event.card=result.links[0];
                        player.line(result.targets,'green');
                        player.logSkill('DIY_yili',target);
                        target.gain(event.card,'gain2');
                        player.draw();
                        player.addTempSkill('DIY_yili_used');
                    }
                },
                subSkill:{
                    used:{
                        sub:true,
                    },
                },
            },
            "DIY_zhenglun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"drawBegin",
                },
                direct:true,
                content:function(){
                    'step 0'
                    player.chooseTarget([1,player.maxHp],get.prompt2('DIY_zhenglun'),function(card,player,target){
                        return player!=target&&target.countCards('he');
                    }).set('ai',function(target){
                        var att=get.attitude(_status.event.player,target);
                        if(target.countCards('he')) return att;
                        return att/10;
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_zhenglun',result.targets);
                        event.targets=result.targets;
                        event.targets.sort(lib.sort.seat);
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(event.targets.length){
                        var target=event.targets.shift();
                        event.current=target;
                    }
                    else{
                        event.goto(6);
                    }
                    'step 3'
                    if(event.current&&event.current.countCards('he')){
                        event.current.chooseCard('é‡é“¸ä¸€å¼ ç‰Œ','he',true).set('ai',function(card){
                            var att=get.attitude(event.current,player);
                            var suits=[];
                            game.getGlobalHistory('cardMove',function(evt){
                                if(suits.length>=4) return;
                                if(evt.name=='lose'){
                                    if(evt.position==ui.discardPile){
                                        for(var i of evt.cards) suits.add(get.suit(i,false));
                                    }
                                }
                                else{
                                    if(evt.name=='cardsDiscard'){
                                        for(var i of evt.cards) suits.add(get.suit(i,false));
                                    }
                                }
                            });
                            if(suits.contains(get.suit(card))){
                                if(att<0){
                                    return 9-get.value(card);
                                }
                                else{
                                    return 6-get.value(card);
                                }
                            }
                            else{
                                if(att<0){
                                    return 6-get.value(card);
                                }
                                else{
                                    return 9-get.value(card);
                                }
                            }
                            return 6-get.value(card);
                        });
                    }
                    else{
                        event.goto(2);
                    }
                    'step 4'
                    if(result&&result.cards){
                        event.card=result.cards[0];
                        event.current.lose(result.cards,ui.discardPile,'visible');
                        event.current.$throw(result.cards,1000);
                        game.log(event.current,'å°†',result.cards,'ç½®å…¥å¼ƒç‰Œå †');
                        event.current.draw();
                    }
                    else{
                        event.card=null;
                    }
                    'step 5'
                    if(event.current==game.me) game.delay(0.5);
                    event.goto(2);
                    'step 6'
                    var suits=[];
                    game.getGlobalHistory('cardMove',function(evt){
                        if(suits.length>=4) return;
                        if(evt.name=='lose'){
                            if(evt.position==ui.discardPile){
                                for(var i of evt.cards) suits.add(get.suit(i,false));
                            }
                        }
                        else{
                            if(evt.name=='cardsDiscard'){
                                for(var i of evt.cards) suits.add(get.suit(i,false));
                            }
                        }
                    });
                    trigger.num=suits.length;
                },
            },
            "DIY_zhiyi":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"phaseJieshuBegin",
                },
                frequent:true,
                filter:function(event,player){
                    var num=0;
                    player.getHistory('lose',function(evt){
                        if(evt.cards2) num+=evt.cards2.length;
                    });
                    return num>0;
                },
                content:function(){
                    'step 0'
                    event.num=0;
                    player.getHistory('lose',function(evt){
                        if(evt.cards2) event.num+=evt.cards2.length;
                    });
                    event.list=[];
                    'step 1'
                    var list=[];
                    game.getGlobalHistory('cardMove',function(evt){
                        if(evt.name=='lose'){
                            if(evt.position==ui.discardPile){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                        else{
                            if(evt.name=='cardsDiscard'){
                                for(var i of evt.cards) list.add(i);
                            }
                        }
                    });
                    if(list.length) player.chooseCardButton(list,'æ‰§ä¹‰ï¼šé€‰æ‹©è¦ä½¿ç”¨çš„ç‰Œï¼Œæˆ–ç‚¹â€œå–æ¶ˆâ€æ‘¸ä¸€å¼ ç‰Œ<br>ï¼ˆè¿˜æœ‰'+get.translation(event.num-1)+'æ¬¡ï¼‰').set('filterButton',function(button){
                        return !event.list.contains(button.link)&&_status.event.player.hasUseTarget({name:button.link.name});
                    }).set('ai',function(button){
                        if(_status.event.check){
                            return 20-get.value(button.link,_status.event.player);
                        }
                        return 1;
                    });
                    'step 2'
                    if(result.bool&&result.links.length){
                        player.chooseUseTarget(result.links[0]).logSkill='DIY_zhiyi';
                        event.list.add(result.links[0]);
                    }
                    else{
                        player.logSkill('DIY_zhiyi');
                        player.draw();
                    }
                    'step 3'
                    event.num--;
                    'step 4'
                    if(event.num>0){
                        player.chooseBool(get.prompt2('DIY_zhiyi')).set('frequentSkill','DIY_zhiyi');
                    }
                    else{
                        event.finish();
                    }
                    'step 5'
                    if(result.bool&&event.num>0){
                        event.goto(1);
                    }
                },
            },
            "DIY_chuhai":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                usable:1,
                mark:true,
                marktext:'ä¹¡å®³',
                intro:{
                    name:" ",
                    content:function(storage,player){
                        var num=3-player.countMark("DIY_chuhai");
                        str='ã€é™¤å®³ã€‘å‰©ä½™å¯ç”¨'+get.translation(num)+'æ¬¡';
                        return str;
                    },
                    markcount:function(dialog,storage,player){
                        return '';
                    },
                },
                selectCard:function(card,player,target){
                    return [0,_status.event.player.countMark('DIY_chuhai')+1];
                },
                position:"he",
                filterCard:true,
                filterTarget:function(card,player,target){
                    if(player==target) return false;
                    if(ui.selected.cards.length){
                        if(ui.selected.cards.length<player.countMark('DIY_chuhai')+1) return false;
                    }
                    else{
                        return target.countCards('he')>=player.countMark('DIY_chuhai')+1;
                    }
                    return true;
                },
                filter:function(event,player){
                    return !player.storage.DIY_xianghai&&player.countMark('DIY_chuhai')<3;
                },
                check:function(card,player){
                    if(_status.event.player.countMark('DIY_chuhai')==2) return -1;
                    return 10-get.value(card);
                },
                onremove:true,
                content:function(){
                    'step 0'
                    player.getHistory('custom').push({DIY_chuhai:true});
                    if(cards.length>0){
                        target.damage('nocard');
                        player.addMark('DIY_chuhai',1,false);
                        event.finish();
                    }
                    else{
                        target.chooseToDiscard(player.countMark('DIY_chuhai')+1,true,'he');
                    }
                    'step 1'
                    if(result.bool){
                        player.damage('nocard',target);
                        player.addMark('DIY_chuhai',1,false);
                        if(player.hasSkill('DIY_xianghai')) player.useSkill('DIY_xianghai_chuhai',true);
                    }
                },
                ai:{
                    order:9,
                    result:{
                        target:function(player,target){
                            return -1;
                        },
                    },
                },
            },
            "DIY_chuhai_gai":{
                audio:"DIY_chuhai",
            },
            "DIY_chuhai_gai_skill":{
                audio:"DIY_chuhai",
                enable:"phaseUse",
                usable:1,
                selectCard:function(card,player,target){
                    return [0,1];
                },
                position:"he",
                filterCard:true,
                filterTarget:function(card,player,target){
                    if(player==target) return false;
                    if(!ui.selected.cards.length){
                        return target.countCards('he')>=1;
                    }
                    return true;
                },
                check:function(card,player){
                    return 10-get.value(card);
                },
                filter:function(event,player){
                    return player.getHistory('custom',function(evt){
                        return evt.DIY_chuhai==true;
                    }).length==0;
                },
                content:function(){
                    'step 0'
                    if(cards.length>0){
                        target.damage('nocard');
                        event.finish();
                    }
                    else{
                        target.chooseToDiscard(1,true,'he');
                    }
                    'step 1'
                    if(result.bool){
                        player.damage('nocard',target);
                    }
                },
                ai:{
                    order:9,
                    result:{
                        target:function(player,target){
                            return -1;
                        },
                    },
                },
            },
            "DIY_xianghai":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                global:'DIY_xianghai_card',
                trigger:{
                    global:"phaseDiscardBefore",
                },
                forced:true,
                filter:function(event,player){
                    return event.player!=player&&event.player.needsToDiscard();
                },
                derivation:['DIY_chuhai_gai','DIY_zhangming'],
                content:function(){},
                subSkill:{
                    card:{
                        forced:true,
                        mod:{
                            maxHandcardBase:function(player,num){
                                if(game.hasPlayer(function(current){
                                    return !current.hasSkill('DIY_xianghai');
                                })){
                                    if(!player.hasSkill('DIY_xianghai')) return num-1;
                                }
                            },
                        },
                    },
                    chuhai:{
                        audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                        trigger:{
                            player:'damage',
                        },
                        forced:true,
                        skillAnimation:true,
                        animationColor:"wood",
                        filter:function(event,player){
                            return event.getParent(2).name=='DIY_chuhai';
                        },
                        content:function(){
                            'step 0'
                            player.recover(player.maxHp-player.hp);
                            player.removeMark('DIY_chuhai',Infinity,false);
                            player.storage.DIY_xianghai=true;
                            player.removeSkill('DIY_xianghai');
                            player.removeSkill('DIY_chuhai');
                            player.addSkill('DIY_chuhai_gai_skill');
                            player.addSkill('DIY_zhangming');
                        },
                    },
                },
                ai:{
                    combo:"DIY_chuhai",
                },
            },
            "DIY_zhangming":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:'damageEnd',
                },
                forced:true,
                filter:function(event,player){
                    return game.hasPlayer(function(current){
                        return current.isMinHandcard(true)&&current!=player;
                    });
                },
                content:function(){
                    'step 0'
                    var targets=game.filterPlayer(function(current){
                        return current.isMinHandcard(true)&&current!=player;
                    });
                    targets[0].draw('visible');
                    'step 1'
                    var card=result[0];
                    var list=[],cards=[];
                    list.push(get.type2(card,false));
                    for(var i=0;i<ui.cardPile.childNodes.length;i++){
                        var type=get.type2(ui.cardPile.childNodes[i],false);
                        if(!list.contains(type)){
                            list.push(type);
                            cards.push(ui.cardPile.childNodes[i])
                        };
                    }
                    player.gain(cards,'gain2');
                },
                group:"DIY_zhangming_damage",
                subSkill:{
                    damage:{
                        audio:"DIY_zhangming",
                        forced:true,
                        trigger:{
                            source:"damageSource",
                        },
                        filter:function(event,player){
                            return game.hasPlayer(function(current){
                                return current.isMaxHandcard(true)&&current!=player;
                            });
                        },
                        content:function(){
                            var list=[],cards=[],targets=game.filterPlayer(function(current){
                                return current.isMaxHandcard(true)&&current!=player;
                            });
                            target=targets[0];
                            hs=target.getCards('he');
                            if(hs.length>0){
                                var card=hs.randomGet();
                                list.push(get.type2(card,false));
                                target.discard(card);
                                for(var i=0;i<ui.cardPile.childNodes.length;i++){
                                    var type=get.type2(ui.cardPile.childNodes[i],false);
                                    if(!list.contains(type)){
                                        list.push(type);
                                        cards.push(ui.cardPile.childNodes[i])
                                    };
                                }
                                player.gain(cards,'gain2');
                            }
                        },
                    },
                },
                ai:{
                    maixie:true,
                    "maixie_hp":true,
                },
            },
            "DIY_jingce":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:1",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                mod:{
                    aiOrder:function(player,card,num){
                        if(typeof card=='object'&&player.hasCard((card)=>card.hasGaintag('DIY_jingce'),'x')){
                            var cards=player.getExpansions('DIY_jingce');
                            if(get.suit(cards[0])==get.suit(card)){
                                return num+9;
                            }
                        }
                    },
                },
                direct:true,
                content:function(){
                    'step 0'
                    player.chooseTarget([1,Infinity],get.prompt('DIY_jingce')).set('ai',function(target){
                        return 999;
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_jingce');
                        event.targets=result.targets.sortBySeat();
                        event.cards=get.cards(event.targets.length);
                        player.showCards(event.cards);
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(event.targets.length){
                        var target=event.targets.shift();
                        event.current=target;
                    }
                    else{
                        event.goto(6);
                    }
                    'step 3'
                    if(event.current&&event.current.countCards('h')>0){
                        var hs=event.current.getCards('h');
                        var dialog=['ç²¾ç­–ï¼šæ˜¯å¦ç”¨ä¸€å¼ æ‰‹ç‰Œäº¤æ¢å±•ç¤ºçš„ä¸€å¼ ç‰Œ','<div class="text center">ä½ çš„æ‰‹ç‰Œ</div>',hs,'<div class="text center">å±•ç¤ºçš„ç‰Œ</div>',event.cards];
                        event.current.chooseButton(dialog,2).set('filterButton',function(button){
                            if(!ui.selected.buttons.length) return get.position(button.link)=='h';
                            if(ui.selected.buttons.length) return get.position(button.link)!=get.position(ui.selected.buttons[0].link);
                            return true;
                        }).set('cards1',hs).set('cards2',event.cards).set('ai',function(button){
                            var card=button.link,cards1=_status.event.cards1.slice(0);
                            var cards2=_status.event.cards2.slice(0);
                            var att=get.attitude(event.current,player);
                            if(!ui.selected.buttons.length){
                                if(!cards1.contains(card)) return 0;
                                cards1.remove(card);
                                return 10-get.value(card);
                            }
                            cards1.remove(ui.selected.buttons[0].link);
                            cards1.push(card);
                            return get.value(card)-get.value(ui.selected.buttons[0].link);
                        });
                    }
                    else{
                        event.goto(5);
                    }
                    'step 4'
                    if(result.bool){
                        var cards=result.links;
                        if(get.position(cards[0])!='h') cards.reverse();
                        event.cards.remove(cards[1]);
                        event.cards.push(cards[0]);
                        game.log(event.current,'ç”¨',cards[0],'æ›¿æ¢äº†',cards[1]);
                        event.current.lose(cards[0],false);
                        event.current.$gain2(cards[1]);
                        event.current.gain(cards[1],false);
                    }
                    'step 5'
                    game.delay(0.05);
                    event.goto(2);
                    'step 6'
                    player.$gain2(event.cards);
                    if(event.cards.length==1) event._result={bool:true,links:event.cards};
                    else{
                        var dialog=['ç²¾ç­–ï¼šè¯·é€‰æ‹©æ”¾ç½®çš„é¡ºåº','<div class="text center">ï¼ˆå…ˆé€‰çš„åœ¨ä¸‹é¢ï¼Œåé€‰çš„åœ¨ä¸Šé¢ï¼‰</div>',event.cards];
                        player.chooseButton(dialog,true,event.cards.length).set('filterButton',function(button){
                            return event.cards.contains(button.link);
                        }).set('cards',event.cards);
                    }
                    'step 7'
                    game.cardsGotoSpecial(result.links);
                    game.log(player,'å°†',result.links,'ä¾æ¬¡ç½®äºæ­¦å°†ç‰Œä¸Š');
                    player.$gain2(result.links);
                    player.addToExpansion(result.links,false).gaintag.add('DIY_jingce');
                    game.delayx();
                },
                group:'DIY_jingce_use',
                subSkill:{
                    use:{
                        audio:'DIY_jingce',
                        trigger:{
                            player:['useCard','respond'],
                        },
                        forced:true,
                        filter:function(event,player){
                            return player.hasCard((card)=>card.hasGaintag('DIY_jingce'),'x');
                        },
                        content:function(){
                            'step 0'
                            event.cards=player.getExpansions('DIY_jingce');
                            player.showCards(event.cards[0]);
                            'step 1'
                            if(get.suit(trigger.card)==get.suit(event.cards[0])){
                                player.gain(event.cards[0],'gain2');
                                event.cards.remove(event.cards[0]);
                                event.finish();
                            }
                            else{
                                player.loseToDiscardpile(event.cards[0]);
                                event.cards.remove(event.cards[0]);
                            }
                            'step 2'
                            if(player.hasCard((card)=>card.hasGaintag('DIY_jingce'),'x')){
                                var next=player.chooseToMove();
                                next.set('list',[
                                    ['â€œç­–â€ï¼ˆå·¦ä¸Šå³ä¸‹ï¼‰',event.cards],
                                ]);
                                next.set('prompt','ç²¾ç­–ï¼šç‚¹å‡»â€œç­–â€çš„é¡ºåº');
                                next.processAI=function(list){
                                    var cards=list[0],player=_status.event.player;
                                    var top=cards;
                                    return [top];
                                }
                            }
                            else{
                                event.finish();
                            }
                            'step 3'
                            var top=result.moved[0];
                            game.cardsGotoSpecial(top);
                            top.reverse();
                            for(var i=0;i<top.length;i++){
                                player.addToExpansion(top[i],false).gaintag.add('DIY_jingce');
                            }
                            player.$gain2(event.cards);
                        },
                    },
                },
                marktext:"ç­–",
                intro:{
                    mark:function(dialog,storage,player){
                        var cards=player.getExpansions('DIY_jingce');
                        dialog.addText('æœ€ä¸Šæ–¹çš„â€œç­–â€:<br>'+get.translation(cards[0]));
                        dialog.addAuto(cards);
                    },
                    markcount:"expansion",
                },
            },
            "DIY_langxi": {
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:4",
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                direct:true,
                filter:function(event,player){
                    return game.hasPlayer(function(current){
                        return current!=player;
                    });
                },
                content:function(){
                "step 0"
                player.chooseTarget(get.prompt('DIY_langxi'),'è¯·é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²',function(card,player,target){
                    return target!=player;
                }).set('ai',function(target){
                    var player=_status.event.player;
                    return get.damageEffect(target,player,player);
                });
                "step 1"
                if(result.bool&&result.targets&&result.targets.length){
                    player.logSkill('DIY_langxi', result.targets);
                    if (event.isMine()) {
                        var bg = ui.create.div('', document.body);
                        bg.style.cssText = 'width:100%;height:100%;top:0;left:0;position:absolute;z-index:7'

                        var langXi = ui.create.div('.langxi', bg);
                        var bordx = [24, 41, 58, 75, 95.5];
                        var text = [1, 0, 2, 0, 1];
                        for (var i = 0; i < 4; i++) {
                            let bord = ui.create.div('.none', langXi);
                            bord.style.setProperty('--h', bordx[i] + '%');
                        };
                        for (var j = 0; j < 5; j++) {
                            let font = ui.create.div('.nonef', langXi);
                            if (j == 0) font.style.setProperty('--h', '11%');
                            else font.style.setProperty('--h', (bordx[j] - 9) + '%');
                            font.textContent = text[j];
                        }
                        var ball = ui.create.div('.ball', langXi), ballTime = null, direct = 15, str = 'win';
                        ballTime = setInterval(function () {
                            ball.style.left = (ball.offsetLeft + direct) + 'px'
                            if (ball.style.left.substring(0, ball.style.left.indexOf('p')) >= 571) direct = -15;
                            if (ball.style.left.substring(0, ball.style.left.indexOf('p')) <= -1) direct = 15;
                        }, 10);

                        setTimeout(function () {
                            bg.addEventListener(lib.config.touchscreen ? 'touchend' : 'click', function () {
                            clearInterval(ballTime);

                            var x = Math.abs(ball.style.left.substring(0, ball.style.left.indexOf('p')) - 285);
                            console.log(ball.style.left.substring(0, ball.style.left.indexOf('p')), x)
                            if (x <= 45) event.score = 2;
                            else if (x <= 155){
                                event.score = 0;
                                str = 'lose';
                            }
                            else {
                                event.score = 1;
                            }
                            game.playAudio('..', 'extension', 'å¤©ç‰¢ä»¤', str);
                            setTimeout(function () {
                                bg.remove();
                                game.resume();
                            }, 200)
                            })
                        }, 100)
                        game.pause();
                    } else {
                        event.score = [0, 1, 2].randomGet();
                        if(get.isLuckyStar(player)) num=2;
                    }
                } else event.finish();
                "step 2"
                var num = event.score;
                player.line(result.targets[0], 'green');
                result.targets[0].damage(num);
                },
                ai: {
                    expose: 0.25,
                    threaten: 1.7,
                },
            },
            "DIY_yisuan":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"useCardEnd",
                },
                check:function(event,player){
                    return get.value(event.cards)+player.maxHp*2-18>0;
                },
                filter:function(event,player){
                    return player.isPhaseUsing()&&get.type(event.card)=='trick'&&event.cards.filterInD().length>0;
                },
                content:function(){
                    player.loseMaxHp();
                    player.gain(trigger.cards.filterInD(),'gain2','log');
                },
            },
            "DIY_wurong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                usable:1,
                enable:"phaseUse",
                filter:function(event,player){
                    return player.countCards('h')>0;
                },
                filterTarget:function(card,player,target){
                    if(target==player||target.countCards('he')<1) return false;
                    cards=target.getCards('he');
                    for(var i=0;i<cards.length;i++){
                        var name=get.name(cards[i]);
                        if(['sha','shan','tao','jiu','nanman','wanjian','taoyuan','wugu','guohe','shunshou','juedou','huogong','wuxie','tiesuo','wuzhong','jiedao','caochuan','jiejia','kaihua','zhulu_card'].contains(name)) return true;
                    }
                },
                content:function(){
                    'step 0'
                    target.chooseCard('h',true,'æ€ƒæˆï¼šè¯·æ‰“å‡ºä¸€å¼ ç‰Œ',function(card,player){
                        var name=get.name(card);
                        return ['sha','shan','tao','jiu','nanman','wanjian','taoyuan','wugu','guohe','shunshou','juedou','huogong','wuxie','tiesuo','wuzhong','jiedao','caochuan','jiejia','kaihua','zhulu_card'].contains(name);
                    }).set('ai',function(card){
                        return Math.random();
                    });
                    'step 1'
                    if(result.bool){
                        event.card1=result.cards[0];
                        game.log(target,'é€‰æ‹©äº†',event.card1);
                        player.chooseCard('h',true,'æ€ƒæˆï¼šè¯·æ‰“å‡ºä¸€å¼ ç‰Œ',function(card,player){
                            var name=get.name(card);
                            return ['sha','shan','tao','jiu','nanman','wanjian','taoyuan','wugu','guohe','shunshou','juedou','huogong','wuxie','tiesuo','wuzhong','jiedao','caochuan','jiejia','kaihua','zhulu_card'].contains(name);
                        }).set('ai',function(card){
                            return Math.random();
                        });
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(result.bool){
                        event.card2=result.cards[0];
                        player.respond(event.card2).nopopup=true;
                        target.respond(event.card1).nopopup=true;
                    }
                    'step 3'
                    event.num=0;
                    if(event.card1.name=='sha') event.num=3;
                    if(event.card1.name=='shan') event.num=2;
                    if(event.card1.name=='wuxie') event.num=15;
                    if(['juedou','nanman','wanjian'].contains(event.card1.name)) event.num=3;
                    if(['huogong','jiedao'].contains(event.card1.name)) event.num=2;
                    if(['taoyuan','wugu','guohe','shunshou','tiesuo','wuzhong','jiejia','kaihua','zhulu_card'].contains(event.card1.name)) event.num=1;
                    if(event.card1.name=='caochuan') event.num=13;
                    'step 4'
                    if(event.card2.name=='shan'){
                        player.draw(event.num);
                        event.finish();
                    }
                    if(event.card2.name=='wuxie'&&event.card1.name!='wuxie'){
                        player.draw(event.num);
                        event.finish();
                    }
                    if(['tao','jiu'].contains(event.card2.name)){
                        event.goto(6);
                    }
                    if(event.card2.name=='sha'&&!['shan','caochuan'].contains(event.card1.name)){
                        event.goto(6);
                    }
                    if(['juedou','nanman'].contains(event.card2.name)&&!['sha','wuxie','caochuan'].contains(event.card1.name)){
                        event.goto(6);
                    }
                    if(['jiedao'].contains(event.card2.name)&&!['sha','wuxie'].contains(event.card1.name)){
                        event.goto(6);
                    }
                    if(['huogong'].contains(event.card2.name)&&!['wuxie','caochuan'].contains(event.card1.name)){
                        event.goto(6);
                    }
                    if(['wanjjan'].contains(event.card2.name)&&!['shan','wuxie','caochuan'].contains(event.card1.name)){
                        event.goto(6);
                    }
                    if(['taoyuan','wugu','guohe','shunshou','tiesuo','wuzhong','caochuan','jiejia','kaihua','zhulu_card'].contains(event.card2.name)&&event.card1.name!='wuxie'){
                        event.goto(6);
                    }
                    'step 5'
                    event.finish();
                    'step 6'
                    if(event.num==0) event.finish();
                    player.chooseBool('æ€ƒæˆï¼šæ˜¯å¦å¯¹'+get.translation(target)+'æ‰§è¡Œ'+get.translation(event.num)+'æ¬¡'+get.translation(event.card2)+'çš„æ•ˆæœï¼Œæˆ–ç‚¹â€œå–æ¶ˆâ€æ‘¸'+get.translation(event.num)+'å¼ ç‰Œ').ai=function(event,player){
                        if(!lib.filter.targetEnabled(event.card2,player,target)) return false;
                        return get.effect(target,event.card2,player,player);
                    };
                    'step 7'
                    if(!result.bool){
                        player.draw(event.num);
                        event.finish();
                    }
                    'step 8'
                    if(!target.isIn()) event.finish();
                    var next=player.useCard(event.card2,target,false);
                    next.set('addCount',false);
                    next.set('DIY_wurong',true);
                    player.actionHistory[player.actionHistory.length-1].useCard.pop();
                    event.num--;
                    if(event.num>0) event.goto(8);
                },
                ai:{
                    order:6,
                    result:{
                        target:-1,
                    },
                },
            },
            "DIY_shizhi":{
                mod:{
                    cardname:function(card,player,name){
                        if(card.name=='shan'&&player.hp==1) return 'sha';
                    },
                },
                ai:{
                    skillTagFilter:function(player){
                        if(!player.countCards('h','shan')) return false;
                        if(player.hp!=1) return false;
                    },
                    respondSha:true,
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCard1","respond"],
                },
                firstDo:true,
                forced:true,
                filter:function(event,player){
                    if(player.hp!=1) return false;
                    return event.card.name=='sha'&&!event.skill&&
                    event.cards.length==1&&event.cards[0].name=='shan';
                },
                content:function(){},
                group:'DIY_shizhi_phaseUse',
                subSkill:{
                    phaseUse:{
                        audio:'DIY_shizhi',
                        trigger:{
                            player:"phaseDiscardBefore",
                        },
                        forced:true,
                        filter:function(event,player){
                            return player.hp==1;
                        },
                        content:function(){
                            trigger.cancel();
                            var next=trigger.player.phaseUse();
                            event.next.remove(next);
                            trigger.getParent('phase').next.push(next);
                        },
                    },
                },
            },
            "DIY_longhun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                charlotte:true,
                trigger:{
                    player:'useCardToTarget',
                },
                filter:function(event,player){
                    return !event.card.DIY_longhun&&event.targets.length==1;
                },
                direct:true,
                content:function(){
                    'step 0'
                    str='è§†ä¸ºå¯¹'+get.translation(trigger.targets[0])+'ä½¿ç”¨å¦ä¸€ç§ç‰Œåçš„å³æ—¶ç‰Œï¼Œ';
                    if(['basic','trick'].contains(get.type(trigger.card))) str+='æˆ–è§†ä¸ºå¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ä¸€å¼ '+get.translation(trigger.card.name)+'ï¼Œ';
                    str+='ç„¶åä»'+get.translation(trigger.card)+'çš„ç›®æ ‡ä¸­ç§»å»'+get.translation(trigger.targets[0]);
                    player.chooseTarget(get.prompt('DIY_longhun'),str,function(card,player,target){
                        if(['basic','trick'].contains(get.type(trigger.card))) return true;
                        return trigger.targets.contains(target);
                    }).set('ai',function(target){
                        var player=_status.event.player;
                        if(trigger.card.name=='tao'||trigger.card.name=='wuzhong') return false;
                        if(trigger.target!=target) return target!=player;
                        return Math.random();
                    });
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_longhun',result.targets);
                        if(!trigger.targets.contains(result.targets[0])){
                            player.useCard(result.targets[0],{name:trigger.card.name}).card.DIY_longhun=true;
                            event.goto(3);
                        }
                        else{
                            var list=[];
                            for(var i=0;i<lib.inpile.length;i++){
                                var name=lib.inpile[i];
                                if(name==trigger.card.name) continue;
                                if(get.type(name)!='basic'&&get.type(name)!='trick') continue;
                                if(!lib.filter.targetEnabled({name:name},player,trigger.targets[0])) continue;
                                if(name=='sha'){
                                    list.push(['åŸºæœ¬','','sha']);
                                    for(var j of lib.inpile_nature) list.push(['åŸºæœ¬','','sha',j]);
                                }
                                else if(get.type(name)=='basic') list.push(['åŸºæœ¬','',name]);
                                else if(get.type(name)=='trick') list.push(['é”¦å›Š','',name]);
                            }
                            player.chooseButton([get.prompt('DIY_longhun'),'è¯·é€‰æ‹©å¯¹'+get.translation(trigger.targets[0])+'ä½¿ç”¨çš„å³æ—¶ç‰Œ',[list,'vcard']],true).set('ai',function(button){
								var att=get.attitude(player,trigger.targets[0]);
								return get.effect(trigger.targets[0],button.link,player,player);
							});
                        }
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(result.bool){
                        player.useCard(trigger.targets[0],{name:result.links[0][2]}).card.DIY_longhun=true;
                    }
                    'step 3'
                    trigger.getParent().excluded.add(trigger.targets[0]);
                },
            },
            "DIY_juejing":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                charlotte:true,
                trigger:{
                    target:"useCardToTarget",
                },
                filter:function(event,player){
                    return !event.card.DIY_longhun&&event.targets.length==1;
                },
                direct:true,
                filter:function(event,player){
                    return event.player.hp>=player.hp&&event.player!=player;
                },
                content:function(){
                    'step 0'
                    player.storage.DIY_juejing=false;
                    player.chooseBool(get.prompt('DIY_juejing'),'è§†ä¸ºå¯¹'+get.translation(trigger.player)+'ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼Œè‹¥æ­¤ã€æ€ã€‘ç»“ç®—æœŸé—´ä½ é€ æˆäº†ä¼¤å®³ï¼Œ'+get.translation(trigger.card)+'å¯¹ä½ æ— æ•ˆ').ai=function(event,player){
                        return true;
                    };
                    'step 1'
                    if(result.bool){
                        player.storage.DIY_juejing_card=trigger.card;
                        player.addTempSkill('DIY_juejing_damage');
                        player.useCard(trigger.player,{name:'sha'}).card.DIY_juejing=true;
                    }
                    'step 2'
                    if(player.storage.DIY_juejing) trigger.getParent().excluded.add(player);
                },
                group:"DIY_juejing_card",
                subSkill:{
                    damage:{
                        direct:true,
                        charlotte:true,
                        trigger:{
                            source:"damage",
                        },
                        content:function(){
                            player.storage.DIY_juejing=true;
                            player.logSkill('DIY_juejing');
                            game.log(player,'ä»¤',player.storage.DIY_juejing_card,'å¯¹å…¶æ— æ•ˆ');
                        },
                    },
                    card:{
                        direct:true,
                        charlotte:true,
                        trigger:{
                            player:'useCardEnd',
                        },
                        filter:function(event,player){
                            return event.card.DIY_juejing;
                        },
                        content:function(){
                            player.removeSkill('DIY_juejing_damage');
                            player.chooseToDiscard(true,'he');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_leiji":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    global:"judgeAfter",
                },
                direct:true,
                filter:function(event,player){
                    return !['spade','club'].contains(event.result.suit);
                },
                content:function(){
                    'step 0'
                    player.chooseTarget(get.prompt2('DIY_leiji')).ai=function(target){
                        if(target.hasSkill('hongyan')) return 0;
                        return -get.damageEffect(target,_status.event.player,_status.event.player,'thunder');
                    };
                    'step 1'
                    if(result.bool){
                        player.logSkill('DIY_leiji');
                        var target=result.targets[0];
                        target.judge(function(card){
                            var suit=get.suit(card);
                            if(suit=='spade') return -4;
                            if(suit=='club') return -2;
                            return 0;
                        }).judge2=function(result){
                            return result.bool==false?true:false;
                        };
                    }
                    else{
                        event.finish();
                    }
                    'step 2'
                    if(['spade','club'].contains(result.suit)){
                        event.num=result.suit=='club'?1:2;
                        player.chooseTarget('é›·å‡»ï¼šæ˜¯å¦å¯¹ä¸€åè§’è‰²é€ æˆ'+event.num+'ç‚¹é›·ç”µä¼¤å®³ï¼Ÿ',lib.filter.notMe).ai=function(target){
                            var player=_status.event.player;
                            return get.damageEffect(target,player,player,'thunder');
                        };
                    }
                    else{
                        event.finish();
                    }
                    'step 3'
                    if(result.bool&&result.targets&&result.targets.length){
                        if(!event.logged) player.logSkill('DIY_leiji',result.targets);
                        else player.line(result.targets,'thunder');
                        result.targets[0].damage(event.num,'thunder');
                    }
                },
            },
            "DIY_guidao":{
                ai:{
                    respondShan:true,
                    effect:{
                        target:1,
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["chooseToRespondBegin","chooseToUseBegin"],
                },
                filter:function(event,player){
        if(event.responded) return false;
        if(!event.filterCard||!event.filterCard({name:'shan'},player,event)) return false;
        if(event.name=='chooseToRespond'&&!lib.filter.cardRespondable({name:'shan'},player,event)) return false;
        return true;
                },
                check:function(event,player){
                    if(event&&(event.ai||event.ai1)){
                        var ai=event.ai||event.ai1;
                        var tmp=_status.event;
                        _status.event=event;
                        var result=ai({name:'shan'},_status.event.player,event);
                        _status.event=tmp;
                        return result>0;
                    }
                    return true;
                },
                content:function(){
                    "step 0"
                    player.line(_status.currentPhase,'yellow');
                    _status.currentPhase.judge('DIY_guidao',function(card){
                        if(get.color(card)=='red') return 1.5;
                        return -0.5;
                    }).judge2=function(result){
                       return result.bool;
                    };
                    "step 1"
                    if(result.judge>0){
                        trigger.untrigger();
                        trigger.set('responded',true);
                        trigger.result={bool:true,card:{name:'shan',isCard:true}}
                    }
                },
                group:['DIY_guidao_sha','DIY_guidao_use'],
                subSkill:{
                    use:{
                        filter:function(event,player){
                            return !event.DIY_guidao_use&&(event.type!='phase'||!player.hasSkill('DIY_guidao_used'));
                        },
                        enable:["chooseToUse","chooseToRespond"],
                        viewAs:{
                            name:"sha",
                        },
                        direct:true,
                        filterCard:function(){return false},
                        selectCard:-1,
                        ai:{
                            order:function(){
                                return get.order({name:'sha'})+0.3;
                            },
                            respondSha:true,
                        },
                    },
                    sha:{
                        audio:"DIY_guidao",
                        trigger:{
                            player:["useCardBegin","respondBegin"],
                        },
                        filter:function(event,player){
                            return event.skill=='DIY_guidao_use';
                        },
                        forced:true,
                        content:function(){
                            "step 0"
                            delete trigger.skill;
                            trigger.getParent().set('DIY_guidao_use',true);
                            "step 1"
                            player.line(_status.currentPhase,'yellow');
                            _status.currentPhase.judge('DIY_guidao',function(card){
                                if(get.color(card)=='red') return 1.5;
                                return -0.5;
                            }).judge2=function(result){
                                return result.bool;
                            };
                            "step 2"
                            if(result.judge>0){
                            }
                            else{
                                player.addTempSkill('DIY_guidao_used');
                                trigger.cancel();
                                trigger.getParent().goto(0);
                            }
                        },
                        sub:true,
                    },
                    used:{
                        trigger:{
                            player:["useCard2","respond"],
                        },
                        direct:true,
                        forced:true,
                        content:function(){
                            player.removeSkill('DIY_guidao_used');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_kuangcai":{
                mod:{
                    aiOrder:function(player,card,num){
                        if(get.name(card)=='tao') return num+10;
                        if(get.tag(card,'damage')) return num+9
                    },
                    cardUsable:function(card,player,num){
                        return Infinity;
                    },
                    targetInRange:function(card,player){
                        return true;
                    },
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:["useCardAfter","respondAfter"],
                },
                forced:true,
                filter:function(event,player){
                    return player.countCards('h');
                },
                content:function(){
                    'step 0'
                    var hs=player.getCards('h');
                    if(hs.length){
                        player.discard(hs);
                    }
                    'step 1'
                    var suits=[];
                    game.getGlobalHistory('cardMove',function(evt){
                        if(suits.length>=4) return;
                        if(evt.name=='lose'){
                            if(evt.position==ui.discardPile){
                                for(var i of evt.cards) suits.add(get.suit(i,false));
                            }
                        }
                        else{
                            if(evt.name=='cardsDiscard'){
                                for(var i of evt.cards) suits.add(get.suit(i,false));
                            }
                        }
                    });
                    if(suits.length) player.draw(suits.length);
                },
            },
            "DIY_kurou":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                mod:{
                    aiOrder:function(player,card,num){
                        if(get.name(card)=='tao') return num+999;
                    },
                },
                enable:"phaseUse",
                content:function(){
                    'step 0'
                    var cards=get.cards(2);
                    game.cardsGotoOrdering(cards);
                    player.showCards(cards,'è‹¦è‚‰');
                    var cardsx=[];
                    for(var i=0;i<cards.length;i++){
                        if(cards[i].name=='tao'||cards[i].name=='jiu'){
                            cardsx.push(cards[i]);
                        }
                    }
                    event.cards=cards;
                    player.chooseBool(get.prompt('DIY_kurou'),"æ˜¯å¦è·å¾—"+get.translation(cards)+"ï¼Œç„¶åå¤±å»ä¸€ç‚¹ä½“åŠ›ï¼Ÿ").ai=function(){
                        if(cardsx.length>0) return true;
                        if(player.hp>1) return true;
                    };
                    'step 1'
                    if(result.bool){
                        player.gain(event.cards,'gain2');
                        player.loseHp();
                    }
                },
                ai:{
                    order:function(){
                        var player=_status.event.player;
                        var cards=player.getCards('h');
                        if(player.countCards('h','sha')>5&&player.countCards('h','zhuge')) return -1;
                        if(player.hp<2) return 4;
                        return 8;
                    },
                    result:{
                        player:function(player){
                            return 1;
                        },
                    },
                },
            },
            "DIY_shengan_jieying":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:"phaseUse",
                filter:function(event,player){
                    return player.countCards('h','sha')>0;
                },
                filterTarget:function(card,player,target){
                    return target!=player&&player.inRange(target);
                },
                filterCard:{
                    name:"sha",
                },
                discard:false,
                content:function(){
                    player.useCard(cards,target).card.DIY_shengan_jieying=true;
                },
                group:'DIY_shengan_jieying_effect',
                subSkill:{
                    effect:{
                        trigger:{
                            player:"useCardToTargeted",
                        },
                        direct:true,
                        filter:function(event,player){
                            return event.card&&event.card.DIY_shengan_jieying&&event.target.hp>0&&event.target.countCards('hej')>0;
                        },
                        content:function(){
                            'step 0'
                            var next=player.choosePlayerCard(trigger.target,'he',[1,Math.min(trigger.target.hp,trigger.target.countCards('hej'))],'åŠ«è¥ï¼šæ˜¯å¦å°†'+get.translation(trigger.card)+'æ”¹ä¸ºè·å¾—'+get.translation(trigger.target)+'è‡³å¤š'+get.translation(trigger.target.hp)+'å¼ ç‰Œ');
                            next.set('ai',function(button){
                                if(!_status.event.goon) return 0;
                                var val=get.value(button.link);
                                if(button.link==_status.event.target.getEquip(2)) return 2*(val+3);
                                return val;
                            });
                            next.set('goon',get.attitude(player,trigger.target)<=0);
                            next.set('forceAuto',true);
                            'step 1'
                            if(result.bool){
                                player.logSkill('DIY_shengan_jieying',trigger.target);
                                trigger.getParent().excluded.add(trigger.target);
                                player.gain(result.cards,trigger.target);
                            }
                        },
                        sub:true,
                    },
                },
                ai:{
                    order:function(){
                        return get.order({name:'sha'})+0.3;
                    },
                    result:{
                        target:function(player,target,card){
                            return -1-target.countCards('he');
                        },
                    },
                },
            },
            "DIY_poxi":{
                trigger:{
                    player:"phaseZhunbeiBegin",
                },
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                frequent:true,
                content:function(){
                    player.loseHp();
                    var card=get.cardPile(function(card){
                        return card.name=='sha';
                    });
                    if(card) player.gain(card,'gain2');
                    player.addSkill('DIY_poxi_effect');
                },
                subSkill:{
                    effect:{
                        mod:{
                            attackRangeBase:function(){
                                return Infinity;
                            },
                        },
                        trigger:{
                            player:"useCardAfter",
                        },
                        audio:'DIY_poxi',
                        forced:true,
                        charlotte:true,
                        filter:function(event,player){
                            return get.tag(event.card,'damage')>0&&!event.player.getHistory('sourceDamage',function(evt){
                                return evt.card==event.card;
                            }).length&&event.cards.filterInD().length>0&&event.card.name=='sha';
                        },
                        content:function(){
                            player.gain(trigger.cards.filterInD(),'gain2');
                        },
                        sub:true,
                    },
                },
            },
            "DIY_xiaojun":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                trigger:{
                    player:"loseEnd",
                },
                forced:true,
                filter:function(event,player){
                    if(event.type=='use') return false;
                    for(var i=0;i<event.cards.length;i++){
                        if(get.type(event.cards[i])=='equip'&&get.subtype(event.cards[i])!="equip1") return true;
                    }
                    return false;
                },
                content:function(){
                    'step 0'
                    event.count=1;
                    event.cards=[];
                    if(trigger.name=='lose'){
                        event.count=0;
                        for(var i=0;i<trigger.cards.length;i++){
                            if(get.type(trigger.cards[i])=='equip'&&get.subtype(trigger.cards[i])!='equip1'){
                                event.count++;
                                event.cards.push(trigger.cards[i]);
                            }
                        }
                    }
                    'step 1'
                    player.disableEquip(get.subtype(event.cards[event.count-1]));
                    'step 2'
                    var card=get.cardPile2(function(card){
                        return get.type(card)=='equip'&&player.canUse(card,player);
                    });
                    if(card){
                        player.chooseUseTarget(card,true);
                    }
                    event.count--;
                    'step 3'
                    if(event.count){
                        player.logSkill('DIY_xiaojun');
                        event.goto(1);
                    }
                },
                group:['DIY_xiaojun_equip','DIY_xiaojun_equip1'],
                subSkill:{
                    equip:{
                        trigger:{
                            player:"equipAfter",
                        },
                        filter:function(event,player){
                            return get.type(event.card)=='equip'&&get.subtype(event.card)!='equip1';
                        },
                        content:function (){
                            'step 0'
                            player.disableEquip(get.subtype(trigger.card));
                            'step 1'
                            var card=get.cardPile2(function(card){
                                return get.type(card)=='equip'&&player.canUse(card,player);
                            });
                            if(card){
                                player.chooseUseTarget(card,true);
                            }
                        },
                        forced:true,
                    },
                    equip1:{
                        trigger:{
                            player:"equipBegin",
                        },
                        forced:true,
                        silent:true,
                        filter:function(event,player){
                            return get.subtype(event.card)=="equip1"&&player.countDisabled();
                        },
                        content:function (){
                            "step 0"
                            trigger.untrigger();
                            trigger.finish();
                            player.$equip(trigger.card);
                            game.addVideo('equip',player,get.cardInfo(trigger.card));
                            game.log(player,'è£…å¤‡äº†',trigger.card);
                            "step 1"
                            var info=get.info(trigger.card);
                            if(info.onEquip&&(!info.filterEquip||info.filterEquip(trigger.card,player))){
                                var next=game.createEvent('equip_'+trigger.card.name);
                                next.setContent(info.onEquip);
                                next.player=player;
                                next.trigger.card=trigger.card;
                                game.delayx();
                            }
                            delete player.equiping;
                            "step 2"
                            if(player.countCards('e',{subtype:"equip1"})>player.countDisabled()+1){
                                player.chooseButton(['é€‰æ‹©ä¸€å¼ æ­¦å™¨ç‰Œå¼ƒç½®', player.getCards('e',{subtype:"equip1"})],1,true);
                            }
                            "step 3"
                            if(result.bool){player.discard(result.links)}
                            "step 4"
                            if(player.countCards('e',{subtype:"equip1"})>player.countDisabled()+1) event.goto(2)
                        },
                        popup:false,
                        sub:true,
                    },
                },
            },
            "DIY_wangong":{
                audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
                enable:'phaseUse',
                filter:function(event,player){
        return player.countCards('hej',{subtype:"equip1"});
    },
                content:function(){
                    'step 0'
                    player.addTempSkill('DIY_wangong_base');
                    cards=player.getCards('hej',{subtype:'equip1'});
                    for(var i=0;i<cards.length;i++){
                        var hs=[];
                        hs.push(cards[i]);
                        player.chooseUseTarget(get.prompt('DIY_wangong'),'å°†'+get.translation(cards[i])+'å½“åšã€æ€ã€‘ä½¿ç”¨','sha',hs,true,'nodistance').logSkill='DIY_wangong';
                    }
                    'step 1'
                    player.addTempSkill('DIY_wangong_base');
                },
                subSkill:{
                    base:{
                        trigger:{
                            player:"useCard1",
                        },
                        forced:true,
                        filter:function(event,player){
                            return event.card.name=='sha'&&get.type(event.cards[0])=='equip'&&get.subtype(event.cards[0])=='equip1';
                        },
                        content:function(){
                            var info=get.info(trigger.cards[0]);
                            if(info&&info.distance&&typeof info.distance.attackFrom=='number'){
                                trigger.baseDamage=1-info.distance.attackFrom;
                            }
                            if(trigger.baseDamage<1){
                                trigger.baseDamage=1;
                            }
                        },
                        sub:true,
                    },
                },
            },
			"DIY_tianze":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				forced:true,
				usable:1,
				trigger:{
					global:"loseAfter",
				},
				filter:function(event,player){
                    for(var i=0;i<event.cards.length;i++){
                        if(get.color(event.cards[i])=='black'&&get.type(event.cards[i],false)!='delay') return true;
                    }
                    return false;
                },
				content:function(){
					'step 0'
					trigger.player.judge('shandian',function(card){
                		var suit=get.suit(card);
						var number=get.number(card);
                		if(suit=='spade'&&number>1&&number<10) return -5;
                		return 0;
            		}).judge2=function(result){
                		return result.bool==false?true:false;
            		};
					'step 1'
					if(result.bool==false){
						let next=trigger.player.damage(3,'thunder');
						next.source = undefined;
						const card = game.createCard({name: "shandian"});
						next.card = card;
						next.cards = [card];
					}
				},
			},
			"DIY_difa":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				trigger:{
        			global:"judge",
    			},
				direct:true,
				content:function(){
					'step 0'
					event.cards=[];
					event.cards.push(get.cards()[0]);
					event.cards.push(get.bottomCards()[0]);
					player.chooseCardButton(event.cards,'åœ°æ³•ï¼šæ‰“å‡ºä¸€å¼ ç‰Œæ›¿æ¢'+get.translation(trigger.player)+'çš„'+get.translation(trigger.judgestr)+'åˆ¤å®šç‰Œ').ai=function(button){
            			if(get.attitude(player,trigger.player)>0){
                			return 1+trigger.judge(button.link);
            			}
            			if(get.attitude(player,trigger.player)<0){
                			return 1-trigger.judge(button.link);
            			}
            			return get.color(button.link)=='red';
        			};
					'step 1'
					if(result.bool){
						player.logSkill('DIY_difa',trigger.player);
						event.card=result.links[0];
						player.$throw(event.card);
						if(event.cards[0]==event.card){
							ui.cardPile.appendChild(event.cards[1]);
            				game.updateRoundNumber();
						}
						else{
							ui.cardPile.insertBefore(event.cards[0],ui.cardPile.firstChild);
							game.updateRoundNumber();
						}
						trigger.player.judging[0]=event.card;
            			trigger.orderingCards.addArray(event.card);
						game.log(trigger.player,'çš„åˆ¤å®šç‰Œè¢«',player,'æ”¹ä¸º',event.card);
						game.cardsDiscard(trigger.player.judging[0]);
					}
					else{
						event.finish();
					}
					'step 2'
					if(get.color(event.card)=='red'){
						event.cards=get.bottomCards(3);
						game.log(player,'äº®å‡ºäº†',event.cards);
						game.cardsGotoOrdering(event.cards);
        				event.videoId=lib.status.videoId++;
        				game.broadcastAll(function(player,id,cards){
            				var str;
            				if(player==game.me&&!_status.auto){
                				str='åœ°æ³•ï¼šè·å–ç±»åˆ«å„ä¸ç›¸åŒçš„ç‰Œ';
            				}
            				else{
                				str='åœ°æ³•';
            				}
            				var dialog=ui.create.dialog(str,cards);
            				dialog.videoId=id;
        				},player,event.videoId,event.cards);
        				event.time=get.utc();
        				game.addVideo('showCards',player,['åœ°æ³•',get.cardsInfo(event.cards)]);
        				game.addVideo('delay',null,2);
					}
					else{
						event.finish();
					}
					'step 3'
					var next=player.chooseButton([0,5],true);
        			next.set('dialog',event.videoId);
        			next.set('filterButton',function(button){
            			for(var i=0;i<ui.selected.buttons.length;i++){
                			if(get.type(ui.selected.buttons[i].link)==get.type(button.link)) return false;
            			}
            			return true;
        			});
        			next.set('ai',function(button){
            			return get.value(button.link,_status.event.player);
        			});
					'step 4'
					if(result.bool&&result.links){
            			event.cards2=result.links;
        			}
        			else{
            			event.finish();
        			}
        			var time=1000-(get.utc()-event.time);
        			if(time>0){
            			game.delay(0,time);
        			}
					'step 5'
					game.broadcastAll('closeDialog',event.videoId);
        			var cards2=event.cards2;
        			player.gain(cards2,'log','gain2');
				},
			},
			"DIY_dujin":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				trigger:{
        			player:"useCardAfter",
    			},
    			forced:true,
    			filter:function(event,player){
        			if(event.parent.name=='DIY_dujin') return false;
        			if(!event.targets||!event.card) return false;
        			var type=get.type(event.card);
        			if(type!='basic'&&type!='trick') return false;
					if(event.targets.length!=1) return false;
					if(event.targets[0]==player) return false;
        			var card=game.createCard(event.card.name,event.card.suit,event.card.number,event.card.nature);
					for(var i=0;i<event.targets.length;i++){
						if(event.targets[i].isAlive()&&player.canUse({name:event.card.name},event.targets[i],false,false)) return true;
					}
        			return false;
    			},
				content:function(){
        			var card=game.createCard(trigger.card.name,trigger.card.suit,trigger.card.number,trigger.card.nature);
        			var next=player.useCard(card,trigger.targets,false,'noai');
					next.set('addCount',false);
					next.set('animate',false);
					next.set('audio', false);
					next.set('nopopup',true);
					player.actionHistory[player.actionHistory.length-1].useCard.pop();
    			},
				group:"DIY_dujin_global",
				subSkill:{
					global:{
						audio:"DIY_dujin",
						trigger:{
        					global:"useCardAfter",
    					},
    					forced:true,
    					filter:function(event,player){
							if(event.player==player) return false;
        					if(event.parent.name=='DIY_dujin_global') return false;
        					if(!event.targets||!event.card) return false;
        					var type=get.type(event.card);
        					if(type!='basic'&&type!='trick') return false;
							if(event.targets.length!=1) return false;
							if(event.targets[0]!=player) return false;
        					var card=game.createCard(event.card.name,event.card.suit,event.card.number);
            				if(!event.targets[0].isAlive()) return false;
            				if(!event.player.canUse({name:event.card.name},event.targets[0],false,false)){
                				return false;
            				}
        					return true;
    					},
						content:function(){
        					var card=game.createCard(trigger.card.name,trigger.card.suit,trigger.card.number,trigger.card.nature);
        					var next=trigger.player.useCard(card,trigger.targets,false,'noai');
							next.set('addCount',false);
							next.set('animate',false);
							next.set('audio', false);
					        next.set('nopopup',true);
							trigger.player.actionHistory[trigger.player.actionHistory.length-1].useCard.pop();
    					},
					},
				},
			},
			"DIY_anguo":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				group:["DIY_anguo_hp","DIY_anguo_hs","DIY_anguo_es"],
				subSkill:{
					hp:{
						popup:false,
						trigger:{
							global:"changeHp",
						},
						usable:1,
						filter:function(event,player){
							return event.player.isMinHp();
						},
						check:function(event,player){
        					return get.attitude(player,event.player)>0;
    					},
						prompt:function(event,player){
                    		return 'å®‰å›½ï¼šæ˜¯å¦ä»¤'+get.translation(event.player)+'å›å¤1ç‚¹ä½“åŠ›ï¼Ÿ';
                		},
						content:function(){
							player.logSkill('DIY_anguo',trigger.player);
							trigger.player.recover();
						},
						sub:true,
					},
					hs:{
						popup:false,
						trigger:{
							global:["loseAfter","gainAfter"],
						},
						usable:1,
						filter:function(event,player){
							if(!event.player.isMinHandcard()) return false;
							for(var i=0;i<event.cards.length;i++){
            					if(event.cards[i].original=='h') return true;
        					}
							return false;
						},
						check:function(event,player){
        					return get.attitude(player,event.player)>0;
    					},
						prompt:function(event,player){
                    		return 'å®‰å›½ï¼šæ˜¯å¦ä»¤'+get.translation(event.player)+'æ‘¸ä¸€å¼ ç‰Œï¼Ÿ';
                		},
						content:function(){
							player.logSkill('DIY_anguo',trigger.player);
							trigger.player.draw();
						},
						sub:true,
					},
					es:{
						popup:false,
						trigger:{
							global:["equipAfter","loseAfter","gainAfter"],
						},
						usable:1,
						filter:function(event,player){
							if(!event.player.isMinEquip()) return false;
							if(event.name=='equip') return true;
							for(var i=0;i<event.cards.length;i++){
            					if(event.cards[i].original=='e') return true;
        					}
							return false;
						},
						check:function(event,player){
        					return get.attitude(player,event.player)>0;
    					},
						prompt:function(event,player){
                    		return 'å®‰å›½ï¼šæ˜¯å¦ä»¤'+get.translation(event.player)+'éšæœºä½¿ç”¨ä¸€å¼ è£…å¤‡ç‰Œï¼Ÿ';
                		},
						content:function(){
							var equip=get.cardPile(function(card){
            					return get.type(card)=='equip'&&trigger.player.hasUseTarget(card);
        					});
							player.logSkill('DIY_anguo',trigger.player);
							trigger.player.chooseUseTarget(equip,true);
						},
						sub:true,
					},
				},
			},
			"DIY_zhuifeng":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
				trigger:{
					player:["loseAfter","loseHpAfter","damageEnd"],
                    global:["equipAfter","addJudgeAfter","gainAfter","loseAsyncAfter","addToExpansionAfter"],
				},
				mark:true,
                intro:{
                    content:function(storage,player){
                        var num=player.getHistory('custom',function(evt){
                            return evt.DIY_zhuifeng==true;
                        }).length;
                        if(num==0){
                            str='æœ¬å›åˆæœªå‘åŠ¨è¿‡ã€–æ¤é”‹ã€—';
                        }
                        else{
                            str='æœ¬å›åˆå·²æœªå‘åŠ¨è¿‡'+get.translation(num)+'æ¬¡ã€–æ¤é”‹ã€—';
                        }
                        return str;
                    },
                },
				direct:true,
				filter:function(event,player){
					var num=player.getHistory('custom',function(evt){
                    	return evt.DIY_zhuifeng==true;
                	}).length;
					if(event.name=='loseHp'&&event.player==player) return event.num>num;
					if(event.name=='damage'&&event.player==player) return event.num>num;
					var evt=event.getl(player);
        			return evt&&evt.cards2&&evt.cards2.length>num;
    			},
				content:function(){
					'step 0'
					player.chooseTarget(get.prompt('DIY_zhuifeng'),'æ˜¯å¦è§†ä¸ºä½¿ç”¨ä¸€å¼ å†³æ–—ï¼Ÿ',function(card,player,target){
                		return lib.filter.targetEnabled({name:'juedou'},player,target);
            		}).set('ai',function(target){
                		return get.effect(target,{name:'juedou'},_status.event.player);
            		});
					'step 1'
					if(result.bool){
						player.getHistory('custom').push({DIY_zhuifeng:true});
						player.addMark('DIY_zhuifeng',1,false);
						player.logSkill('DIY_zhuifeng',result.targets);
						player.useCard({name:'juedou'},result.targets);
					}
				},
				group:"DIY_zhuifeng_mark",
				subSkill:{
					mark:{
						trigger:{
        					global:"phaseEnd",
    					},
    					silent:true,
    					filter:function(event,player){
        					return player.countMark("DIY_zhuifeng")>0;
    					},
    					content:function(){
        					player.removeMark('DIY_zhuifeng',Infinity,false);
    					},
    					forced:true,
    					popup:false,
					},
				},
			},
			"DIY_chongjian":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:3",
				trigger:{
					player:"useCardToPlayered",
				},
				direct:true,
				filter:function(event,player){
					if(!player.countDiscardableCards(player,'he')) return false;
        			if(event.getParent().triggeredTargets3.length>1) return false;
        			if(get.tag(event.card,'damage')) return true;
        			return false;
    			},
				content:function(){
					'step 0'
					var next=player.chooseCard(get.prompt2('DIY_chongjian'),'he',[1,player.countCards('he')]);
        			next.ai=function(card){
            			if(ui.selected.cards.length>player.getHistory('custom',function(evt){
                    		return evt.DIY_zhuifeng==true;
                		}).length) return 0;
            			return 6-get.value(card);
        			};
					'step 1'
					if(result.bool){
						player.logSkill('DIY_chongjian',trigger.targets);
            			event.num=result.cards.length;
						event.cards=result.cards;
        			}
					else{
						event.finish();
					}
					'step 2'
					for(var i=0;i<trigger.targets.length;i++){
						var target=trigger.targets[i];
						if(target.countDiscardableCards(player,'he')>0) player.discardPlayerCard('å†²åšï¼šä½ å¯ä»¥å¼ƒç½®'+get.translation(target)+'è‡³å¤š'+get.cnNumber(event.num)+'å¼ ç‰Œ',target,'he',[0,event.num]);
					}
					'step 3'
					player.discard(event.cards);
					trigger.getParent().baseDamage++;
				},
			},
			"DIY_pindi":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
    			enable:"phaseUse",
    			filter:function(event,player){
        			return player.countCards('he')>=(player.getStat('skill').DIY_pindi||0);
    			},
				filterTarget:function(card,player,target){
        			if(player.storage.DIY_pindi_target&&
            			player.storage.DIY_pindi_target.contains(target)){
            			return false;
        			}
        			return true;
    			},
    			selectCard:function(){
        			return (_status.event.player.getStat('skill').DIY_pindi||0);
    			},
    			prompt:function(){
        			return 'å¼ƒç½®'+get.cnNumber(_status.event.player.getStat('skill').DIY_pindi||0)+'å¼ ç‰Œå¹¶ä»¤ä¸€åè§’è‰²æ‘¸/å¼ƒç½®'+get.cnNumber(_status.event.player.getStat('skill').DIY_pindi+1||1)+'å¼ ç‰Œ';
    			},
    			check:function(card){
        			var num=_status.event.player.getStat('skill').DIY_pindi||0;
        			return 6+num-get.value(card);
    			},
    			filterCard:true,
    			position:"he",
    			content:function(){
        			'step 0'
					if(!player.storage.DIY_pindi_target){
            			player.storage.DIY_pindi_target=[];
        			}
					player.storage.DIY_pindi_target.push(target);
					event.num=player.getStat('skill').DIY_pindi;
					var evt=_status.event.getParent('phase');
        			if(evt&&evt.name=='phase'&&!evt.DIY_pindi){
            			var next=game.createEvent('rerende_clear');
            			_status.event.next.remove(next);
            			evt.after.push(next);
            			evt.DIY_pindi=true;
            			next.player=player;
            			next.setContent(lib.skill.DIY_pindi_clear.content);
        			}
        			player.syncStorage();
					if(target.countCards('he')==0) event._result={index:0};
					else{
						player.chooseControlList([
						    'ä»¤'+get.translation(target)+'æ‘¸'+get.cnNumber(event.num)+'å¼ ç‰Œ',
							'ä»¤'+get.translation(target)+'å¼ƒç½®'+get.cnNumber(event.num)+'å¼ ç‰Œ'
					    ],function(){
                		    return _status.event.choice;
            		    }).set('choice',get.attitude(player,target)>0?0:1);
    			    }
					'step 1'
        			if(result.index==0){
            			target.draw(event.num);
        			}
        			else{
            			target.chooseToDiscard(event.num,'he',true);
        			}
				},
				subSkill:{
					clear:{
						trigger:{
                			player:"phaseAfter",
            			},
            			silent:true,
            			content:function(){
                			delete player.storage.DIY_pindi_target;
            			},
            			sub:true,
            			forced:true,
            			popup:false,
					},
				},
				ai:{
					order:8,
					result:{
            			target:function(player,target){
                			var att=get.attitude(player,target);
                			var num=(player.getStat('skill').DIY_pindi||0)+1;
                			if(att<=0&&target.countCards('he')<num) return 0;
                			return att*num;
            			},
        			},
				},
			},
			"DIY_faen":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				trigger:{
                    global:["dying","loseAfter"],
                },
				filter:function(event,player){
		if(event.name=='dying') return true;
		if(event.player.countCards('h')) return false;
        return event.hs&&event.hs.length>0&&event.player.isAlive();
    },
				check:function(event,player){
        return get.attitude(player,event.player)>0;
    },
	            content:function(){
        player.line(trigger.player,'green');
        trigger.player.draw();
    },
			},
			"DIY_shangyi":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				enable:"phaseUse",
    			usable:1,
    			filter:function(event,player){
        			return player.countCards('he')>0&&game.hasPlayer((current)=>lib.skill.DIY_shangyi.filterTarget(null,player,current));
    			},
    			filterTarget:function(card,player,target){
        			return target!=player&&target.countCards('h')>0;
    			},
    			content:function(){
					'step 0'
        			target.viewHandcards(player);
					player.viewHandcards(target);
					'step 1'
					var list=[];
        			if(player.countCards('h',{color:'red'})) list.push('çº¢è‰²');
        			if(player.countCards('h',{color:'black'})) list.push('é»‘è‰²');
					list.push('cancel2');
        			player.chooseControl(list).set('prompt','å°šä¹‰:ä½ å¯ä»¥ç”¨ä¸€ç§é¢œè‰²çš„æ‰‹ç‰Œäº¤æ¢'+get.translation(target)+'åŒºåŸŸå†…ä»»æ„å¼ ä¸åŒé¢œè‰²çš„ç‰Œ').set('ai',function(){
						var player=_status.event.player;
						if(player.countCards('h',{color:'red'})==1&&player.countCards('h',{color:'black'})>1) return 'çº¢è‰²';
            			if(player.countCards('h',{color:'black'})) return 'é»‘è‰²';
						return 'cancel2';
        			});
					'step 2'
					if(result.control!='cancel2'){
					    event.control=result.control;
        			    if(event.control=='çº¢è‰²'){
            			    event.cards1=player.getCards('h',{color:'red'});
							event.color='black';
							event.cards2=target.getCards('hej',{color:'black'});
        			    }
        			    else{
            			    event.cards1=player.getCards('h',{color:'black'});
							event.color='red';
							event.cards2=target.getCards('hej',{color:'red'});
        			    }
					}
					else{
						event.finish();
					}
					'step 3'
					player.chooseCardButton('ã€å°šä¹‰ã€‘ï¼šç”¨'+get.translation(event.cards1)+'äº¤æ¢'+get.translation(target)+'åŒºåŸŸå†…ä»»æ„å¼ '+get.translation(event.color)+'ç‰Œ',event.cards2,[0,Infinity]).set('ai',function(button){
            			return get.value(button.link);
        			});
					'step 4'
					if(result.bool){
						game.log(player,'ç”¨',get.cnNumber(event.cards1.length),'å¼ ',event.control,'ç‰Œäº¤æ¢äº†',target,'çš„',get.cnNumber(result.links.length),'å¼ ',get.translation(event.color),'ç‰Œ');
						player.gain(result.links);
						player.$gain2(result.links);
						target.gain(event.cards1);
						target.$gain2(event.cards1);
					}
				},
				ai:{
        			order:6,
        			result:{
            			player:0.5,
            			target:function(player,target){
                			if(target.hasSkillTag('noh')) return 0;
                			return -1;
            			},
        			},
    			},
			},
			"DIY_xiangyu":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				mod:{
					attackRange:function(player,num){
						var num2=0;
						var previous=player.getPrevious();
						var next=player.getNext();
						if(previous.hp<=player.hp&&next.hp<=player.hp) num2++;
						if(previous.countCards('h')<player.countCards('h')&&next.countCards('h')<player.countCards('h')) num2++;
						if(previous.countCards('ej')<player.countCards('ej')&&next.countCards('ej')<player.countCards('ej')) num2++;
                        return num+num2;
                    },
				},
				trigger:{
        			player:"useCardToPlayered",
    			},
    			forced:true,
    			filter:function(event,player){
        			return event.card.name=='sha'&&!event.getParent().directHit.contains(event.target);
    			},
    			logTarget:"target",
    			content:function(){
					var num=0;
					var previous=player.getPrevious();
					var next=player.getNext();
					if(previous.hp<=player.hp&&next.hp<=player.hp) num++;
					if(previous.countCards('h')<player.countCards('h')&&next.countCards('h')<player.countCards('h')) num++;
					if(previous.countCards('ej')<player.countCards('ej')&&next.countCards('ej')<player.countCards('ej')) num++;
        			var id=trigger.target.playerid;
        			var map=trigger.getParent().customArgs;
        			if(!map[id]) map[id]={};
        			if(typeof map[id].shanRequired=='number'){
            			map[id].shanRequired+=num;
        			}
        			else{
            			map[id].shanRequired=num+1;
        			}
					game.log(trigger.target,'éœ€è¦é¢å¤–ä½¿ç”¨',get.cnNumber(num),'å¼ ','#yã€é—ªã€‘','æ¥æŠµæ¶ˆ',player,'ä½¿ç”¨çš„',trigger.card);
    			},
    			ai:{
        			"directHit_ai":true,
        			skillTagFilter:function(player,tag,arg){
            			if(arg.card.name!='sha'||arg.target.countCards('h','shan')>1) return false;
        			},
    			},
			},
			"DIY_fuhai":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				enable:"phaseUse",
				filter:function(event,player){
					var previous=player.getPrevious();
					var next=player.getNext();
					if(previous.getHistory('custom',function(evt){
            			return evt.DIY_fuhai_target==true;
        			}).length>1&&next.getHistory('custom',function(evt){
            			return evt.DIY_fuhai_target==true;
        			}).length>1) return false;
        			return player.countCards('h')>0&&player.canCompare(previous)&&player.canCompare(next);
    			},
				multitarget:true,
    			multiline:true,
				content:function(){
					'step 0'
					event.background=ui.background.style.backgroundImage;
					event.targets=game.filterPlayer(function(current){
						if(!player.canCompare(current)) return false;
						if(current.getHistory('custom',function(evt){
            				return evt.DIY_fuhai_target==true;
        				}).length>1) return false;
                		return current==player.getPrevious()||current==player.getNext();
            		});
					player.getHistory('custom').push({DIY_fuhai:true});
					for(var i=0;i<event.targets.length;i++){
						event.targets[i].getHistory('custom').push({DIY_fuhai_target:true});
					}
					'step 1'
					player.line(event.targets,'green');
					ui.background.setBackgroundImage('extension/å¤©ç‰¢ä»¤/fuhai.gif');
					ui.background.setBackgroundImage(ui.background.style.backgroundImage);
        			player.chooseToCompare(event.targets).callback=lib.skill.DIY_fuhai.callback;
					'step 2'
					event.num1=player.storage.DIY_fuhai_number;
					event.num2=event.targets[0].storage.DIY_fuhai_number;
					if(event.targets.length>1){
						event.num3=event.targets[1].storage.DIY_fuhai_number;
					}
					else{
						event.num3=999;
					}
					'step 3'
					if(event.num1<event.num2&&event.num1<event.num3){
						player.popup('æ½®è½','orange');
						for(var i=0;i<event.targets.length;i++){
						        event.targets[i].popup('æ½®èµ·','green');
					        }
						player.draw(player.getHistory('custom',function(evt){
            				return evt.DIY_fuhai==true;
        				}).length);
						ui.background.style.backgroundImage=event.background;
						event.finish();
					}
					else{
						if(event.num2<event.num3){
							player.popup('æ½®èµ·','wood');
							player.line(event.targets[0],'green');
							event.targets[0].popup('æ½®è½','orange');
							game.broadcastAll(function(target1,target2){
            					game.swapSeat(target1,target2);
        					},player,event.targets[0]);
							player.gain(event.targets[0].storage.DIY_fuhai_card,'gain2','log');
							ui.background.style.backgroundImage=event.background;
							event.finish();
						}
						if(event.num2>event.num3){
							player.popup('æ½®èµ·','wood');
							player.line(event.targets[1],'green');
							event.targets[1].popup('æ½®è½','orange');
							game.broadcastAll(function(target1,target2){
            					game.swapSeat(target1,target2);
        					},player,event.targets[1]);
							player.gain(event.targets[1].storage.DIY_fuhai_card,'gain2','log');
							ui.background.style.backgroundImage=event.background;
							event.finish();
						}
						if(event.num2==event.num3){
							player.popup('æ½®èµ·','wood');
							player.line(event.targets,'green');
							for(var i=0;i<event.targets.length;i++){
						        event.targets[i].popup('æ½®è½','orange');
					        }
							player.chooseTarget('æµ®æµ·ï¼šè¯·é€‰æ‹©è¦äº¤æ¢åº§ä½çš„è§’è‰²',true,function(card,player,target){
                				return event.targets.contains(target);
            				}).set('ai',function(target){
                				return Math.random();
            				});
						}
					}
					'step 4'
					if(result.bool){
						game.broadcastAll(function(target1,target2){
            				game.swapSeat(target1,target2);
        				},player,result.targets[0]);
						if(result.targets[0]==event.targets[0]){
							player.gain(event.targets[0].storage.DIY_fuhai_card,'gain2','log');
						}
						else{
							player.gain(event.targets[1].storage.DIY_fuhai_card,'gain2','log');
						}
					}
					ui.background.style.backgroundImage=event.background;
    			},
				callback:function(){
					player.storage.DIY_fuhai_number=event.num1;
					player.storage.DIY_fuhai_card=event.card1;
					target.storage.DIY_fuhai_number=event.num2;
					target.storage.DIY_fuhai_card=event.card2;
				},
				group:"DIY_fuhai_compare",
				subSkill:{
					compare:{
						audio:"DIY_fuhai",
						trigger:{
        					player:"compare",
        					target:"compare",
    					},
    					filter:function(event,player){
        					return event.num1==event.num2;
    					},
    					direct:true,
						content:function(){
							player.logSkill('DIY_fuhai_compare');
							if(trigger.player!=player){
								if(trigger.num1<13){
									trigger.num1++;
									game.log(trigger.player,'çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°+1');
								}
								else{
									trigger.num2--;
									game.log(player,'çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°-1');
								}
							}
							else{
								if(trigger.num2<13){
									trigger.num2++;
									game.log(trigger.target,'çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°+1');
								}
								else{
									trigger.num1--;
									game.log(trigger.player,'çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°-1');
								}
							}
						},
					},
				},
				ai:{
        		    order:7,
				},
			},
			"DIY_yinghun":{
				audio:"ext:å¤©ç‰¢ä»¤/image/audio:2",
				trigger:{
					player:["damageEnd","phaseZhunbeiBegin"],
					global:"roundStart",
				},
				round:1,
				forceDie:true,
				direct:true,
    			preHidden:true,
				filter:function(event,player){
					if(event.name=='damage'||event.name=='phaseZhunbei') return player.maxHp>0;
        			return game.roundNumber>1&&player.maxHp>0;
    			},
    			content:function(){
					'step 0'
					var str='ä½ å¯ä»¥<u>å¤±å»1ç‚¹ä½“åŠ›</u>å¹¶ä»¤ä¸€åå…¶ä»–è§’è‰²æ‰§è¡Œä¸€é¡¹:<br>â‘ æ‘¸ä¸€å¼ ç‰Œå¹¶å¼ƒç½®Xå¼ ç‰Œ;â‘¡æ‘¸Xå¼ ç‰Œå¹¶å¼ƒç½®ä¸€å¼ ç‰Œã€‚ï¼ˆXä¸ºä½ çš„å·²æŸä½“åŠ›å€¼ï¼‰';
					if(!player.isAlive()){
						str='ä½ å¯ä»¥<u>å‡1ç‚¹ä½“åŠ›ä¸Šé™</u>å¹¶ä»¤ä¸€åå…¶ä»–è§’è‰²æ‰§è¡Œä¸€é¡¹:<br>â‘ æ‘¸ä¸€å¼ ç‰Œå¹¶å¼ƒç½®Xå¼ ç‰Œ;â‘¡æ‘¸Xå¼ ç‰Œå¹¶å¼ƒç½®ä¸€å¼ ç‰Œã€‚ï¼ˆXä¸ºä½ çš„å·²æŸä½“åŠ›å€¼ï¼‰';
					}
        			player.chooseTarget(get.prompt('DIY_yinghun'),str,function(card,player,target){
            			return player!=target;
        			}).set('ai',function(target){
            			var player=_status.event.player;
            			if(player.getDamagedHp()==1&&target.countCards('he')==0){
                			return 0;
            			}
            			if(get.attitude(_status.event.player,target)>0){
                			return 10+get.attitude(_status.event.player,target);
            			}
            			if(player.getDamagedHp()==1){
                			return -1;
            			}
            			return 1;
        			}).setHiddenSkill(event.name);
					'step 1'
					if(result.bool){
						event.num=player.getDamagedHp();
						if(player.isAlive()){
							player.loseHp();
							event.num++;
						}
						else{
							player.maxHp--;
							player.update();
							event.num--;
						}
            			player.logSkill(event.name,result.targets);
            			event.target=result.targets[0];
            			if(event.num==1){
                			event.directcontrol=true;
            			}
            			else{
                			var str1='æ‘¸'+get.cnNumber(event.num,true)+'å¼ƒä¸€';
                			var str2='æ‘¸ä¸€å¼ƒ'+get.cnNumber(event.num,true);
                			player.chooseControl(str1,str2,function(event,player){
                    			return _status.event.choice;
                			}).set('prompt','è‹±é­‚ï¼šè¯·é€‰æ‹©ä¸€é¡¹').set("displayIndex", false).set('choiceList',[
                    			'ä»¤'+get.translation(event.target)+'æ‘¸'+get.cnNumber(event.num,true)+'å¼ƒä¸€',
                    			'ä»¤'+get.translation(event.target)+'æ‘¸ä¸€å¼ƒ'+get.cnNumber(event.num,true),
                            ]).set('choice',get.attitude(player,event.target)>0?str1:str2);
                			event.str=str1;
            			}
        			}
        			else{
            			event.finish();
        			}
					'step 2'
					if(event.directcontrol||result.control==event.str){
            			event.target.draw(event.num);
            			event.target.chooseToDiscard(true,'he');
        			}
        			else{
            			event.target.draw();
            			event.target.chooseToDiscard(event.num,true,'he');
        			}
				},
				ai:{
        			threaten:function(player,target){
						if(target.isAlive()){
            			    if(target.getDamagedHp()==0) return 0.5;
            			    if(target.getDamagedHp()==1) return 1;
            			    if(target.getDamagedHp()==2) return 1.5;
            			    return 2;
						}
        			},
    			},
			},
        },
        dynamicTranslate:{
            "DIY_yizan_info":function(player){
                if(!player.storage.DIY_yizan) return 'ä½ å¯ä»¥å°†ä¸€å¼ åŸºæœ¬ç‰Œå½“åšä»»æ„ä¸€å¼ åŸºæœ¬ç‰Œæ‰“å‡ºæˆ–ä½¿ç”¨ã€‚';
                return 'ä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“åšä»»æ„ä¸€å¼ åŸºæœ¬ç‰Œæ‰“å‡ºæˆ–ä½¿ç”¨ã€‚';
            },
            "DIY_bazhen_info":function(player){
                if(player.isEmpty(2)) return 'é”å®šæŠ€ï¼Œä½ è§†ä¸ºè£…å¤‡ç€ã€å…«å¦é˜µã€‘ã€‚';
                return 'é”å®šæŠ€ï¼Œä½ è§†ä¸ºè£…å¤‡ç€ã€å…ˆå¤©å…«å¦é˜µã€‘ã€‚';
            },
            "DIY_chuhai":function(player){
                if(player.storage.DIY_xianghai) return 'å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³æˆ–ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä½ é€ æˆ1ç‚¹ä¼¤å®³ã€‚';
                return 'å‰©ä½™å¯ç”¨3æ¬¡ã€‚å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒXå¼ ç‰Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³æˆ–ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒXå¼ ç‰Œå¹¶å¯¹ä½ é€ æˆä¸€ç‚¹ä¼¤å®³ï¼ˆXä¸ºæ­¤æŠ€èƒ½å‘åŠ¨æ¬¡æ•°+1ï¼‰ã€‚';
            },
        },
        translate:{
            "DIY_jijun":"é›†å†›",
            "DIY_jijun_info":"é”å®šæŠ€ï¼Œâ‘ å½“ä½ ä½¿ç”¨ç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥è¿›è¡Œåˆ¤å®šï¼›â‘¡ä½ å°†ä½ çš„åˆ¤å®šç‰Œç½®äºæ­¦å°†ç‰Œä¸Šç§°ä¸ºâ€œæ–¹â€ã€‚",
            "DIY_fangtong":"æ–¹ç»Ÿ",
            "DIY_fangtong_info":"ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®æ€»ç‚¹æ•°ä¹‹å’Œä¸º36çš„ä¸€å¼ ç‰Œä¸ä»»æ„å¼ ã€Œæ–¹ã€ï¼Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ3ç‚¹é›·ç”µä¼¤å®³ã€‚",
            "DIY_guanchao":"è§‚æ½®",
            "DIY_guanchao_info":"å½“ä½ ä½¿ç”¨ç‰Œæ—¶ï¼Œè‹¥ä½ æ­¤é˜¶æ®µä½¿ç”¨è¿‡çš„æ‰€æœ‰ç‰Œçš„ç‚¹æ•°ä¸ºé€’å¢/é€’å‡ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_guanchao_dizeng":"è§‚æ½®",
            "DIY_guanchao_dizeng_info":"",
            "DIY_guanchao_dijian":"è§‚æ½®",
            "DIY_guanchao_dijian_info":"",
            "DIY_xunxian":"é€Šè´¤",
            "DIY_xunxian_info":"æ¯å›åˆæ¯ç§ç‰Œåé™ä¸€æ¬¡ï¼Œå½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºçš„ç‰Œç»“ç®—å®Œæˆåï¼Œä½ å¯ä»¥å°†æ­¤ç‰Œå¯¹åº”çš„æ‰€æœ‰å®ä½“ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²,è‹¥æ­¤æ—¶ä¸æ˜¯ä½ çš„å›åˆï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_funan":"å¤éš¾",
            "DIY_funan_info":"å…¶ä»–è§’è‰²ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œå“åº”ä½ ä½¿ç”¨çš„ç‰Œæ—¶ï¼Œä½ è·å¾—å…¶ä½¿ç”¨æˆ–æ‰“å‡ºçš„ç‰Œã€‚",
            "DIY_xunjie":"è®­è¯«",
            "DIY_xunjie_info":"ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¤ä¸€åå…¶ä»–è§’è‰²æ‘¸ç­‰åŒäºåœºä¸Šæ–¹å—ç‰Œæ•°çš„ç‰Œï¼Œç„¶åå¼ƒç½®Xå¼ ç‰Œï¼ˆXä¸ºæ­¤å‰è¯¥æŠ€èƒ½å‘åŠ¨è¿‡çš„æ¬¡æ•°ï¼‰ã€‚è‹¥æœ‰è§’è‰²å› æ­¤æ³•å¼ƒç½®äº†æ‰€æœ‰ç‰Œï¼Œåˆ™ä½ å‘åŠ¨ã€–è®­è¯«ã€—æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼ˆå¯å åŠ ï¼‰ã€‚",
            "DIY_jianyan":"èè¨€",
            "DIY_jianyan_info":"å‡ºç‰Œé˜¶æ®µæ¯ç§ç±»åˆ«é™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å£°æ˜ä¸€ç§ç‰Œçš„ç±»åˆ«æˆ–é¢œè‰²ï¼Œå¹¶äº®å‡ºç‰Œåº“ä¸­ç¬¬ä¸€å¼ ç¬¦åˆä½ å£°æ˜çš„ç‰Œï¼Œç„¶åä½ ä»¤ä¸€åè§’è‰²è·å¾—æ­¤ç‰Œã€‚",
            "DIY_zhuhai":"è¯›å®³",
            "DIY_zhuhai_info":"ä¸€åå…¶ä»–è§’è‰²çš„ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥å…¶äºæ­¤å›åˆå†…ä½¿ç”¨è¿‡æŒ‡å®šå…¶ä»–è§’è‰²ä¸ºç›®æ ‡çš„ç‰Œï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_qianya":"è°¦é›…",
            "DIY_qianya_info":"å½“ä½ æˆä¸ºé”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å±•ç¤ºXå¼ ç‰Œï¼Œå¹¶å°†å…¶äº¤ç»™ä¸€åè§’è‰²ï¼ˆXä¸ºæ­¤ç‰Œç›®æ ‡æ•°ä¸”è‡³å¤šä¸º3ï¼‰ã€‚",
            "DIY_shuomeng":"è¯´ç›Ÿ",
            "DIY_shuomeng_info":"â‘ å‡ºç‰Œé˜¶æ®µå¼€å§‹/ç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä¸ä¸€åè§’è‰²æ‹¼ç‚¹ã€‚<br>â‘¡é”å®šæŠ€ï¼Œå½“ä½ æ‹¼ç‚¹èµ¢æ—¶ï¼Œè§†ä¸ºä½ ä½¿ç”¨ã€æ— ä¸­ç”Ÿæœ‰ã€‘ï¼›å½“ä½ æ‹¼ç‚¹æ²¡èµ¢æ—¶ï¼Œè§†ä¸ºæ‹¼ç‚¹å‘èµ·äººå¯¹ä½ ä½¿ç”¨ã€è¿‡æ²³æ‹†æ¡¥ã€‘ã€‚",
            "DIY_shuomeng2":"è¯´ç›Ÿ",
            "DIY_shuomeng2_info":"",
            "DIY_zhenyong":"å¾è£",
            "DIY_zhenyong_info":"å½“ä½ ä½¿ç”¨ä¸€å¼ éè£…å¤‡ç‰ŒæŒ‡å®šç›®æ ‡åï¼Œä½ è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºé»‘è‰²ï¼Œä½ å¯ä»¥å°†å…¶ä¸­ä¸€åå…¶ä»–è§’è‰²çš„ä¸€å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºã€Œè£ã€ã€‚",
            "DIY_hongju":"é¸¿ä¸¾",
            "DIY_hongju_info":"è§‰é†’æŠ€ï¼Œå‡†å¤‡é˜¶æ®µï¼Œè‹¥ä½ æ­¦å°†ç‰Œä¸Šã€Œè£ã€çš„æ•°é‡ä¸å°äº3ã€‚ä½ å¯ä»¥ç”¨ä»»æ„æ•°é‡çš„æ‰‹ç‰Œäº¤æ¢ç­‰é‡çš„ã€Œè£ã€ã€‚ä½ å‡1ç‚¹ä½“åŠ›ä¸Šé™å¹¶ä¿®æ”¹ã€–å¾è£ã€—ç„¶åè·å¾—ã€–æ¸…ä¾§ã€—ã€‚",
            "DIY_qingce":"æ¸…ä¾§",
            "DIY_qingce_info":"å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æ­¦å°†ç‰Œä¸Šæœ‰ã€Œè£ã€ï¼Œä½ å¯ä»¥ç”¨ä»»æ„æ•°é‡çš„æ‰‹ç‰Œäº¤æ¢ç­‰é‡çš„ã€Œè£ã€å¹¶å°†æ‰€æœ‰æ‰‹ç‰Œè‡³äºæ­¦å°†ç‰Œä¸Šï¼Œç„¶åä»ç‰Œå †æˆ–å¼ƒç‰Œå †ä¸­éšæœºè·å¾—X(Xä¸ºã€Œè£ã€çš„æ•°é‡ä¸”ä¸å¤§äº8)å¼ ç‰Œåå„ä¸ç›¸åŒä¸”å‰¯ç±»åˆ«ä¸åŒçš„ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œç»“æŸé˜¶æ®µï¼Œä½ å¼ƒç½®æ‰€æœ‰ç‰Œå¹¶è·å¾—å› ã€–æ¸…ä¾§ã€—ç½®äºæ­¦å°†ç‰Œä¸Šçš„ç‰Œä¸”æœ¬å›åˆå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥ç”¨ä»»æ„æ•°é‡çš„æ‰‹ç‰Œäº¤æ¢ç­‰é‡çš„ã€Œè£ã€ã€‚",
            "DIY_qingce2":"",
            "DIY_qingce2_info":"",
            "DIY_qingce3":"",
            "DIY_qingce3_info":"",
            "DIY_qingce4":"æ¸…ä¾§",
            "DIY_qingce4_info":"",
            "DIY_yuanhu":"æ´æŠ¤",
            "DIY_yuanhu_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œå¹¶ä»¤ä¸€åè§’è‰²è£…å¤‡ä¸€å¼ ç‰Œï¼Œç„¶åæ ¹æ®æ­¤è£…å¤‡ç‰Œçš„ç±»å‹æ‰§è¡Œä»¥ä¸‹å¯¹åº”æ•ˆæœã€‚<br>æ­¦å™¨ç‰Œï¼šä½ å¼ƒç½®åœºä¸Šä¸€å¼ ç‰Œï¼›<br>é˜²å…·ç‰Œï¼šè¯¥è§’è‰²æ‘¸ä¸€å¼ ç‰Œï¼›<br>åéª‘ç‰Œï¼šè¯¥è§’è‰²å›å¤1ç‚¹ä½“åŠ›ï¼›<br>å®ç‰©ç‰Œï¼šè¯¥è§’è‰²æ‰‹ç‰Œä¸Šé™+1è‡³å…¶ä¸‹å›åˆç»“æŸã€‚",
            "DIY_yuanhu_equip5":"æ ¹æ®ä½ å› ã€–æ´æŠ¤ã€—çš„get.suit(cards)ï¼Œtarget[0]ä½¿ç”¨ä¸€å¼ ï¼š",
            "DIY_yuanhu_equip5_info":"<br>â™ â†’æ­¦å™¨ç‰Œï¼›<br>â™¥â†’é˜²å…·ç‰Œï¼›<br>â™¦â†’åéª‘ç‰Œï¼›<br>â™£â†’å®ç‰©ç‰Œã€‚",
            "DIY_yuanhu2":"æ´æŠ¤",
            "DIY_yuanhu2_info":"",
            "DIY_bizhuan":"è¾Ÿæ’°",
            "DIY_bizhuan_info":"å½“ä½ ä½¿ç”¨é»‘è‰²ç‰Œåï¼Œæˆ–ä½ æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨é»‘è‰²ç‰Œçš„ç›®æ ‡åï¼Œä½ å¯ä»¥å°†ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºâ€œä¹¦â€ï¼›ä½ æ¯æœ‰ä¸€å¼ â€œä¹¦â€ ï¼Œæ‰‹ç‰Œä¸Šé™+1",
            "DIY_tongbo":"é€šåš",
            "DIY_tongbo_info":"æ‘¸ç‰Œé˜¶æ®µæ‘¸ç‰Œåï¼Œä½ å¯ä»¥ç”¨ä»»æ„å¼ ç‰Œæ›¿æ¢ç­‰é‡çš„â€œä¹¦â€ï¼Œç„¶åè‹¥ä½ çš„â€œä¹¦â€åŒ…å«å››ç§èŠ±è‰²ï¼Œä½ å°†æ‰€æœ‰â€œä¹¦â€äº¤ç»™ä¸€åè§’è‰²",
            "DIY_jieying":"èŠ‚åº”",
            "DIY_jieying_info":"å›åˆå¼€å§‹æ—¶ï¼Œè‹¥åœºä¸Šæ²¡æœ‰æ‹¥æœ‰â€œèŠ‚â€æ ‡è®°çš„è§’è‰²ï¼Œä½ è·å¾—1ä¸ªâ€œèŠ‚â€æ ‡è®°ï¼›ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä½ çš„ä¸€ä¸ªâ€œèŠ‚â€æ ‡è®°äº¤ç»™ä¸€åè§’è‰²ï¼›æœ‰â€œèŠ‚â€æ ‡è®°çš„è§’è‰²ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œæ— è·ç¦»é™åˆ¶ä¸”å¯å¤šæŒ‡å®šä¸€ä¸ªç›®æ ‡ï¼Œä¸”å½“å…¶é€ æˆä¼¤å®³åï¼Œè‹¥å…¶æ²¡æœ‰ã€–èŠ‚åº”ã€—ï¼Œå…¶æ— æ³•å†ä½¿ç”¨ç‰Œç›´åˆ°å›åˆç»“æŸã€‚æœ‰â€œèŠ‚â€çš„å…¶ä»–è§’è‰²å›åˆç»“æŸæ—¶ï¼Œå…¶ç§»å»â€œèŠ‚â€æ ‡è®°ï¼Œç„¶åä½ è·å¾—å…¶æ‰€æœ‰æ‰‹ç‰Œã€‚",
            "DIY_weipo":"å±è¿«",
            "DIY_weipo_info":"é”å®šæŠ€ï¼Œå…¶ä»–è§’è‰²ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰ŒæŒ‡å®šä½ ä¸ºç›®æ ‡åï¼Œè‹¥ä½ çš„æ‰‹ç‰Œæ•°å°äºXï¼Œåˆ™ä½ å°†æ‰‹ç‰Œæ‘¸è‡³Xå¼ ï¼Œå¹¶è®°å½•æ‘¸ç‰Œäº‹ä»¶ç»“ç®—åçš„æ‰‹ç‰Œæ•°Yã€‚æ­¤ç‰Œç»“ç®—ç»“æŸåï¼Œè‹¥ä½ çš„æ‰‹ç‰Œæ•°å°äºYï¼Œåˆ™ä½ å°†ä¸€å¼ æ‰‹ç‰Œäº¤ç»™æ­¤ç‰Œçš„ä½¿ç”¨è€…ã€‚ï¼ˆXä¸ºä½ çš„ä½“åŠ›ä¸Šé™ä¸”è‡³å¤šä¸º5ï¼‰ ",
            "DIY_jieying_mark":"èŠ‚åº”",
            "DIY_jieying_mark_info":"",
            "DIY_jieying_mark2":"èŠ‚åº”",
            "DIY_jieying_mark2_info":"",
            "DIY_jieying_mark3":"èŠ‚åº”",
            "DIY_jieying_mark3_info":"",
            "DIY_juzhan":"æ‹’æˆ˜",
            "DIY_juzhan_info":"â‘ å½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ã€æ€ã€‘/ä¼¤å®³æ€§é”¦å›Šçš„ç›®æ ‡åï¼Œä½ å¯ä»¥ä¸å…¶å„æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå…¶æœ¬å›åˆå†…ä¸èƒ½å†å¯¹ä½ ä½¿ç”¨ç‰Œã€‚<br>â‘¡å½“ä½ ä½¿ç”¨ã€æ€ã€‘/ä¼¤å®³æ€§é”¦å›ŠæŒ‡å®šä¸€åè§’è‰²ä¸ºç›®æ ‡åï¼Œä½ å¯ä»¥è·å¾—å…¶ä¸€å¼ ç‰Œï¼Œç„¶åä½ æœ¬å›åˆå†…ä¸èƒ½å†å¯¹å…¶ä½¿ç”¨ç‰Œã€‚",
            "DIY_yaoming":"é‚€å",
            "DIY_yaoming_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œå½“ä½ é€ æˆæˆ–å—åˆ°ä¼¤å®³åï¼Œä½ æ‘¸Xå¼ ç‰Œç„¶åæ‰§è¡Œç¬¬Xé¡¹ï¼šâ‘ . ä½ æ‘¸ä¸€å¼ ç‰Œï¼›â‘¡. å¼ƒç½®ä¸€åå…¶ä»–è§’è‰²ä¸€å¼ ç‰Œï¼›â‘¢.ä»¤ä¸€åå…¶ä»–è§’è‰²å¤±å»ä¸€ç‚¹ä½“åŠ›ï¼›â‘£.ä»¤ä¸€åå…¶ä»–è§’è‰²æ¨ªç½®ï¼›â‘¤.ä»¤ä¸€åå…¶ä»–è§’è‰²ç¿»é¢ã€‚ï¼ˆXä¸ºä½ æœ¬è½®é€ æˆ/å—åˆ°ä¼¤å®³æ¬¡æ•°ä¸”è‡³å¤šä¸º5ï¼‰",
            "DIY_shuangren":"åŒåˆƒ",
            "DIY_shuangren_info":"â‘ å‡ºç‰Œé˜¶æ®µå¼€å§‹/ç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä¸ä¸€åè§’è‰²æ‹¼ç‚¹ã€‚<br>â‘¡é”å®šæŠ€ï¼Œå½“ä½ æ‹¼ç‚¹èµ¢æ—¶ï¼Œä½ è§†ä¸ºå¯¹ä»»æ„ä¸€åè§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼ˆä¸è®¡å…¥æ¬¡æ•°é™åˆ¶ï¼‰ï¼›å½“ä½ æ‹¼ç‚¹è¾“æ—¶ï¼Œä½ è§†ä¸ºå¯¹ä»»æ„ä¸€åè§’è‰²ä½¿ç”¨ä¸€å¼ ã€å†³æ–—ã€‘ã€‚",
            "DIY_shuangren_sha":"åŒåˆƒ",
            "DIY_shuangren_sha_info":"",
            "DIY_zhenwei":"é•‡å«",
            "DIY_zhenwei_info":"è½¬åŒ–æŠ€ï¼Œå½“ä¸€åè§’è‰²æˆä¸ºã€æ€ã€‘æˆ–é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼ˆä½¿ç”¨è€…ä¸æ˜¯ä½ ï¼‰ï¼Œè‹¥æ­¤ç‰Œçš„ç›®æ ‡è§’è‰²æ•°ä¸º1ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œï¼Œç„¶åâ‘ æ‘¸ä¸€å¼ ç‰Œï¼Œå°†ç‰Œè½¬ç§»ç»™ä½ ï¼›â‘¡ä»¤æ­¤ç‰Œæ— æ•ˆã€‚",
            "DIY_jianxiang":"èé™",
            "DIY_jianxiang_info":"å½“åœºä¸Šæ‰‹ç‰Œæ•°ä¸ºæœ€å€¼çš„ä¸€åè§’è‰²æˆä¸ºç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_shenshi":"å®¡æ—¶",
            "DIY_shenshi_info":"è½¬æ¢æŠ€ï¼Œé˜³ï¼šä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œä¸Šä¸€å¼ ä½¿ç”¨çš„åŸºæœ¬ç‰Œä½¿ç”¨ï¼›é˜´ï¼šä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œä¸Šä¸€å¼ ä½¿ç”¨çš„æ™®é€šé”¦å›Šç‰Œä½¿ç”¨ã€‚",
            "DIY_jixu":"å‡»è™š",
            "DIY_jixu_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¤è‡³å°‘ä¸€åå…¶ä»–è§’è‰²å„çŒœæµ‹ä½ çš„æ‰‹ç‰ŒåŒºé‡Œæ˜¯å¦æœ‰ã€æ€ã€‘ã€‚ç³»ç»Ÿå…¬å¸ƒè¿™äº›è§’è‰²å„è‡ªçš„é€‰æ‹©å’ŒçŒœæµ‹ç»“æœã€‚è‹¥ä½ çš„æ‰‹ç‰ŒåŒºé‡Œï¼š<br>æœ‰ã€æ€ã€‘ï¼Œä½ æœ¬å›åˆä½¿ç”¨ã€æ€ã€‘çš„ä¸Šé™+Xï¼Œä¸”å½“ä½ äºæ­¤é˜¶æ®µå†…ä½¿ç”¨ã€æ€ã€‘/æ™®é€šé”¦å›Šç‰Œé€‰æ‹©ç›®æ ‡åï¼Œä½ å¯ä»¤æ‰€æœ‰é€‰æ‹©â€œå¦â€çš„è§’è‰²ä¹Ÿæˆä¸ºæ­¤ã€æ€ã€‘/æ™®é€šé”¦å›Šç‰Œçš„ç›®æ ‡ï¼›<br>æ²¡æœ‰ã€æ€ã€‘ï¼Œä½ è§†ä¸ºå¯¹æ‰€æœ‰é€‰æ‹©â€œæ˜¯â€çš„è§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ã€‚<br>ç„¶åä½ æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºçŒœé”™çš„è§’è‰²æ•°ï¼‰ã€‚è‹¥æ²¡æœ‰çŒœé”™çš„è§’è‰²ï¼Œä½ ç»“æŸæ­¤é˜¶æ®µå¹¶è·³è¿‡å¼ƒç‰Œé˜¶æ®µã€‚",
            "DIY_jixu_sha":"å‡»è™š",
            "DIY_jixu_sha_info":"",
            "DIY_duorui":"å¤ºé”",
            "DIY_duorui_info":"å½“ä½ ä½¿ç”¨ä¸€å¼ åŸºæœ¬ç‰Œæˆ–æ™®é€šé”¦å›Šç‰ŒæŒ‡å®šç›®æ ‡åï¼Œè‹¥ç›®æ ‡ä¸­æœ‰è§’è‰²æ²¡æœ‰è¢«ã€–å¤ºé”ã€—ï¼Œä½ å¯ä»¥è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥ç»“æœç‚¹æ•°å¯¹åº”çš„é›†åˆAâˆ©B=[8,10]ä¸ºç©ºé›†ï¼Œä½ å¯ä»¥è·å¾—ä¸€åæœªè¢«ã€–å¤ºé”ã€—çš„ç›®æ ‡çš„ä¸€ä¸ªæŠ€èƒ½ï¼ˆé™å®šæŠ€é™¤å¤–ï¼‰ä¸”å…¶æ­¤æŠ€èƒ½å¤±æ•ˆç›´åˆ°ä½ çš„ä¸‹å›åˆå¼€å§‹ã€‚",
            "DIY_duorui2":"å¤ºé”",
            "DIY_duorui2_info":"",
            "DIY_duorui_baiban":"å¤ºé”",
            "DIY_duorui_baiban_info":"",
            "DIY_zhiti":"æ­¢å•¼",
            "DIY_zhiti_info":"é”å®šæŠ€ï¼Œå·²å—ä¼¤å…¶ä»–è§’è‰²çš„æ‰‹ç‰Œä¸Šé™-1ã€‚è‹¥åœºä¸Šå·²å—ä¼¤çš„è§’è‰²æ•°ï¼šä¸å°äº1ï¼Œä½ çš„æ‰‹ç‰Œä¸Šé™+1ï¼›ä¸å°äº3ï¼Œä½ äºæ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ä»¤é¢å®šæ‘¸ç‰Œæ•°+1ï¼›ä¸å°äº5ï¼Œå½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ åºŸé™¤ä¸€åè§’è‰²çš„ä¸€ä¸ªéšæœºè£…å¤‡æ ã€‚",
            "DIY_zhiti2":"æ­¢å•¼",
            "DIY_zhiti2_info":"",
            "DIY_wanglie":"å¾€çƒˆ",
            "DIY_wanglie_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ ä½¿ç”¨çš„ç¬¬ä¸€å¼ ç‰Œæ— è·ç¦»é™åˆ¶ï¼›å½“ä½ äºå›åˆå†…ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰ŒæŒ‡å®šç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥è·å¾—å…¶ä¸€å¼ ç‰Œï¼Œç„¶åä»¤æ­¤ç‰Œä¸èƒ½è¢«å“åº”ï¼Œè‹¥æ­¤ç‰Œä¸æ˜¯ä½ æœ¬å›åˆä½¿ç”¨çš„ç¬¬ä¸€å¼ ç‰Œï¼Œæœ¬å›åˆå†…ä½ ä¸èƒ½å†ä½¿ç”¨ç‰Œã€‚",
            "DIY_wanglie_use":"å¾€çƒˆ",
            "DIY_wanglie_use_info":"",
            "DIY_baobian":"è±¹å˜",
            "DIY_baobian_info":"â‘ é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶/å½“ä½ çš„ä½“åŠ›å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè‹¥ä½ çš„â€œè±¹å˜â€ç‰Œ<5ï¼Œåˆ™ä½ æ›´æ”¹åŠ¿åŠ›å¹¶å°†ä¸€å¼ ç›¸åŒåŠ¿åŠ›è§’è‰²æ­¦å°†ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šç§°ä¸ºâ€œè±¹å˜â€ç‰Œç„¶åä½ è·å¾—æ­¤æ­¦å°†ç‰Œä¸Šçš„æ‰€æœ‰æŠ€èƒ½ï¼›â‘¡å‡ºç‰Œé˜¶æ®µé™Xæ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ â€œè±¹å˜â€ç‰Œå¹¶å¤±å»å…¶ä¸Šæ‰€æœ‰æŠ€èƒ½ç„¶åå‘åŠ¨ä¸€æ¬¡ã€–è±¹å˜â‘ ã€—ï¼ˆXä¸ºä½ çš„â€œè±¹å˜â€ç‰Œæ•°ï¼‰ã€‚",
            "DIY_baobian2":"è±¹å˜",
            "DIY_baobian2_info":"",
            "DIY_hongyuan":"å¼˜æ´",
            "DIY_hongyuan_info":"â‘ æ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æ²¡æœ‰â€œæ´â€æ ‡è®°ï¼Œä½ å¯ä»¥è·å¾—ä¸¤æšâ€œæ´â€æ ‡è®°ã€‚è‹¥å¦‚æ­¤åšï¼Œä½ çš„æ‘¸ç‰Œæ•°-1ã€‚â‘¡å…¶ä»–è§’è‰²çš„æ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æœ‰â€œæ´â€æ ‡è®°ï¼Œä½ å¯ä»¥ç§»é™¤ä¸€æšâ€œæ´â€æ ‡è®°å¹¶ä»¤å…¶é¢å¤–æ‘¸ç‰Œæ•°+2ã€‚â‘¢å‡†å¤‡é˜¶æ®µï¼Œä½ ç§»å»æ‰€æœ‰â€œæ´â€æ ‡è®°å¹¶æ‘¸ç­‰é‡çš„ç‰Œã€‚",
            "DIY_huanshi":"ç¼“é‡Š",
            "DIY_huanshi_info":"åœ¨ä»»æ„è§’è‰²çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€é¡¹ï¼š1ã€æ‰“å‡ºä¸€å¼ æ‰‹ç‰Œä»£æ›¿ä¹‹ã€‚2ã€äº®å‡ºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿ä¹‹ã€‚",
            "DIY_mingzhe":"æ˜å“²",
            "DIY_mingzhe_info":"å½“ä½ å¤±å»ä¸€å¼ çº¢è‰²ç‰Œåï¼Œä½ å¯ä»¥è·å¾—ä¸€å¼ é»‘è‰²ç‰Œã€‚",
            "DIY_yinbing":"å¼•å…µ",
            "DIY_yinbing_info":"å¼ƒç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥æ‘¸Xå¼ ç‰Œå¹¶å°†è‡³å°‘Xå¼ ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šï¼ˆXä¸ºå…¨åœºå­˜æ´»äººæ•°ï¼‰ã€‚æ¯å½“ä½ å—åˆ°ã€æ€ã€‘æˆ–ã€å†³æ–—ã€‘çš„ä¼¤å®³æ—¶ï¼Œä½ ç§»å»ä¸€å¼ ã€Œå¼•å…µã€ç‰Œï¼Œè‹¥å¦‚æ­¤åšä½ ä»¤æ­¤ä¼¤å®³çš„æ•°å€¼å‡ä¸º1å¹¶æ‘¸ä¸¤å¼ ç‰Œã€‚",
            "DIY_juedi":"ç»åœ°",
            "DIY_juedi_info":"é”å®šæŠ€ï¼Œå‡†å¤‡é˜¶æ®µï¼Œè‹¥ä½ çš„æ­¦å°†ç‰Œä¸Šæœ‰ã€Œå¼•å…µã€ç‰Œï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼šâ‘ ç§»å»ã€Œå¼•å…µã€ç‰Œï¼Œå›å¤1ç‚¹ä½“åŠ›å¹¶å°†æ‰‹ç‰Œè¡¥è‡³å…¨åœºæœ€å¤šï¼›â‘¡å°†ã€Œå¼•å…µã€ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ï¼Œå…¶å›å¤1ç‚¹ä½“åŠ›å¹¶æ‘¸ç­‰é‡çš„ç‰Œã€‚",
            "DIY_shelie":"æ¶‰çŒ",
            "DIY_shelie_info":"é”å®šæŠ€ï¼Œä½ è·³è¿‡ä½ çš„æ‘¸ç‰Œé˜¶æ®µï¼Œå¹¶æ”¹ä¸ºä¾æ¬¡è·å¾—æŒ‡å®šä¸€ç§ç±»å‹çš„ç‰Œï¼ˆæœ€å¤šå››æ¬¡ï¼‰ï¼Œç„¶åä»ç‰Œå †ä¸­æ‘¸å–ä¹‹ã€‚",
            "DIY_gongxin":"æ”»å¿ƒ",
            "DIY_gongxin_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ç§èŠ±è‰²ï¼Œç„¶åè§‚çœ‹ä¸€åå…¶ä»–è§’è‰²çš„æ‰‹ç‰Œå¹¶å±•ç¤ºå…¶ä¸­æ‰€æœ‰çš„ä¸ä½ é€‰æ‹©èŠ±è‰²ç›¸åŒçš„ç‰Œï¼Œç„¶åè‹¥å±•ç¤ºçš„ç‰Œæ•°ï¼šå°äºä¸€ï¼Œä½ å°†æ‰‹ç‰Œæ•°æ‘¸è‡³ä¸å…¶ç›¸åŒï¼›ä¸ºä¸€ï¼Œä½ å¼ƒç½®ä¹‹å¹¶å¯¹å…¶é€ æˆä¸€ç‚¹ä¼¤å®³ï¼›å¤§äºä¸€ï¼Œä½ è·å¾—å…¶ä¸­ä¸€å¼ çº¢æ¡ƒç‰Œã€‚",
            "DIY_botu":"åšå›¾",
            "DIY_botu_info":"æ¯è½®é™ä¸€æ¬¡ï¼Œå›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ æœ¬å›åˆå†…è¿›å…¥è¿‡å¼ƒç‰Œå †ä¸­çš„ç‰ŒåŒ…å«å››ç§èŠ±è‰²ï¼Œåˆ™ä½ å¯ä»¥è¿›è¡Œä¸€ä¸ªé¢å¤–å›åˆã€‚",
            "DIY_botu_suit":"",
            "DIY_botu_suit_info":"",
            "DIY_wuhun":"æ­¦é­‚",
            "DIY_wuhun_info":"é”å®šæŠ€ï¼Œå½“ä½ å—åˆ°ä¼¤å®³åï¼Œä¼¤å®³æ¥æºè·å¾—Xä¸ªâ€œæ¢¦é­‡â€æ ‡è®°ï¼ˆXä¸ºä¼¤å®³ç‚¹æ•°ï¼‰,è‹¥ä½ æœªå‘åŠ¨ã€–è¿½é­‚ã€—ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_wushen":"æ­¦ç¥",
            "DIY_wushen_info":"é”å®šæŠ€ï¼Œä½ çš„çº¢æ¡ƒæ‰‹ç‰Œå‡è§†ä¸ºã€æ€ã€‘ï¼›é”å®šæŠ€ï¼Œä½ ä½¿ç”¨çº¢æ¡ƒã€æ€ã€‘æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ä¸”ä¸å¯è¢«å“åº”ã€‚",
            "DIY_wuhun_dying":"è¿½é­‚",
            "DIY_wuhun_dying_info":"é”å®šæŠ€ï¼Œå½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºåœºä¸Šæœ‰â€œæ¢¦é­‡â€æ ‡è®°è§’è‰²æ•°ï¼‰ï¼Œå°†ä½“åŠ›å€¼å›å¤è‡³ä½“åŠ›ä¸Šé™ï¼Œç„¶åå¼€å§‹ä½¿å‘½ã€‚",
            "DIY_wuhun_hun":"è¿½é­‚",
            "DIY_wuhun_hun_info":"ä½¿å‘½æŠ€ï¼Œâ‘ å½“ä½ å³å°†å¯¹ä¸€åè§’è‰²é€ æˆä¼¤å®³æ—¶ï¼Œè‹¥å…¶æœ‰â€œæ¢¦é­‡â€æ ‡è®°ï¼Œä½ ç§»å»å…¶ä¸€æšâ€œæ¢¦é­‡â€æ ‡è®°å¹¶ä»¤æ­¤ä¼¤å®³+1ï¼›â‘¡å½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œè‹¥åœºä¸Šæœ‰â€œæ¢¦é­‡â€æ ‡è®°è§’è‰²æ•°>0ï¼Œä½ å°†ä½“åŠ›å€¼å›å¤è‡³1ï¼›â‘¢ä½¿å‘½ï¼šå½“ä½ æ€æ­»ä¸€åè§’è‰²æ—¶ï¼Œè‹¥å…¶æœ‰â€œæ¢¦é­‡â€æ ‡è®°ï¼Œä½ ä»¤æœ‰â€œæ¢¦é­‡â€æ ‡è®°çš„è§’è‰²æ­»äº¡å¹¶äºæœ¬å›åˆç»“æŸæ—¶æ­»äº¡ï¼›â‘£å¤±è´¥ï¼šå½“ä¸€åè§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œè‹¥å…¶æœ‰â€œæ¢¦é­‡â€æ ‡è®°ä¸”ä¼¤å®³æ¥æºä¸ä¸ºä½ ï¼Œä½ æ­»äº¡ã€‚",
            "DIY_zhuihun_dying":"è¿½é­‚",
            "DIY_zhuihun_dying_info":"",
            "DIY_zhuihun":"è¿½é­‚",
            "DIY_zhuihun_info":"",
            "DIY_zhuihun_false":"è¿½é­‚",
            "DIY_zhuihun_false_info":"",
            "DIY_baonu":"ç‹‚æš´",
            "DIY_baonu_info":"é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ è·å¾—2æšâ€œæš´æ€’â€æ ‡è®°ï¼›é”å®šæŠ€ï¼Œå½“ä½ é€ æˆ/å—åˆ°1ç‚¹ä¼¤å®³åï¼Œä½ è·å¾—1æšâ€œæš´æ€’â€æ ‡è®°ã€‚",
            "DIY_wumou":"æ— è°‹",
            "DIY_wumou_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨æ™®é€šé”¦å›Šç‰Œåï¼Œæœ¬å›åˆä½ çš„æ™®é€šé”¦å›Šç‰Œå‡è§†ä¸ºã€æ€ã€‘ä¸”ä¸è®¡å…¥æ¬¡æ•°ä¸Šé™ã€‚",
            "DIY_wuqian":"æ— å‰",
            "DIY_wuqian_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œå¼ƒç½®1æšâ€œæš´æ€’â€æ ‡è®°å¹¶é€‰æ‹©ä¸€åæœ¬å›åˆå†…æœªé€‰æ‹©è¿‡çš„å…¶ä»–è§’è‰²ï¼Œä½ è·å¾—æŠ€èƒ½ã€–æ— åŒã€—å’Œã€–ç¥æˆŸã€—å¹¶ä»¤å…¶é˜²å…·æ— æ•ˆç›´åˆ°å›åˆç»“æŸã€‚",
            "DIY_shenfen":"ç¥æ„¤",
            "DIY_shenfen_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®Xæšâ€œæš´æ€’â€æ ‡è®°å¹¶é€‰æ‹©æ‰€æœ‰å…¶ä»–è§’è‰²ï¼Œå¯¹è¿™äº›è§’è‰²å„é€ æˆ1ç‚¹ä¼¤å®³ã€‚ç„¶åè¿™äº›è§’è‰²å…ˆå„å¼ƒç½®å…¶è£…å¤‡åŒºé‡Œçš„ç‰Œï¼Œå†å„å¼ƒç½®å…¨éƒ¨æ‰‹ç‰Œã€‚ï¼ˆXä¸ºå­˜æ´»äººæ•°-1ï¼‰",
            "DIY_shenji":"ç¥æˆŸ",
            "DIY_shenji_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šçš„ç›®æ ‡æ•°ä¸Šé™+2ï¼Œæ¬¡æ•°ä¸Šé™+2ä¸”æ— è·ç¦»é™åˆ¶ã€‚",
            "DIY_wushuang":"æ— åŒ",
            "DIY_wushuang_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨ã€æ€ã€‘æˆ–ã€å†³æ–—ã€‘æŒ‡å®šç›®æ ‡åï¼Œä½ ä»¤æ­¤ç‰Œéœ€è¦ä¾æ¬¡ä½¿ç”¨æˆ–æ‰“å‡ºä¸¤å¼ ã€é—ªã€‘æˆ–ã€æ€ã€‘å“åº”ã€‚å½“ä½ ä½¿ç”¨ã€æ€ã€‘é€ æˆä¼¤å®³æ—¶ï¼Œæœ¬å›åˆä½ ä½¿ç”¨ã€æ€ã€‘æ¬¡æ•°ä¸Šé™+1ã€‚",
            "DIY_wushuang1":"æ— åŒ",
            "DIY_wushuang1_info":"",
            "DIY_wushuang2":"æ— åŒ",
            "DIY_wushuang2_info":"",
            "DIY_wushuang_sha":"æ— åŒ",
            "DIY_wushuang_sha_info":"",
            "DIY_wushuang_sha2":"æ— åŒ",
            "DIY_wushuang_sha2_info":"",
            "DIY_wumou2":"æ— è°‹",
            "DIY_wumou2_info":"",
            "DIY_zhuihun_finish":"è¿½é­‚",
            "DIY_zhuihun_finish_info":"",
            "DIY_zhuihun_finish2":"è¿½é­‚",
            "DIY_zhuihun_finish2_info":"",
            "DIY_qixing":"ä¸ƒæ˜Ÿ",
            "DIY_qixing_info":"ä½¿å‘½æŠ€ï¼Œâ‘ å‡†å¤‡é˜¶æ®µ/ç»“æŸé˜¶æ®µ/å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œè‹¥ä½ æ»¡è¶³ä¸€ä¸ªç‰¹å®šæ¡ä»¶ï¼Œä½ ç‚¹äº®ä¸€é¢—â€œæ˜Ÿâ€åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶å›å¤ä¸€ç‚¹ä½“åŠ›ç„¶åæ‘¸ä¸‰å¼ ç‰Œ;â‘¡ä½ çš„æ‰‹ç‰Œä¸Šé™+Xï¼ˆXä¸ºå·²ç‚¹äº®â€œæ˜Ÿâ€æ•°ï¼‰ï¼›â‘¢ä½¿å‘½:å½“ä½ ç‚¹äº®7é¢—â€œæ˜Ÿâ€æ—¶ï¼Œä½ å˜èº«ã€Œç¥­é£å§é¾™ã€;â‘£å¤±è´¥:å½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ ç§»å»æ‰€æœ‰â€œæ˜Ÿâ€å¹¶æ‘¸ç­‰é‡çš„ç‰Œç„¶åå›å¤è‡³ç­‰é‡ä½“åŠ›ã€‚",
            "DIY_xiangxing":"ç¦³æ˜Ÿ",
            "DIY_xiangxing_info":"é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ è·å¾—7æšã€Œæ˜Ÿã€ï¼›æ¯å½“ä½ ç´¯è®¡æ‰£å‡7ç‚¹ä½“åŠ›ï¼Œä½ å¤±å»ä¸€æšã€Œæ˜Ÿã€ï¼Œå¹¶é€ æˆ7ç‚¹é›·å±æ€§ä¼¤å®³ï¼Œéšæœºåˆ†é…ç»™å…¶ä»–è§’è‰²ï¼›å½“ä½ å¤±å»å…¨éƒ¨ã€Œæ˜Ÿã€åï¼Œä½ çš„ä½“åŠ›ä¸Šé™å˜ä¸º3ã€‚",
            "DIY_yueyin":"æœˆéš",
            "DIY_yueyin_info":"é”å®šæŠ€ï¼Œä½ çš„æ¯ä¸€æšã€Œæ˜Ÿã€å¯¹åº”çš„ä¸€ä¸ªç‰¹å®šæ¡ä»¶ï¼Œå½“ä½ å¤±å»ã€Œæ˜Ÿã€æ—¶ï¼Œè‹¥æ»¡è¶³æ­¤æ¡ä»¶ï¼Œåˆ™ä¸é€ æˆä¼¤å®³ã€‚",
            "DIY_fengqi":"é£èµ·",
            "DIY_fengqi_info":"å‡†å¤‡é˜¶æ®µå’Œç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä»»æ„ä¸€å¼ æ™®é€šé”¦å›Šç‰Œã€‚",
            "DIY_gaiming":"æ”¹å‘½",
            "DIY_gaiming_info":"é”å®šæŠ€ï¼Œåœ¨ä½ çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ è§‚çœ‹ç‰Œå †é¡¶çš„7å¼ ç‰Œå¹¶é€‰æ‹©ä¸€å¼ ä½œä¸ºåˆ¤å®šç»“æœï¼Œæ­¤ç»“æœä¸å¯æ›´æ”¹ã€‚",
            "DIY_qixing_dying":"ä¸ƒæ˜Ÿ",
            "DIY_qixing_dying_info":"",
            "DIY_sanwen":"æ•£æ–‡",
            "DIY_sanwen_info":"å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ éè£…å¤‡ç‰Œæ—¶ï¼Œè‹¥ä½ æ‰“å‡ºè¿‡ç›¸åŒç‰Œåçš„ç‰Œï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_qiai":"ä¸ƒå“€",
            "DIY_qiai_info":"æ¯è½®é™ä¸€æ¬¡ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥ä¸å…¶äº¤æ¢æ‰‹ç‰Œï¼Œç„¶åè‹¥ä½ çš„æ‰‹ç‰Œæ•°>å…¶çš„æ‰‹ç‰Œæ•°ï¼Œå…¶å›å¤ä¸€ç‚¹ä½“åŠ›ï¼›ä½ çš„æ‰‹ç‰Œæ•°<å…¶çš„æ‰‹ç‰Œæ•°ï¼Œå…¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_denglou":"ç™»æ¥¼",
            "DIY_denglou_info":"æ¯è½®é™ä¸€æ¬¡ï¼Œå½“ä½ å¤±å»æœ€åçš„æ‰‹ç‰Œæ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †é¡¶çš„4Xå¼ ç‰Œï¼Œä¾æ¬¡ä½¿ç”¨å…¶ä¸­çš„æ‰€æœ‰åŸºæœ¬ç‰Œï¼ˆä¸èƒ½ä½¿ç”¨åˆ™å¼ƒç½®ï¼‰ï¼Œç„¶åè·å¾—å…¶ä½™çš„ç‰Œï¼ˆXä¸ºä½ æ­¤æ¬¡å¤±å»çš„æ‰‹ç‰Œæ•°ä¸”æœ€å¤šä¸º4ï¼‰ã€‚",
            "DIY_qiai_mark":"ä¸ƒå“€",
            "DIY_qiai_mark_info":"",
            "DIY_guolun":"è¿‡è®º",
            "DIY_guolun_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å±•ç¤ºä¸€åæœªæœ‰â€œè®ºâ€çš„å…¶ä»–è§’è‰²çš„ä¸€å¼ æ‰‹ç‰Œï¼Œç„¶åå±•ç¤ºä½ çš„ä¸€å¼ ç‰Œã€‚ä½ ä¸å…¶äº¤æ¢è¿™ä¸¤å¼ ç‰Œï¼Œç„¶åè‹¥ä½ å±•ç¤ºçš„ç‰Œç‚¹æ•°è¾ƒå°ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå…¶è·å¾—ä¸€æšâ€œè®ºâ€ç›´åˆ°å›åˆç»“æŸï¼›è‹¥å…¶å±•ç¤ºçš„ç‰Œæ•°å°ï¼Œå…¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_songsang":"é€ä¸§",
            "DIY_songsang_info":"é™å®šæŠ€ï¼Œå½“ä¸€åè§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ å¯ä»¥åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶å›å¤ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_zhanji":"å±•éª¥",
            "DIY_zhanji_info":"é”å®šæŠ€ï¼Œå½“ä½ ä¸å› ã€–è‡ªä¹¦ã€—/ã€–å±•éª¥ã€—è€Œè·å¾—ç‰Œæ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_guolun_mark":"è¿‡è®º",
            "DIY_guolun_mark_info":"",
            "DIY_qiaoshi":"æ¨µæ‹¾",
            "DIY_qiaoshi_info":"ä¸€åå…¶ä»–è§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œï¼Œå¹¶ä»¤å…¶è·å¾—ä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_yanyu":"ç‡•è¯­",
            "DIY_yanyu_info":"â‘ æ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥æ”¹ä¸ºè·å¾—ä¸¤å¼ ã€æ€ã€‘ï¼Œè‹¥å¦‚æ­¤åšï¼Œæœ¬å›åˆçš„å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥é‡é“¸ä»»æ„å¼ ã€æ€ã€‘å¹¶äºå›åˆç»“æŸæ‘¸ç­‰é‡çš„ç‰Œï¼ˆè‡³å¤šæ‘¸ä¸‰ï¼‰ï¼›â‘¡å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²è·å¾—ä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_yanyu_phaseUse":"ç‡•è¯­",
            "DIY_yanyu_phaseUse_info":"",
            "DIY_yanyu_sha":"ç‡•è¯­",
            "DIY_yanyu_sha_info":"",
            "DIY_yanyu_draw":"ç‡•è¯­",
            "DIY_yanyu_draw_info":"",
            "DIY_yanyu_man":"ç‡•è¯­",
            "DIY_yanyu_man_info":"",
            "DIY_xunxun":"æ‚æ‚",
            "DIY_xunxun_info":"æ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †é¡¶çš„Xå¼ ç‰Œï¼Œç„¶åå°†å…¶ä¸­çš„ä¸¤å¼ ç‰Œç½®äºç‰Œå †é¡¶ï¼Œå¹¶å°†å…¶ä½™çš„ç‰Œä»¥ä»»æ„é¡ºåºç½®äºç‰Œå †åº•ã€‚ï¼ˆXä¸ºåœºä¸Šå­˜æ´»äººæ•°ä¸”è‡³å°‘ä¸º4ï¼‰",
            "DIY_wangxi":"å¿˜éš™",
            "DIY_wangxi_info":"æ¯å½“ä½ å¯¹å…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³åï¼Œæˆ–å—åˆ°å…¶ä»–è§’è‰²é€ æˆçš„1ç‚¹ä¼¤å®³åï¼Œä½ å¯ä»¥ä¸å…¶ä¸­æ‰‹ç‰Œè¾ƒå°‘çš„ä¸€åè§’è‰²å„æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_jili":"å¯„ç¯±",
            "DIY_jili_info":"é”å®šæŠ€ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²æˆä¸ºåŸºæœ¬ç‰Œæˆ–æ™®é€šé”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œè‹¥ä½ æ—¢ä¸æ˜¯æ­¤ç‰Œçš„ä½¿ç”¨è€…ä¹Ÿä¸æ˜¯ç›®æ ‡ï¼Œä½ ä¹Ÿæˆä¸ºæ­¤ç‰Œçš„ç›®æ ‡ã€‚",
            "DIY_zhidao":"é›‰ç›—",
            "DIY_zhidao_info":"é”å®šæŠ€ï¼Œå½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ éšæœºè·å¾—å…¶åŒºåŸŸå†…ä¸€å¼ ç‰Œã€‚",
            "DIY_jili_audio":"",
            "DIY_jili_audio_info":"",
            "DIY_shensu":"ç¥é€Ÿ",
            "DIY_shensu_info":"â‘ ä½ å¯ä»¥è·³è¿‡ä½ çš„åˆ¤å®šé˜¶æ®µ/æ‘¸ç‰Œé˜¶æ®µ/å‡ºç‰Œé˜¶æ®µ/å¼ƒç‰Œé˜¶æ®µï¼Œè‹¥ä½ ä»¥æ­¤æ³•è·³è¿‡äº†åˆ¤å®š/å¼ƒç‰Œé˜¶æ®µï¼Œä½ æ¨ªç½®/ç¿»é¢ï¼›â‘¡æ¯å½“ä½ è·³è¿‡ä¸€ä¸ªé˜¶æ®µæ—¶ï¼Œè‹¥ä½ ä¸ºå…¨åœºæ‰‹ç‰Œ/ä½“åŠ›æœ€å°‘ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œ/å›å¤ä¸€ç‚¹ä½“åŠ›ï¼Œç„¶åä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä¸€å¼ ä¸è®¡å…¥æ¬¡æ•°é™åˆ¶ä¸”æ— è·ç¦»é™åˆ¶çš„ã€æ€ã€‘ã€‚",
            "DIY_shebian":"è®¾å˜",
            "DIY_shebian_info":"â‘ å½“ä¸€åè§’è‰²æ­¦å°†ç‰Œçš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ å¯ä»¥ç§»åŠ¨åœºä¸Šä¸€å¼ ç‰Œï¼›â‘¡å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å°†ä½ çš„æ­¦å°†ç‰Œç¿»è‡³æ­£é¢ã€‚",
            "DIY_shensu_sha":"ç¥é€Ÿ",
            "DIY_shensu_sha_info":"",
            "DIY_shensu1":"ç¥é€Ÿ",
            "DIY_shensu1_info":"",
            "DIY_shensu4":"ç¥é€Ÿ",
            "DIY_shensu4_info":"",
            "DIY_shensu2":"ç¥é€Ÿ",
            "DIY_shensu2_info":"",
            "DIY_shensu3":"ç¥é€Ÿ",
            "DIY_shensu3_info":"",
            "DIY_shebian_over":"è®¾å˜",
            "DIY_shebian_over_info":"",
            "DIY_qirang":"ç¥ˆç¦³",
            "DIY_qirang_info":"â‘ å½“æœ‰è£…å¤‡ç‰Œè¿›å…¥ä½ çš„è£…å¤‡åŒºæ—¶ï¼Œä½ å¯è·å¾—ç‰Œå †ä¸­çš„ä¸€å¼ é”¦å›Šç‰Œã€‚â‘¡å½“æœ‰è£…å¤‡ç‰Œç¦»å¼€ä½ çš„è£…å¤‡åŒºæ—¶ï¼Œä½ å¯è·å¾—ç‰Œå †ä¸­çš„ä¸€å¼ åŸºæœ¬ç‰Œã€‚â‘¢å½“ä½ ä½¿ç”¨å› â€œç¥ˆç¦³â€è€Œè·å¾—çš„é”¦å›Šç‰Œé€‰æ‹©ç›®æ ‡åï¼Œå¯ä¸ºæ­¤ç‰Œå¢åŠ ä¸€ä¸ªç›®æ ‡ã€‚",
            "DIY_yuhua":"ç¾½åŒ–",
            "DIY_yuhua_info":"é”å®šæŠ€ï¼Œä½ çš„éåŸºæœ¬ç‰Œä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ã€‚ä½ å¯ä»¥è·å¾—å…¶ä»–è§’è‰²è¿›å…¥å¼ƒç‰Œå †çš„è£…å¤‡ç‰Œã€‚",
            "DIY_qirang2":"ç¥ˆç¦³",
            "DIY_qirang2_info":"",
            "DIY_fenxun":"å¥‹è¿…",
            "DIY_fenxun_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®Xå¼ ç‰Œå¹¶é€‰æ‹©ä¸€åæœªé€‰æ‹©è¿‡çš„å…¶ä»–è§’è‰²ï¼Œç›´è‡³ä½ çš„ä¸‹å›åˆå¼€å§‹ï¼Œå…¶è®¡ç®—è·ç¦»æ—¶è§†ä¸ºå¤„äºä½ çš„ä½ç½®ï¼ˆXä¸ºæœ¬å›åˆæ­¤æŠ€èƒ½å‘åŠ¨æ¬¡æ•°ï¼‰ã€‚",
            "DIY_duanbing":"çŸ­å…µ",
            "DIY_duanbing_info":"é”å®šæŠ€ï¼Œè£…å¤‡åŒºä¸å°äºä½ çš„å…¶ä»–è§’è‰²ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œå“åº”ä½ ä½¿ç”¨çš„ç‰Œã€‚å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šè·ç¦»1ä»¥å†…çš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶é˜²å…·å¤±æ•ˆã€‚",
            "DIY_shenliu_jieying":"ç»“è¥",
            "DIY_shenliu_jieying_info":"é”å®šæŠ€ï¼Œâ‘ æ‰€æœ‰è§’è‰²å‡å¤„äºæ¨ªç½®çŠ¶æ€ã€‚â‘¡å›åˆç»“æŸæ—¶ï¼Œä½ ä¸ä¸€åå…¶ä»–è§’è‰²è·å¾—ä¸€æšâ€œè¥â€æ ‡è®°ï¼›â‘¢æœ‰â€œè¥â€çš„è§’è‰²æ‘¸ç‰Œæ•°/æ‰‹ç‰Œä¸Šé™+2ï¼Œä¸”å—åˆ°ç«ç„°ä¼¤å®³æ—¶å¼ƒç½®ä¸€æšâ€œè¥â€æ ‡è®°ã€‚",
            "DIY_longnu":"é¾™æ€’",
            "DIY_longnu_info":"è½¬æ¢æŠ€ï¼Œé˜´ï¼šå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ è·å¾—å¦‚ä¸‹æ•ˆæœç›´è‡³å›åˆç»“æŸï¼šä½ çš„çº¢è‰²æ‰‹ç‰Œå‡è§†ä¸ºç«æ€ä¸”æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ã€‚é˜³ï¼šå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ è·å¾—å¦‚ä¸‹æ•ˆæœç›´è‡³å›åˆç»“æŸï¼šä½ çš„é”¦å›Šç‰Œå‡è§†ä¸ºé›·æ€ä¸”æ— è·ç¦»å’Œæ¬¡æ•°é€‰æ‹©ã€‚",
            "DIY_polu":"ç ´æ©¹",
            "DIY_polu_info":"é”å®šæŠ€ï¼Œå›åˆå¼€å§‹æ—¶ï¼Œè‹¥ã€éœ¹é›³è½¦ã€‘æœªåŠ å…¥æ¸¸æˆæˆ–åœ¨ç‰Œå †/å¼ƒç‰Œå †å†…ï¼Œåˆ™ä½ ä½¿ç”¨ä¹‹ï¼›å½“ä½ å—åˆ°1ç‚¹ä¼¤å®³åï¼Œä½ æ‘¸ä¸¤å¼ ç‰Œå¹¶ä½¿ç”¨ç‰Œå †ä¸­çš„ä¸€å¼ éšæœºæ­¦å™¨ç‰Œã€‚",
            "DIY_choulue":"ç­¹ç•¥",
            "DIY_choulue_info":"å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ ä»¤ä¸€åå…¶ä»–è§’è‰²äº¤ç»™ä½ ä¸€å¼ ç‰Œï¼Œè‹¥å…¶å¦‚æ­¤åšï¼Œè§†ä¸ºä½ ä½¿ç”¨ä¸Šä¸€å¼ å¯¹ä½ è¿‡é€ æˆä¼¤å®³ä¸”ä¸ä¸ºå»¶æ—¶é”¦å›Šç‰Œçš„ç‰Œã€‚",
            "DIY_piliche":"éœ¹é›³è½¦",
            "DIY_piliche_info":"å½“ä½ å¯¹å…¶ä»–è§’è‰²é€ æˆä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥éšæœºæ‰§è¡Œä»¥ä¸‹ä»»æ„é¡¹ï¼š<br>â‘ å¼ƒç½®å…¶è£…å¤‡åŒºå†…çš„æ‰€æœ‰ç‰Œï¼›<br>â‘¡å¼ƒç½®å…¶æ‰‹ç‰ŒåŒºå†…çš„æ‰€æœ‰ç‰Œï¼›<br>â‘¢ä»¤å…¶ç¿»é¢ã€‚",
            "DIY_guying":"å›ºè¥",
            "DIY_guying_info":"é”å®šæŠ€ï¼Œâ‘ æ¯å›åˆé™Xæ¬¡ï¼Œå½“ä½ äºå›åˆå¤–å› ä½¿ç”¨/æ‰“å‡º/å¼ƒç½®è€Œå¤±å»ç‰Œåï¼Œè‹¥ç‰Œæ•°ä¸º1ï¼Œåˆ™ä½ è·å¾—ä¸€æšâ€œå›ºâ€å¹¶è·å¾—æœ¬æ¬¡å¤±å»çš„ç‰Œå’Œå½“å‰å›åˆè§’è‰²ä¸€å¼ ç‰Œï¼Œè‹¥ä¸ºè£…å¤‡ç‰Œï¼Œåˆ™ä½ ä½¿ç”¨ä¹‹ã€‚ä½ çš„æ‰‹ç‰Œä¸Šé™åŠ â€œå›ºâ€çš„æ•°é‡ç›´è‡³ä½ çš„å›åˆç»“æŸï¼ˆXä¸ºä½ çš„ä½“åŠ›å€¼ï¼‰ï¼›â‘¡ä½ æ— æ³•è¢«æ¨ªç½®ã€‚â‘¢ä½ ä¸ä¼šè¢«åŠ«è¥/è¢­è¥ï¼Œä½ çš„â€œè¥â€æ ‡è®°ä¸ä¼šå¤±å»ï¼›ä½ çš„å›åˆå†…æœ‰ã€–è¿è¥ã€—çš„è§’è‰²çš„æŠ€èƒ½æ— æ•ˆã€‚",
            "DIY_guying_drlt_jieying":"å›ºè¥",
            "DIY_guying_drlt_jieying_info":"",
            "DIY_buqu":"ä¸å±ˆ",
            "DIY_buqu_info":"é”å®šæŠ€ï¼Œå½“ä½ æ‰£å‡ä½“åŠ›æ—¶ï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼å°äº1ä¸”ä½ çš„â€œåˆ›â€å°äº13ï¼Œä½ å°†ä½“åŠ›æ¢å¤è‡³ä¸€ç‚¹å¹¶è·å¾—ä¸€ä¸ªâ€œåˆ›â€ï¼Œè‹¥ä½ æœ‰â€œåˆ›â€ï¼Œä½ æ‘¸ç‰Œé˜¶æ®µçš„æ‘¸ç‰Œæ•°å’Œæ‰‹ç‰Œä¸Šé™ç­‰äºâ€œåˆ›â€çš„æ•°é‡ã€‚",
            "DIY_fenji":"å¥‹æ¿€",
            "DIY_fenji_info":"â‘ å½“ä¸€åè§’è‰²å¤±å»æ‰‹ç‰Œæ—¶ï¼Œè‹¥å…¶æ‰‹ç‰Œæ•°å°äºå…¶çš„ä½“åŠ›å€¼ï¼Œä½ å¯ä»¥å¤±å»1ç‚¹ä½“åŠ›ï¼Œç„¶åä»¤è¯¥è§’è‰²æ‘¸ä¸¤å¼ ç‰Œã€‚<br>â‘¡å½“ä¸€åå…¶ä»–è§’è‰²å³å°†å—åˆ°è‡´å‘½ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¤±å»1ç‚¹ä½“åŠ›é˜²æ­¢ä¹‹ã€‚",
            "DIY_fenji2":"å¥‹æ¿€",
            "DIY_fenji2_info":"",
            "DIY_gongjian":"æ”»åš",
            "DIY_gongjian_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œå½“ä¸€åè§’è‰²æˆä¸ºã€æ€ã€‘çš„ç›®æ ‡æ—¶ï¼Œè‹¥ä½ å¯¹å…¶ä½¿ç”¨è¿‡ã€æ€ã€‘ï¼Œä½ å¯ä»¥å¼ƒç½®å…¶ä¸¤å¼ ç‰Œï¼Œç„¶åè·å¾—ä»¥æ­¤æ³•å¼ƒç½®çš„ã€æ€ã€‘ã€‚",
            "DIY_kuimang":"æºƒèŸ’",
            "DIY_kuimang_info":"é”å®šæŠ€ï¼Œå½“ä¸€åè§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œè‹¥ä½ å¯¹å…¶å‘åŠ¨è¿‡ã€–æ”»åšã€—ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_gongjian_mark":"æ”»åš",
            "DIY_gongjian_mark_info":"",
            "DIY_biantian":"å˜å¤©",
            "DIY_biantian_info":"é”å®šæŠ€ï¼Œæ¯åè§’è‰²çš„å›åˆå¼€å§‹æ—¶ï¼Œä½ è¿›è¡Œåˆ¤å®šï¼Œå¹¶æ ¹æ®ç»“æœè§¦å‘ç›¸åº”å¤©æ°”æ•ˆæœã€‚",
            "DIY_zhuiji":"è¿½å‡»",
            "DIY_zhuiji_info":"é”å®šæŠ€ï¼Œä½ è‡³ä¸Šä¸€åä½ ä½¿ç”¨ã€æ€ã€‘çš„ç›®æ ‡çš„è·ç¦»ä¸º1ã€‚å½“ä½ ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œä½ å¯ä»¥é¢å¤–æŒ‡å®šä¸€åä½ ä½¿ç”¨ä¸Šä¸€å¼ ã€æ€ã€‘çš„ç›®æ ‡ã€‚",
            "DIY_shichou":"èª“ä»‡",
            "DIY_shichou_info":"é”å®šæŠ€ï¼Œæ¯å›åˆä½ ä½¿ç”¨çš„ç¬¬ä¸€å¼ ã€æ€ã€‘ä¸è®¡å…¥æ¬¡æ•°ä¸”æ— è·ç¦»é™åˆ¶ã€‚æ­¤ã€æ€ã€‘ç»“ç®—ç»“æŸåï¼Œè‹¥æ­¤ã€æ€ã€‘æœªé€ æˆä¼¤å®³ï¼Œä½ æ”¶å›æ­¤ã€æ€ã€‘ã€‚",
            "DIY_tieqi":"é“éª‘",
            "DIY_tieqi_info":"â‘ å‡ºç‰Œé˜¶æ®µé™Xæ¬¡,ä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²ï¼Œå…¶æœ¬å›åˆéé”å®šæŠ€å¤±æ•ˆï¼Œè‹¥å…¶åœ¨ä½ çš„æ”»å‡»èŒƒå›´å†…ï¼Œä½ è§†ä¸ºå¯¹å…¶ä½¿ç”¨ä¸€å¼ æ— è·ç¦»é™åˆ¶ä¸”ä¸è®¡å…¥æ¬¡æ•°çš„ã€æ€ã€‘ï¼Œåä¹‹ä½ å¼ƒç½®å…¶ä¸€å¼ ç‰Œã€‚ï¼ˆXä¸ºåœºä¸ŠåŠ¿åŠ›æ•°ï¼‰â‘¡å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šä¸€åè§’è‰²åï¼Œä½ å¯ä»¥å±•ç¤ºå…¶ä¸¤å¼ ç‰Œï¼Œè‹¥è¿™äº›ç‰Œé¢œè‰²ä¸åŒï¼Œæ­¤ã€æ€ã€‘ä¸å¯å“åº”ï¼Œåä¹‹ä½ è·å¾—è¿™äº›ç‰Œã€‚",
            "DIY_machaocaidan":"",
            "DIY_machaocaidan_info":"",
            "DIY_kunfen":"å›°å¥‹",
            "DIY_kunfen_info":"é”å®šæŠ€ï¼Œä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¤±å»1ç‚¹ä½“åŠ›ï¼Œç„¶åæ‘¸ä¸¤å¼ ç‰Œã€‚",
            "DIY_fengliang":"é€¢äº®",
            "DIY_fengliang_info":"è§‰é†’æŠ€ï¼Œå½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ åŠ 1ç‚¹ä½“åŠ›ä¸Šé™ï¼Œå°†ä½“åŠ›å€¼å›å¤è‡³ä½“åŠ›ä¸Šé™ï¼Œå°†åŠ¿åŠ›æ”¹ä¸ºâ€œèœ€â€å¹¶è·å¾—æŠ€èƒ½ã€–æŒ‘è¡…ã€—å’Œã€–å¿—ç»§ã€—ï¼Œç„¶åå¤±å»ã€–å›°å¥‹ã€—ã€‚",
            "DIY_tiaoxin":"æŒ‘è¡…",
            "DIY_tiaoxin_info":"â‘ å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åæ”»å‡»èŒƒå›´å†…åŒ…å«ä½ çš„è§’è‰²ã€‚ç„¶åé™¤éè¯¥è§’è‰²å¯¹ä½ ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ä¸”æ­¤ã€æ€ã€‘å¯¹ä½ é€ æˆä¼¤å®³ï¼Œå¦åˆ™ä½ å¼ƒç½®å…¶ä¸€å¼ ç‰Œï¼Œç„¶åå°†æ­¤æŠ€èƒ½äºæ­¤å‡ºç‰Œé˜¶æ®µå†…ä¿®æ”¹ä¸ºå‡ºç‰Œé˜¶æ®µé™ä¸¤æ¬¡ï¼›â‘¡ä¸€åå…¶ä»–è§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œè‹¥å…¶æœ¬å›åˆæœªä½¿ç”¨æˆ–æ‰“å‡ºè¿‡ã€æ€ã€‘ï¼Œä½ å¯ä»¥å¯¹å…¶å‘åŠ¨ä¸€æ¬¡ã€–æŒ‘è¡…â‘ ã€—ã€‚",
            "DIY_zhiji":"å¿—ç»§",
            "DIY_zhiji_info":"è§‰é†’æŠ€ï¼Œä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œè‹¥ä½ æ²¡æœ‰æ‰‹ç‰Œæˆ–ä½“åŠ›å€¼ä¸º1ï¼Œä½ å›å¤1ç‚¹ä½“åŠ›æˆ–æ‘¸ä¸¤å¼ ç‰Œï¼Œç„¶ååŠ 1ç‚¹ä½“åŠ›ä¸Šé™ï¼Œå¹¶è·å¾—æŠ€èƒ½ã€–è§‚æ˜Ÿã€—ã€‚",
            "DIY_guanxing":"è§‚æ˜Ÿ",
            "DIY_guanxing_info":"å½“ä¸€åè§’è‰²è§¦å‘è¯¥æŠ€èƒ½çš„filteræ—¶ï¼Œä½ æ‰§è¡Œæ­¤æŠ€èƒ½çš„contentã€‚",
            "DIY_jiangchi":"å°†é©°",
            "DIY_jiangchi_info":" æ¯å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥è·å¾—å¯¹ä½ é€ æˆä¼¤å®³çš„ç‰Œå¹¶æ‘¸å››å¼ ç‰Œï¼Œç„¶åä½ ç¿»é¢å¹¶å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œï¼Œè‹¥ä½ ä»¥æ­¤æ³•å¼ƒç½®çš„æ˜¯è£…å¤‡ç‰Œï¼Œåˆ™ä½ æ”¹ä¸ºä½¿ç”¨ä¹‹ï¼›è‹¥ä¸ä¸ºè£…å¤‡ç‰Œï¼Œä½ å°†æ­¤ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šã€‚å…¶ä»–è§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹å…¶æ‰‹ç‰Œå¹¶ç§»å»æ­¦å°†ç‰Œä¸Šçš„ä¸€å¼ ç‰Œï¼Œç„¶åè¯¥è§’è‰²äºæ­¤é˜¶æ®µå†…ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºä¸æ­¤ç‰Œé¢œè‰²ç›¸åŒçš„ç‰Œã€‚æ­¤é˜¶æ®µç»“æŸæ—¶ï¼Œè‹¥å…¶æœªäºæ­¤é˜¶æ®µå†…ä½¿ç”¨è¿‡ï¼šã€æ€ã€‘ï¼Œè§†ä¸ºä½ å¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼›é”¦å›Šç‰Œï¼Œä½ æ‘¸ä¸¤å¼ ç‰Œï¼›ã€æ€ã€‘å’Œé”¦å›Šç‰Œï¼Œä½ å›å¤ä¸€ç‚¹ä½“åŠ›ã€‚è‹¥ä½ ä»¥æ­¤æ³•å¯¹å…¶é€ æˆäº†ä¼¤å®³ä¸”å…¶åˆ¤å®šåŒºæ²¡æœ‰ç‰Œï¼Œä½ å¯å°†å…¶æ‰‹ç‰Œæˆ–è£…å¤‡åŒºçš„ä¸€å¼ ç‰Œç½®äºå…¶åˆ¤å®šåŒºã€‚è‹¥æ­¤ç‰Œä¸æ˜¯å»¶æ—¶é”¦å›Šç‰Œï¼Œé‚£ä¹ˆçº¢è‰²ç‰Œè§†ä¸ºã€ä¹ä¸æ€èœ€ã€‘ï¼Œé»‘è‰²ç‰Œè§†ä¸ºã€å…µç²®å¯¸æ–­ã€‘ã€‚",
            "DIY_jiangchi_push":"å°†é©°",
            "DIY_jiangchi_push_info":"",
            "DIY_jiangchi2":"å°†é©°",
            "DIY_jiangchi2_info":"",
            "DIY_jiangchi3":"å°†é©°",
            "DIY_jiangchi3_info":"",
            "DIY_jiangchi_chaofeng":"å˜²è®½",
            "DIY_jiangchi_chaofeng_info":"<style>#ä¸æƒ³çœ‹æŠ€èƒ½è¿˜ç©ä¸‰å›½æ€ï¼Ÿ{animation:changeS 20s linear 4s infinite;}@keyframes changeS{ 0% {color:#FF0000;}7%{color:#FF7F00;}14%{color: #FFFF00;}21%{color:#00FF00;}28% {color:#00FFFF;}35%{color: #0000FF;}42%{color: #8B00FF;}49%{color: #0000FF;}58%{color: #8B00FF;}65%{color: #0000FF;}72% {color:#00FFFF;}79%{color:#00FF00;}86%{color: #FFFF00;}93%{color:#FF7F00;}100% {color:#FF0000;}}</style><body><div id='ä¸æƒ³çœ‹æŠ€èƒ½è¿˜ç©ä¸‰å›½æ€ï¼Ÿ'><b>ä¸æƒ³çœ‹æŠ€èƒ½è¿˜ç©ä¸‰å›½æ€ï¼Ÿ</b></div></body>",
            "DIY_luanji":"ä¹±å‡»",
            "DIY_luanji_info":"æŠ€èƒ½è¯¦è§æ›¾ç»ç§»åŠ¨ç‰ˆçš„bugç•Œè¢ç»ã€‚",
            "DIY_luanji_draw":"ä¹±å‡»",
            "DIY_luanji_draw_info":"",
            "DIY_xueyi":"è¡€è£”",
            "DIY_xueyi_info":"ä¸»å…¬æŠ€ï¼Œé”å®šæŠ€ï¼Œåœºä¸Šæ¯æœ‰ä¸€åå…¶ä»–è§’è‰²å­˜æ´»ï¼Œä½ çš„æ‰‹ç‰Œä¸Šé™ä¾¿+2ã€‚",
            "DIY_qiangxi":"å¼ºè¢­",
            "DIY_qiangxi_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€é¡¹ï¼š1. å¤±å»ä¸€ç‚¹ä½“åŠ›å¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³ï¼›2. å¼ƒç½®ä¸€å¼ æ­¦å™¨ç‰Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³ã€‚è‹¥è¯¥è§’è‰²å› æ­¤æ³•è¿›å…¥æ¿’æ­»çŠ¶æ€ä¸”å­˜æ´»ï¼Œæœ¬å›åˆã€–å¼ºè¢­ã€—å¤±æ•ˆã€‚",
            "DIY_qiangxi3":"å¼ºè¢­",
            "DIY_qiangxi3_info":"",
            "DIY_qiangxi2":"å¼ºè¢­",
            "DIY_qiangxi2_info":"",
            "DIY_zhanhuo":"ç»½ç«",
            "DIY_zhanhuo_info":"å½“ä½ å¯¹ä¸€åè§’è‰²é€ æˆä¸€æ¬¡ç«ç„°ä¼¤å®³åï¼Œä½ å¯é€‰æ‹©ä¸€åå…¶è·ç¦»ä¸º1çš„å¦å¤–ä¸€åè§’è‰²ï¼Œä½ è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼šè‹¥åˆ¤å®šç»“æœä¸ºçº¢è‰²ï¼Œä½ å¯¹å…¶é€ æˆ1ç‚¹ç«ç„°ä¼¤å®³ã€‚",
            "DIY_cuike":"æ‘§å…‹",
            "DIY_cuike_info":"é”å®šæŠ€ï¼Œä½ å³å°†é€ æˆçš„ä¼¤å®³å‡è§†ä¸ºç«ç„°ä¼¤å®³ã€‚",
            "DIY_junlue":"å†›ç•¥",
            "DIY_junlue_info":"å½“å…¶ä»–è§’è‰²ä½¿ç”¨å¸¦æœ‰ã€Œä¼¤å®³ã€è¿™ä¸€æ ‡ç­¾çš„ç‰ŒæŒ‡å®šä½ ä¸ºå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥ä¸å…¶è¿›è¡Œâ€œè°‹å¼ˆâ€â€ï¼š<br>ç«‹å³å‡ºæˆ˜ï¼šå¯¹å…¶é€ æˆ1ç‚¹ä¼¤å®³ã€‚<br>åšå®ˆä¸æˆ˜ï¼šä»¤æ­¤ç‰Œæ— æ•ˆã€‚",
            "DIY_qianxi":"æ½œè¢­",
            "DIY_qianxi_info":"â‘ å½“ä½ å¯¹ä¸€åè§’è‰²é€ æˆä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥é˜²æ­¢æ­¤ä¼¤å®³ï¼Œå¹¶ä»¤å…¶å‡1ç‚¹ä½“åŠ›ä¸Šé™ï¼›â‘¡å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®ä¸€å¼ ç‰Œå¹¶é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²ï¼Œå…¶å‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™ä¸”ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºä¸ä½ å¼ƒç½®çš„ç‰Œé¢œè‰²ç›¸åŒçš„æ‰‹ç‰Œç›´åˆ°å›åˆç»“æŸã€‚",
            "DIY_reqianxi":"æ½œè¢­",
            "DIY_reqianxi_info":"",
            "DIY_reqianxi2":"æ½œè¢­",
            "DIY_reqianxi2_info":"",
            "DIY_guijin":"å½’æ™‹",
            "DIY_guijin_info":"<br><span style='font-family: yuanli'>èµ¢â€¦â€¦<br></span>",
            "DIY_guijin_audio":"",
            "DIY_guijin_audio_info":"",
            "DIY_jizhi":"é›†æ™º",
            "DIY_jizhi_info":"å½“ä¸€åè§’è‰²ä½¿ç”¨éè½¬åŒ–çš„æ™®é€šé”¦å›Šç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_qicai":"å¥‡æ‰",
            "DIY_qicai_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨é”¦å›Šç‰Œæ— è·ç¦»é™åˆ¶ï¼›å…¶ä»–è§’è‰²å›åˆå†…ä»¥ä½ ä¸ºç›®æ ‡çš„ç¬¬ä¸€å¼ é”¦å›Šç‰Œå¯¹ä½ æ— æ•ˆã€‚",
            "DIY_zhendu":"é¸©æ¯’",
            "DIY_zhendu_info":"â‘ ä¸€åå…¶ä»–è§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤è¯¥è§’è‰²è§†ä¸ºä½¿ç”¨äº†ä¸€å¼ ã€é…’ã€‘ç„¶åä½ å¯¹å…¶é€ æˆä¸€ç‚¹ä¼¤å®³ã€‚â‘¡å½“åœºä¸Šæœ‰è§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤è¯¥è§’è‰²è·å¾—â€œæ¯’é€â€ç›´åˆ°ä¸‹è½®å¼€å§‹ã€‚",
            "DIY_qiluan":"æˆšä¹±",
            "DIY_qiluan_info":"â‘ ä¸€åå…¶ä»–è§’è‰²æ­»äº¡æ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸‰å¼ ç‰Œï¼›â‘¡å½“ä¸€åå…¶ä»–è§’è‰²äºä½ çš„å›åˆå¤–å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œä»¤æ­¤ä¼¤å®³ç¿»å€ã€‚",
            "DIY_kuangbi":"åŒ¡å¼¼",
            "DIY_kuangbi_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åæœ‰ç‰Œçš„å…¶ä»–è§’è‰²ï¼Œè¯¥è§’è‰²å°†å…¶çš„3å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šã€‚è‹¥å¦‚æ­¤åšï¼Œä½ çš„ä¸‹ä¸ªå‡†å¤‡é˜¶æ®µï¼Œä½ è·å¾—æ­¦å°†ç‰Œä¸Šçš„æ‰€æœ‰ç‰Œï¼Œç„¶åå…¶æ‘¸ç­‰é‡çš„ç‰Œã€‚",
            "DIY_liangyin":"è‰¯å§»",
            "DIY_liangyin_info":"å½“æœ‰ç‰Œç§»è‡³æ¸¸æˆå¤–æ—¶ï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²æ‘¸1-2éšæœºå¼ ç‰Œï¼›å½“æœ‰ç‰Œä»æ¸¸æˆå¤–åŠ å…¥ä»»æ„è§’è‰²çš„æ‰‹ç‰Œæ—¶ï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²å¼ƒç½®1-2éšæœºå¼ ç‰Œã€‚",
            "DIY_kongsheng":"ç®œå£°",
            "DIY_kongsheng_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥å°†ä»»æ„å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼›ç»“æŸé˜¶æ®µï¼Œä½ ä½¿ç”¨æ­¦å°†ç‰Œä¸Šçš„è£…å¤‡ç‰Œï¼Œå¹¶è·å¾—æ­¦å°†ç‰Œä¸Šçš„å…¶ä»–ç‰Œã€‚",
            "DIY_kongsheng2":"ç®œå£°",
            "DIY_kongsheng2_info":"",
            "DIY_zhendu2":"é¸©æ¯’",
            "DIY_zhendu2_info":"",
            "DIY_jueyan":"å†³å °",
            "DIY_jueyan_info":"â‘ å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥åºŸé™¤ä¸€ä¸ªè£…å¤‡æ ï¼›â‘¡é”å®šæŠ€ï¼Œè‹¥ä½ åºŸé™¤äº†ï¼šæ­¦å™¨æ ï¼Œä½ å¯ä»¥å¤šä½¿ç”¨ä¸‰å¼ ã€æ€ã€‘ï¼›é˜²å…·æ ï¼Œæ‘¸ä¸‰å¼ ç‰Œï¼Œæ‰‹ç‰Œä¸Šé™+3ï¼›2ä¸ªåéª‘æ ï¼Œä½ ä½¿ç”¨çš„ç‰Œæ— è·ç¦»é™åˆ¶ï¼›å®ç‰©æ ï¼Œè§†ä¸ºæ‹¥æœ‰æŠ€èƒ½â€œé›†æ™ºâ€",
            "DIY_qianjie":"è°¦èŠ‚",
            "DIY_qianjie_info":"é”å®šæŠ€ï¼Œå½“ä½ æ¨ªç½®æ—¶ï¼Œå–æ¶ˆä¹‹ã€‚ä½ ä¸èƒ½æˆä¸ºã€é¡ºæ‰‹ç‰µç¾Šã€‘/ã€é€è¿‘å¼ƒè¿œã€‘/ã€å‡ºå…¶ä¸æ„ã€‘å’Œå»¶æ—¶ç±»é”¦å›Šçš„ç›®æ ‡ã€‚ä½ ä¸èƒ½æˆä¸ºå…¶ä»–è§’è‰²æ‹¼ç‚¹çš„ç›®æ ‡ã€‚",
            "DIY_poshi":"ç ´åŠ¿",
            "DIY_poshi_info":"è§‰é†’æŠ€ï¼Œå‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ çš„è£…å¤‡æ å‡å·²è¢«åºŸé™¤æˆ–ä½“åŠ›å€¼ä¸º1ï¼Œåˆ™ä½ åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶å›æ»¡ä½“åŠ›ï¼Œå°†æ‰‹ç‰Œæ‘¸è‡³ä½“åŠ›ä¸Šé™ï¼Œç„¶ååºŸé™¤è£…å¤‡åŒºå’Œåˆ¤å®šåŒºç„¶åè·å¾—æŠ€èƒ½â€œæ€€æŸ”â€",
            "DIY_jueyan1":"",
            "DIY_jueyan1_info":"",
            "DIY_jueyan2":"",
            "DIY_jueyan2_info":"",
            "DIY_jueyan3":"",
            "DIY_jueyan3_info":"",
            "DIY_jueyan5":"é›†æ™º",
            "DIY_jueyan5_info":"å½“ä½ ä½¿ç”¨éè½¬åŒ–çš„æ™®é€šé”¦å›Šç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_huairou":"æ€€æŸ”",
            "DIY_huairou_info":"é”å®šæŠ€ï¼Œä½ çš„è£…å¤‡ç‰Œä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ã€‚å½“ä½ å³å°†å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥é‡é“¸ä¸€å¼ è£…å¤‡ç‰Œé˜²æ­¢ä¹‹ã€‚",
            "DIY_hanzhan":"é…£æˆ˜",
            "DIY_hanzhan_info":"ä½ ä¸å…¶ä»–è§’è‰²æ‹¼ç‚¹æ—¶ï¼Œä½ å¯å°†ä½ åŒºåŸŸå†…çš„ä¸€å¼ ç‰Œä½œä¸ºå…¶çš„æ‹¼ç‚¹ç‰Œã€‚",
            "DIY_tianyi":"å¤©ä¹‰",
            "DIY_tianyi_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œå¹¶å’Œä¸€åå…¶ä»–è§’è‰²æ‹¼ç‚¹ã€‚è‹¥ä½ èµ¢ï¼Œä½ è·å¾—å…¶ä¸€å¼ ç‰Œå¹¶å¯ä»¥å¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ã€‚è‹¥ä½ æ²¡èµ¢ï¼Œä½ ä¸èƒ½ä½¿ç”¨ã€æ€ã€‘ä¸”ä½ çš„ã€æ€ã€‘ä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ç›´åˆ°å›åˆç»“æŸã€‚",
            "DIY_tianyi2":"",
            "DIY_tianyi2_info":"",
            "DIY_xuxie":"è™šçŒ²",
            "DIY_xuxie_info":"é”å®šæŠ€ï¼Œâ‘ ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å‡1ç‚¹ä½“åŠ›ä¸Šé™å¹¶é€‰æ‹©æ”»å‡»èŒƒå›´å†…åŒ…å«ä½ å’Œä½ æ”»å‡»èŒƒå›´çš„æ‰€æœ‰è§’è‰²ï¼Œå¼ƒç½®è¿™äº›è§’è‰²çš„å„ä¸€å¼ ç‰Œæˆ–ä»¤è¿™äº›è§’è‰²å„æ‘¸ä¸€å¼ ç‰Œï¼›â‘¡ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œä½ åŠ 1ç‚¹ä½“åŠ›ä¸Šé™ï¼›â‘¢å½“ä½ çš„ä½“åŠ›ä¸Šé™å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè‹¥ä½ çš„æ‰‹ç‰Œä¸ä¸ºå…¨åœºæœ€å¤šï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚<br><span style='font-family: yuanli'>è¯´å‡ºå¾åï¼Œé€—æ±ä¸€ç¬‘</span>",
            "DIY_xuxie_add":"è™šçŒ²",
            "DIY_xuxie_add_info":"",
            "DIY_xuxie_draw":"è™šçŒ²",
            "DIY_xuxie_draw_info":"",
            "DIY_shushen":"æ·‘æ…",
            "DIY_shushen_info":"å½“ä½ ä¸å› æ­¤æ³•è€Œå›å¤1ç‚¹ä½“åŠ›æ—¶ï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²é€‰æ‹©å›å¤1ç‚¹ä½“åŠ›æˆ–æ‘¸ä¸¤å¼ ç‰Œã€‚",
            "DIY_shenzhi":"ç¥æ™º",
            "DIY_shenzhi_info":"å‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®Xå¼ æ‰‹ç‰Œå¹¶å›å¤1ç‚¹ä½“åŠ›ï¼ˆXä¸ºä½ çš„ä½“åŠ›å€¼ï¼‰ã€‚",
            "DIY_guixiu":"é—ºç§€",
            "DIY_guixiu_info":"é”å®šæŠ€ã€‚ä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼æˆ–æ‰‹ç‰Œæ•°ä¸ºå¶æ•°ï¼Œä½ å›å¤1ç‚¹ä½“åŠ›ã€‚",
            "DIY_qingyu":"æ¸…ç‰",
            "DIY_qingyu_info":"ä½¿å‘½æŠ€ã€‚â‘ å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¼ƒç½®ä¸¤å¼ ç‰Œï¼Œç„¶åå›å¤ä¸€ç‚¹ä½“åŠ›ã€‚â‘¡ä½¿å‘½ï¼šå‡†å¤‡é˜¶æ®µï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼ç­‰äºä½“åŠ›ä¸Šé™ä¸”ä½ æ²¡æœ‰æ‰‹ç‰Œï¼Œåˆ™ä½ è·å¾—ã€–æ‚¬å­˜ã€—ã€‚â‘¢å¤±è´¥ï¼šå½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ å‡1ç‚¹ä½“åŠ›ä¸Šé™ã€‚",
            "DIY_xuancun":"æ‚¬å­˜",
            "DIY_xuancun_info":"ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ çš„æ‰‹ç‰Œæ•°å°äºä½“åŠ›å€¼ï¼Œåˆ™ä½ å¯ä»¥ä»¤å…¶æ‘¸Xå¼ ç‰Œã€‚",
            "DIY_bifa":"ç¬”ä¼",
            "DIY_bifa_info":"é”å®šæŠ€ï¼Œå½“ä¸€åè§’è‰²ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ç‰Œåï¼Œä½ ä¹¦å†™Xå­—ï¼ˆXä¸ºæ­¤ç‰Œç‰Œåæ•°çš„äº”å€ï¼‰ï¼Œå½“ä½ ä¹¦å†™å®Œæˆæ—¶ï¼Œä½ å¯ä»¥ä¾æ¬¡é€ æˆæª„æ–‡å­—æ•°çš„ä¼¤å®³ã€‚",
            "DIY_songci":"é¢‚è¯",
            "DIY_songci_info":"å‡ºç‰Œé˜¶æ®µé™Xæ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åè§’è‰²ã€‚è‹¥å…¶æ‰‹ç‰Œæ•°ï¼šå¤§äºå…¶ä½“åŠ›å€¼ï¼Œå…¶å¼ƒç½®ä¸¤å¼ ç‰Œï¼›ä¸å¤§äºå…¶ä½“åŠ›å€¼ï¼Œå…¶æ‘¸ä¸¤å¼ ç‰Œã€‚ï¼ˆXä¸ºä½ çš„ä½“åŠ›å€¼ï¼‰",
            "DIY_pingjian":"è¯„è",
            "DIY_pingjian_info":"å‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶/ç»“æŸé˜¶æ®µå¼€å§‹æ—¶/å½“ä½ å—åˆ°ä¼¤å®³å/å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä»¤ç³»ç»Ÿéšæœºä»å‰©ä½™æ­¦å°†ç‰Œå †ä¸­æ£€ç´¢å‡ºä¸‰å¼ æ‹¥æœ‰å‘åŠ¨æ—¶æœºä¸ºå‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶/ç»“æŸé˜¶æ®µå¼€å§‹æ—¶/å½“ä½ å—åˆ°ä¼¤å®³å/å‡ºç‰Œé˜¶æ®µçš„æŠ€èƒ½çš„æ­¦å°†ç‰Œã€‚ç„¶åä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªæŠ€èƒ½è·å¾—ä¹‹ã€‚",
            "DIY_pingjian_use":"è¯„è",
            "DIY_pingjian_use_info":"",
            "DIY_biluan":"é¿ä¹±",
            "DIY_biluan_info":"æ‘†â€¦â€¦",
            "DIY_biluan_audio":"",
            "DIY_biluan_audio_info":"",
            "DIY_qice":"å¥‡ç­–",
            "DIY_qice_info":"æ¯å›åˆæ¯ç§ç‰Œåé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸€å¼ æ‰‹ç‰Œå½“åšä»»æ„ä¸€å¼ æ™®é€šé”¦å›Šç‰Œä½¿ç”¨ã€‚",
            "DIY_qice2":"",
            "DIY_qice2_info":"",
            "DIY_ranshang":"ç‡ƒæ®‡",
            "DIY_ranshang_info":"é”å®šæŠ€ï¼Œå½“ä½ å—åˆ°1ç‚¹ç«ç„°ä¼¤å®³åï¼Œä½ è·å¾—1æšâ€œç‡ƒâ€æ ‡è®°ï¼›ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¤±å»Xç‚¹ä½“åŠ›å¹¶å‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™ç„¶åæ‘¸Xå¼ ç‰Œã€‚ï¼ˆXä¸ºâ€œç‡ƒâ€æ ‡è®°çš„æ•°é‡ï¼‰",
            "DIY_ranshang2":"ç‡ƒæ®‡",
            "DIY_ranshang2_info":"",
            "DIY_hanyong":"æ‚å‹‡",
            "DIY_hanyong_info":"â‘ å½“ä½ ä½¿ç”¨ã€å—è›®å…¥ä¾µã€‘æˆ–ã€ä¸‡ç®­é½å‘ã€‘æˆ–ã€æ€ã€‘æ—¶ï¼Œä½ å¯ä»¥å‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶ä»¤æ­¤ç‰Œçš„ä¼¤å®³å€¼åŸºæ•°+1,è‹¥ä½ çš„ä½“åŠ›å€¼ä¸æ˜¯å…¨åœºå”¯ä¸€æœ€å¤šï¼Œæ­¤ç‰Œæ— æ³•å“åº”ã€‚â‘¡é”å®šæŠ€ï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼ä¸ºå…¨åœºå”¯ä¸€æœ€å¤§ï¼Œåˆ™å½“ä½ é€ æˆæˆ–å—åˆ°ä¼¤å®³æ—¶ï¼Œæ­¤ä¼¤å®³+1ã€‚",
            "DIY_hanyong2":"",
            "DIY_hanyong2_info":"",
            "DIY_fenyin":"å¥‹éŸ³",
            "DIY_fenyin_info":"é”å®šæŠ€ï¼Œå½“ä¸€åè§’è‰²ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œåï¼Œä½ å”±ä¸€å¥æ­Œè¯ï¼Œå¦‚æœä½ ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œæ¯”è¾ƒå¿«çš„è¯å¯ä»¥å”±ä¸€é¦–æ­Œã€‚",
            "DIY_fenyin1":"å¥‹éŸ³",
            "DIY_fenyin1_info":"",
            "DIY_fenyin2":"å¥‹éŸ³",
            "DIY_fenyin2_info":"",
            "DIY_fenyin3":"å¥‹éŸ³",
            "DIY_fenyin3_info":"",
            "DIY_fenyin4":"å¥‹éŸ³",
            "DIY_fenyin4_info":"",
            "DIY_fenyin5":"å¥‹éŸ³",
            "DIY_fenyin5_info":"",
            "DIY_fenyin6":"å¥‹éŸ³",
            "DIY_fenyin6_info":"",
            "DIY_fenyin7":"å¥‹éŸ³",
            "DIY_fenyin7_info":"",
            "DIY_fenyin8":"å¥‹éŸ³",
            "DIY_fenyin8_info":"",
            "DIY_shilu":"å—œæˆ®",
            "DIY_shilu_info":"é”å®šæŠ€ï¼Œâ‘ å½“ä¸€åå…¶ä»–è§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ æˆä¸ºæ­¤ä¼¤å®³çš„ä¼¤å®³æ¥æºå¹¶è·å¾—ç­‰é‡æšâ€œæˆ®â€æ ‡è®°ã€‚æ­¤ä¼¤å®³ä¸è§¦å‘â€œdamageâ€æ—¶æœºåçš„æŠ€èƒ½ï¼›â‘¡å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®è‡³å¤šXå¼ ç‰Œå¹¶æ‘¸åŒå€çš„ç‰Œã€‚ä½ çš„æ‰‹ç‰Œä¸Šé™+X(Xä¸ºä½ æ‹¥æœ‰çš„â€œæˆ®â€æ ‡è®°)",
            "DIY_xiongnve":"å‡¶è™",
            "DIY_xiongnve_info":"é”å®šæŠ€ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œè‹¥å…¶èº«ä»½ä¸º:<br>â€œå¿ è‡£â€ï¼Œä½ å°†å…¶èº«ä»½æ”¹ä¸ºâ€œåè´¼â€ï¼Œç„¶åä½ æ‘¸ä¸€å¼ ç‰Œå¹¶è·å¾—ã€å®Œæ€ã€‘ï¼›<br>â€œä¸»å…¬â€ï¼Œä½ å°†è‡ªå·±/å…¶èº«ä»½æ”¹ä¸ºâ€œä¸»å…¬â€/â€œåè´¼â€ï¼›<br>â€œåè´¼â€ï¼Œä½ ä¸ä¸»å…¬å„æ‘¸ä¸€å¼ ç‰Œå¹¶å›å¤ä¸€ç‚¹ä½“åŠ›ï¼›<br>â€œå†…å¥¸â€ï¼Œä½ æ‘¸ä¸‰å¼ ç‰Œå¹¶ä»¤å…¶ç«‹å³æ­»äº¡ã€‚",
            "DIY_wansha":"å®Œæ€",
            "DIY_wansha_info":"é”å®šæŠ€ã€‚â‘ é™¤ä½ ä»¥å¤–ï¼Œä½ çš„å›åˆå†…ä¸å¤„äºæ¿’æ­»çŠ¶æ€çš„è§’è‰²ä¸èƒ½ä½¿ç”¨ã€æ¡ƒã€‘ã€‚â‘¡å½“æœ‰è§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ ä»¤æ‰€æœ‰å…¶ä»–è§’è‰²çš„æ‰‹ç‰Œå’Œéé”å®šæŠ€å¤±æ•ˆç›´åˆ°æ­¤æ¿’æ­»çŠ¶æ€ç»“ç®—ç»“æŸã€‚",
            "DIY_zhoufu":"å’’ç¼š",
            "DIY_zhoufu_info":"â‘ æ¸¸æˆå¼€å§‹æ—¶/ä¸€åè§’è‰²çš„å›åˆå¼€å§‹æ—¶æˆ–å½“ä½ ä½¿ç”¨/æ‰“å‡º/å¼ƒç½®çš„ç‰Œè¿›å…¥å¼ƒç‰Œå †åï¼Œè‹¥ä½ æ²¡æœ‰â€œå’’â€ï¼Œä½ å°†ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œ/æ­¤ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šç§°ä¸ºâ€œå’’â€ï¼›â‘¡å½“æœ‰ä¸€åè§’è‰²åˆ¤å®šæ—¶ï¼Œä½ å¯ä»¥æ‰“å‡ºä¸€å¼ â€œå’’â€ä½œä¸ºåˆ¤å®šç‰Œ(ä¸è§¦å‘å’’ç¼šâ‘ )ï¼›ä¸€åå…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ æœ¬å›åˆä»¥æ­¤æ³•ç§»é™¤è¿‡â€œå’’â€ï¼Œå…¶å¤±å»ç­‰é‡ç‚¹ä½“åŠ›ã€‚",
            "DIY_zhoufu2":"å’’ç¼š",
            "DIY_zhoufu2_info":"",
            "DIY_yingbing":"å½±å…µ",
            "DIY_yingbing_info":"å½“æœ‰å…¶ä»–è§’è‰²ä½¿ç”¨ä¸ä½ çš„â€œå’’â€é¢œè‰²ç›¸åŒçš„ç‰Œæ—¶ï¼Œä½ å¯ä»¥ç§»å»â€œå’’â€å¹¶æ‘¸ä¸€å¼ ç‰Œç„¶åä½¿æ­¤ç‰Œæ— æ•ˆã€‚",
            "DIY_chexuan":"è½¦æ‚¬",
            "DIY_chexuan_info":"å‡ºç‰Œé˜¶æ®µï¼Œè‹¥ä½ çš„è£…å¤‡åŒºé‡Œæ²¡æœ‰å®ç‰©ç‰Œï¼Œä½ å¯å¼ƒç½®ä¸€å¼ ç‰Œï¼Œé€‰æ‹©ä¸€å¼ ã€èˆ†ã€‘ç½®å…¥ä½ çš„è£…å¤‡åŒºï¼›å½“ä½ å¤±å»è£…å¤‡åŒºé‡Œçš„å®ç‰©ç‰Œåï¼Œä½ é€‰æ‹©ä¸€å¼ ã€èˆ†ã€‘ç½®å…¥ä½ çš„è£…å¤‡åŒºã€‚",
            "DIY_qiangshou":"ç¾Œé¦–",
            "DIY_qiangshou_info":"é”å®šæŠ€ï¼Œè‹¥ä½ çš„è£…å¤‡åŒºæœ‰æ­¦å™¨ç‰Œï¼Œåˆ™ä½ ä½¿ç”¨ã€æ€ã€‘çš„æ¬¡æ•°ä¸Šé™+1ï¼›è‹¥ä½ çš„è£…å¤‡åŒºæœ‰åéª‘ç‰Œï¼Œä½ çš„æ‰‹ç‰Œä¸Šé™+1ï¼›è‹¥ä½ çš„è£…å¤‡åŒºå†…æœ‰å®ç‰©ç‰Œï¼Œä½ ä¸å…¶ä»–è§’è‰²çš„è·ç¦»-1ã€‚",
            "DIY_feilunzhanyu":"é£è½®æˆ˜èˆ†",
            "DIY_feilunzhanyu_info":"å…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶äº¤ç»™ä½ ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_sichengliangyu":"å››ä¹˜ç²®èˆ†",
            "DIY_sichengliangyu_info":"ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_tiejixuanyu":"é“è’ºç„èˆ†",
            "DIY_tiejixuanyu_info":"å…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶å¼ƒç½®ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®æ­¤ç‰Œã€‚",
            "DIY_fenli":"å¥‹åŠ±",
            "DIY_fenli_info":"è‹¥ä½ çš„æ‰‹ç‰Œæ•°/ä½“åŠ›å€¼æˆ–è£…å¤‡åŒºé‡Œæœ‰ç‰Œä¸”æ•°é‡ä¸ºä¸ºå…¨åœºæœ€å¤šï¼Œä½ å¯ä»¥è·³è¿‡åˆ¤å®šé˜¶æ®µ/æ‘¸ç‰Œé˜¶æ®µ/å‡ºç‰Œé˜¶æ®µ/å¼ƒç‰Œé˜¶æ®µã€‚",
            "DIY_pingkou":"å¹³å¯‡",
            "DIY_pingkou_info":"ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥æ‘¸X/2å¼ ç‰Œå¹¶å¯¹è‡³å¤šXåå…¶ä»–è§’è‰²å„é€ æˆ1ç‚¹ä¼¤å®³ï¼ˆXä¸ºå…¶æœ¬å›åˆè·³è¿‡çš„é˜¶æ®µæ•°ï¼‰ã€‚",
            "DIY_jiuchi":"é…’æ± ",
            "DIY_jiuchi_info":"â‘ ä½ å¯ä»¥å°†ä¸€å¼ é»‘è‰²ç‰Œå½“åšã€é…’ã€‘ä½¿ç”¨ã€‚å½“ä½ ä½¿ç”¨ä¸€å¼ ã€é…’ã€‘æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼›<br><span style='font-family: yuanli'>ä¸œæ±‰æ´›é˜³ä¸é•¿å®‰è”åˆé“è·¯ç½²æé†’æ‚¨:<br>é“è·¯åƒä¸‡æ¡ï¼Œå®‰å…¨ç¬¬ä¸€æ¡ï¼›<br>å–é…’ä¸éª‘é©¬ï¼Œéª‘é©¬ä¸å–é…’ã€‚<br></span>â‘¡é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ã€é…’ã€‘æ— æ¬¡æ•°é™åˆ¶ï¼Œä¸”å½“ä½ äºå›åˆå†…ä½¿ç”¨å¸¦æœ‰ã€é…’ã€‘æ•ˆæœçš„ã€æ€ã€‘é€ æˆä¼¤å®³åï¼Œä½ ä»¤ä½ çš„ã€å´©åã€‘å¤±æ•ˆç›´åˆ°å›åˆç»“æŸã€‚",
            "DIY_jiuchi_draw":"",
            "DIY_jiuchi_draw_info":"",
            "DIY_jiuchi_ma":"",
            "DIY_jiuchi_ma_info":"",
            "DIY_roulin":"è‚‰æ—",
            "DIY_roulin_info":"é”å®šæŠ€ã€‚ä½ å¯¹å¥³æ€§è§’è‰²ã€å¥³æ€§è§’è‰²å¯¹ä½ ä½¿ç”¨ã€æ€ã€‘/ã€å†³æ–—ã€‘æ—¶ï¼Œéƒ½éœ€è¿ç»­ä½¿ç”¨ä¸¤å¼ ã€é—ªã€‘/ã€æ€ã€‘æ‰èƒ½å“åº”ã€‚",
            "DIY_benghuai":"å´©å",
            "DIY_benghuai_info":"ç»“æŸé˜¶æ®µï¼Œè‹¥ä½ çš„ä½“åŠ›ä¸æ˜¯å…¨åœºæœ€å°‘çš„(æˆ–ä¹‹ä¸€)ï¼Œä½ å‡1ç‚¹ä½“åŠ›å’Œä½“åŠ›ä¸Šé™å¹¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_baonue":"æš´è™",
            "DIY_baonue_info":"ä¸»å…¬æŠ€ï¼Œå…¶ä»–ç¾¤é›„è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³åï¼Œå…¶å¯ä»¥ä»¤ä½ åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶å›å¤ä¸€ç‚¹ä½“åŠ›ã€‚",
            "Tianlao_equip4":"å®šæ¾œç‰ç‰›é©¬",
            "Tianlao_equip4_info":"",
            "DIY_qizhou":"ç»®èƒ„",
            "DIY_qizhou_info":"é”å®šæŠ€ï¼Œä½ è£…å¤‡åŒºå†…çš„ç‰Œæ— æ³•è¢«å¼ƒç½®ã€‚ä½ æ ¹æ®è£…å¤‡åŒºå†…ç‰Œçš„æ•°é‡è·å¾—ä»¥ä¸‹æŠ€èƒ½:<br>1ä»¶æˆ–ä»¥ä¸Šï¼šã€–é©¬æœ¯ã€—å’Œã€–è‹±å§¿ã€—ï¼›<br>2ä»¶æˆ–ä»¥ä¸Šï¼šã€–æ¿€æ˜‚ã€—å’Œã€–è°¦èŠ‚ã€—ï¼›<br>3ä»¶æˆ–ä»¥ä¸Šï¼šã€–æ—‹é£ã€—å’Œã€–åˆå‡»ã€—ï¼›<br>4ä»¶æˆ–ä»¥ä¸Šï¼šã€–å¹³å¯‡ã€—å’Œã€–èƒ†å®ˆã€—;<br>5ä»¶æˆ–ä»¥ä¸Šï¼šã€–å¥‹åŠ±ã€—å’Œã€–æ”»å¿ƒã€—ã€‚",
            "DIY_shanxi":"é—ªè¢­",
            "DIY_shanxi_info":"â‘ æ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ æˆå¤‡è‡ªå·±ï¼›â‘¡ç»“æŸé˜¶æ®µä½ å±¯å†›1ã€‚",
            "DIY_shanxi_phase":"é—ªè¢­",
            "DIY_shanxi_phase_info":"",
            "DIY_shanxi_end":"é—ªè¢­",
            "DIY_shanxi_end_info":"",
            "DIY_jieyue":"èŠ‚é’º",
            "DIY_jieyue_info":"",
            "DIY_yizhong":"æ¯…é‡",
            "DIY_yizhong_info":"é”å®šæŠ€ï¼Œå½“ä½ çš„é˜²å…·æ ä¸ºç©ºæ—¶ï¼Œé»‘è‰²çš„æ€å¯¹ä½ æ— æ•ˆ",
            "DIY_zhenjun":"é•‡å†›",
            "DIY_zhenjun_info":"â‘ å‡†å¤‡é˜¶æ®µæˆ–ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€åè§’è‰²Xå¼ ç‰Œï¼ˆXä¸ºå…¶æ‰‹ç‰Œæ•°å‡ä½“åŠ›å€¼ä¸”è‡³å°‘ä¸º1ï¼‰ï¼Œè‹¥å…¶ä¸­æ²¡æœ‰è£…å¤‡ç‰Œï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼š1.ä½ å¼ƒä¸€å¼ ç‰Œï¼›2.è¯¥è§’è‰²æ‘¸ç­‰é‡çš„ç‰Œã€‚â‘¡å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åè§’è‰²ï¼Œä»¤å…¶é€‰æ‹©æ˜¯å¦ä½¿ç”¨ä¸€å¼ ä¸ä¸ºé»‘è‰²çš„ã€æ€ã€‘ã€‚è‹¥å…¶é€‰æ‹©æ˜¯ï¼Œåˆ™ä½ äºæ­¤ã€æ€ã€‘ç»“ç®—å®Œæˆåæ‘¸1+Xå¼ ç‰Œ(Xä¸ºæ­¤ã€æ€ã€‘é€ æˆçš„ä¼¤å®³æ€»ç‚¹æ•°)ã€‚è‹¥å…¶é€‰æ‹©å¦ï¼Œåˆ™ä½ å¯¹å…¶æˆ–å…¶æ”»å‡»èŒƒå›´å†…çš„ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³ã€‚",
            "DIY_zhenjun1":"é•‡å†›",
            "DIY_zhenjun1_info":"",
            "DIY_zhenjun2":"é•‡å†›",
            "DIY_zhenjun2_info":"",
            "DIY_yujinjieyue":"èŠ‚é’º",
            "DIY_yujinjieyue_info":"â‘ å¼ƒç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ã€‚ç„¶åå…¶é€‰æ‹©ä¸€é¡¹ï¼šä»¤ä½ æ‘¸ä¸‰å¼ ç‰Œï¼šæˆ–å…¶ä¿ç•™ä¸€å¼ æ‰‹ç‰Œå’Œè£…å¤‡åŒºçš„ç‰Œï¼Œç„¶åå¼ƒç½®å…¶ä½™çš„ç‰Œã€‚â‘¡ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ æ‰‹ç‰Œï¼Œç„¶åä»¤ä¸€åå…¶ä»–è§’è‰²é€‰æ‹©ä¸€é¡¹ï¼šå°†ä¸€å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼ˆç§°ä¹‹ä¸ºâ€œèŠ‚â€ï¼‰ï¼›æˆ–ä»¤ä½ å¼ƒç½®å…¶ä¸€å¼ ç‰Œã€‚å½“ä½ ä½ æ­¦å°†ç‰Œä¸Šæœ‰â€œèŠ‚â€æ—¶ï¼Œä½ å¯ä»¥å°†çº¢è‰²æ‰‹ç‰Œå½“ä½œã€é—ªã€‘ã€é»‘è‰²çš„æ‰‹ç‰Œå½“ä½œã€æ— æ‡ˆå¯å‡»ã€‘ä½¿ç”¨æˆ–æ‰“å‡ºã€‚å‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ è·å¾—ä½ æ­¦å°†ç‰Œä¸Šçš„â€œèŠ‚â€ã€‚",
            "DIY_jieyue1":"èŠ‚é’º",
            "DIY_jieyue1_info":"",
            "DIY_jueyong":"ç»å‹‡",
            "DIY_jueyong_info":"é”å®šæŠ€ã€‚â‘ å½“ä½ ä¸å› ã€–ç»å‹‡â‘¡ã€—è€Œæˆä¸ºä¸€å¼ ç‰Œçš„å”¯ä¸€ç›®æ ‡æ—¶ï¼Œè‹¥æ­¤ç‰Œä¸ä¸ºã€æ¡ƒã€‘æˆ–ã€é…’ã€‘ï¼Œåˆ™ä½ å°†æ­¤ç‰Œå¯¹åº”å®ä½“ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºâ€œç»â€ï¼Œä¸”å–æ¶ˆæ­¤ç‰Œçš„ç›®æ ‡ï¼ˆæ— å®ä½“ç‰Œåˆ™æ­¤ç‰Œæ— æ•ˆï¼‰ã€‚â‘¡ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æœ‰â€œç»â€ï¼Œåˆ™ä½ ä¾æ¬¡ç¿»å¼€æ‰€æœ‰â€œç»â€ï¼Œè‹¥æ­¤â€œç»â€å¯ä»¥å¯¹å…¶åŸä½¿ç”¨è€…ä½¿ç”¨ï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›ä½¿ç”¨ä¹‹ï¼ˆè‹¥æ­¤ç‰Œä½¿ç”¨è€…æ˜¯ä½ ï¼Œåˆ™å›å¤ä¸€ç‚¹ä½“åŠ›/åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™ï¼›è‹¥ä½ çš„ä½“åŠ›å€¼ä¸å¤§äº1ï¼Œåˆ™æ”¹ä¸ºå‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™ï¼‰ï¼Œåä¹‹ï¼Œä½ å°†å…¶ç½®å…¥å¼ƒç‰Œå †å¹¶å›å¤ä¸€ç‚¹ä½“åŠ›ï¼ˆæœªå—ä¼¤åˆ™æ”¹ä¸ºåŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™ï¼‰ã€‚",
            "DIY_qiaobian":"å·§å˜",
            "DIY_qiaobian_info":"â‘ ä½ çš„åˆ¤å®š/æ‘¸ç‰Œ/å‡ºç‰Œ/å¼ƒç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶è·³è¿‡ä¹‹ã€‚è‹¥ä½ ä»¥æ­¤æ³•è€Œè·³è¿‡æ‘¸ç‰Œ/å‡ºç‰Œé˜¶æ®µæ—¶ï¼Œä½ å¯ä»¥è·å¾—è‡³å¤šä¸¤åå…¶ä»–è§’è‰²çš„å„ä¸€å¼ ç‰Œï¼ˆä½ æ¯å°‘é€‰ä¸€ä¸ªç›®æ ‡ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼‰/ç§»åŠ¨åœºä¸Šä¸€å¼ ç‰Œã€‚<br>ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ æ‘¸X-1å¼ ç‰Œï¼ˆXä¸ºå…¶æœ¬å›åˆè·³è¿‡çš„é˜¶æ®µæ•°ï¼Œè‹¥å…¶ä¸ºä½ ï¼ŒX+1ï¼‰ï¼›<br>â‘¡å½“ä½ äºå›åˆå¤–æˆä¸ºä¸€å¼ ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å–æ¶ˆæ­¤ç‰Œæ‰€æœ‰ç›®æ ‡ï¼Œç„¶åè¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥åˆ¤å®šç»“æœä¸ºçº¢è‰²ï¼Œä½ è·å¾—æ­¤ç‰Œï¼›<br>â‘¢ä¸€åå…¶ä»–è§’è‰²çš„æ‘¸ç‰Œ/å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥åˆ¤å®šç»“æœä¸ä¸ºé»‘è‰²/çº¢è‰²ï¼Œå…¶è·³è¿‡æ­¤é˜¶æ®µã€‚<br>å½“ä¸€åè§’è‰²çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥äº®å‡ºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿ä¹‹ã€‚",
            "DIY_qiaobian1":"å·§å˜",
            "DIY_qiaobian1_info":"",
            "DIY_qiaobian2":"å·§å˜",
            "DIY_qiaobian2_info":"",
            "DIY_qiaobian3":"å·§å˜",
            "DIY_qiaobian3_info":"",
            "DIY_qiaobian4":"å·§å˜",
            "DIY_qiaobian4_info":"",
            "DIY_qiaobian5":"å·§å˜",
            "DIY_qiaobian5_info":"",
            "DIY_qiaobian6":"å·§å˜",
            "DIY_qiaobian6_info":"",
            "DIY_qiaobian7":"å·§å˜",
            "DIY_qiaobian7_info":"",
            "DIY_yicong":"ä¹‰ä»",
            "DIY_yicong_info":"é”å®šæŠ€ï¼Œåº§æ¬¡æŠ€ï¼Œå½“å‰å›åˆè§’è‰²åº§æ¬¡ä¸ºå¥‡æ•°æ—¶ï¼Œä½ ä¸å…¶ä»–è§’è‰²è®¡ç®—è·ç¦»-1ï¼›å½“å‰å›åˆè§’è‰²ä¸ºå¶æ•°æ—¶ï¼Œä½ ä¸å…¶ä»–è§’è‰²è®¡ç®—è·ç¦»+1ã€‚",
            "DIY_qiaomeng":"è¶«çŒ›",
            "DIY_qiaomeng_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æˆ–ã€å†³æ–—ã€‘æŒ‡å®šç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®å…¶ä¸€å¼ ç‰Œï¼›è‹¥æ­¤ç‰Œé€ æˆä¼¤å®³ï¼Œä½ å¯ä»¥ä¸å…¶äº¤æ¢åº§æ¬¡ã€‚",
            "DIY_qiaomeng_seat":"",
            "DIY_qiaomeng_seat_info":"",
            "DIY_luanwu":"ä¹±æ­¦",
            "DIY_luanwu_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä»¤ä¸€åæœ‰æ‰‹ç‰Œçš„å…¶ä»–è§’è‰²éšæœºä½¿ç”¨ä¸€å¼ æ‰‹ç‰Œï¼ˆéšæœºæŒ‡å®šç›®æ ‡ï¼‰ï¼Œè‹¥å…¶ä»æœ‰å¯ä»¥ä½¿ç”¨çš„ç‰Œï¼Œåˆ™é‡å¤æ­¤æµç¨‹ã€‚",
            "DIY_weimu":"å¸·å¹•",
            "DIY_weimu_info":"é”å®šæŠ€ã€‚â‘ ä½ ä¸èƒ½æˆä¸ºé»‘è‰²é”¦å›Šç‰Œçš„ç›®æ ‡ã€‚â‘¡å½“ä½ äºå›åˆå†…æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„ç›®æ ‡æ—¶ï¼Œå–æ¶ˆä¹‹ã€‚",
            "DIY_zhenyi":"çœŸä»ª",
            "DIY_zhenyi_info":"ä½ å¯ä»¥åœ¨ä»¥ä¸‹æ—¶æœºæ¥å‘åŠ¨ä»¥ä¸‹æ•ˆæœï¼šä¸€åè§’è‰²çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥å°†åˆ¤å®šç»“æœæ”¹ä¸ºä»»æ„èŠ±è‰²ä¸”ç‚¹æ•°ä¸º5ï¼›ä½ çš„å›åˆå¤–ï¼Œä½ å¯ä»¥å°†ä½ çš„ä¸€å¼ æ‰‹ç‰Œå½“ã€æ¡ƒã€‘ä½¿ç”¨ï¼›å½“ä½ é€ æˆä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥ä»¤æ­¤ä¼¤å®³+1ï¼›å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥ä»ç‰Œå †ä¸­éšæœºè·å¾—ä¸‰ç§ç±»å‹çš„ç‰Œå„ä¸€å¼ ã€‚",
            "DIY_dianhua":"ç‚¹åŒ–",
            "DIY_dianhua_info":"å‡†å¤‡é˜¶æ®µæˆ–ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥è§‚æ˜Ÿ4ã€‚",
            "DIY_falu":"æ³•ç®“",
            "DIY_falu_info":"é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ è·å¾—ã€Œç´«è–‡ã€ã€ŒååœŸã€ã€Œç‰æ¸…ã€ã€Œå‹¾é™ˆã€æ ‡è®°å„ä¸€ä¸ªã€‚",
            "DIY_zhenyi_spade":"çœŸä»ª",
            "DIY_zhenyi_spade_info":"",
            "DIY_zhenyi_club":"çœŸä»ª",
            "DIY_zhenyi_club_info":"",
            "DIY_zhenyi_heart":"çœŸä»ª",
            "DIY_zhenyi_heart_info":"",
            "DIY_kaikang":"æ…·å¿¾",
            "DIY_kaikang_info":"å½“ä¸€åè§’è‰²æˆä¸ºä¸€å¼ å¸¦æœ‰ã€Œä¼¤å®³ã€çš„ç‰Œçš„ç›®æ ‡åï¼Œè‹¥æ­¤ç‰Œä½¿ç”¨è€…åœ¨ä½ æˆ–ç›®æ ‡çš„æ”»å‡»èŒƒå›´å†…ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œä½ äº¤ç»™å…¶ä¸€å¼ ç‰Œå¹¶å±•ç¤ºä¹‹ã€‚ç„¶åè¯¥è§’è‰²å¯ä»¥ä½¿ç”¨æ­¤ç‰Œï¼ˆè‹¥è¯¥è§’è‰²æ˜¯ä½ ï¼Œåˆ™æ”¹ä¸ºå¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œï¼‰ã€‚",
            "DIY_kaikang2":"æ…·å¿¾",
            "DIY_kaikang2_info":"",
            "DIY_shuangxiong":"åŒé›„",
            "DIY_shuangxiong_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œã€å†³æ–—ã€‘ä½¿ç”¨ã€‚æ­¤ã€å†³æ–—ã€‘ç»“ç®—å®Œæˆåï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼šâ‘ æ‘¸ä¸¤å¼ ç‰Œï¼›â‘¡é‡ç½®æ­¤æŠ€èƒ½ã€‚",
            "DIY_shuangxiong2":"åŒé›„",
            "DIY_shuangxiong2_info":"",
            "DIY_zhanjue":"æˆ˜ç»",
            "DIY_zhanjue_info":"â‘ ä½ å¯ä»¥å°†ä¸¤å¼ èŠ±è‰²ç›¸åŒçš„ç‰Œå½“ä½œä¸€å¼ ã€å†³æ–—ã€‘ä½¿ç”¨ï¼›â‘¡å½“ä½ ä½¿ç”¨ã€å†³æ–—ã€‘é€ æˆä¼¤å®³æˆ–å—åˆ°ã€å†³æ–—ã€‘é€ æˆçš„ä¼¤å®³æ—¶ï¼Œä½ ä¸ä¼¤å®³æ¥æºå„æ‘¸ä¸€å¼ ç‰Œã€‚â‘¢é”å®šæŠ€ï¼Œå½“å…¶ä½™è§’è‰²å¯¹ä½ ä½¿ç”¨çš„ã€æ€ã€‘æˆ–ä¸ä¸ºã€å†³æ–—ã€‘çš„ä¼¤å®³æ€§é”¦å›Šç‰Œæ—¶ï¼Œè§†ä¸ºä½ å¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€å†³æ–—ã€‘ã€‚",
            "DIY_zhanjue2":"æˆ˜ç»",
            "DIY_zhanjue2_info":"",
            "DIY_zhanjue3":"æˆ˜ç»",
            "DIY_zhanjue3_info":"",
            "DIY_aocai":"å‚²æ‰",
            "DIY_aocai_info":"ä½ å¯ä»¥å¦‚æ‰‹ç‰Œèˆ¬ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œå †é‡Œçš„å‰å››å¼ åŸºæœ¬ç‰Œã€‚",
            "DIY_duwu":"é»©æ­¦",
            "DIY_duwu_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¯¹ä½ æ”»å‡»èŒƒå›´å†…çš„ä¸€åå…¶ä»–è§’è‰²é€ æˆéšæœº0-2ç‚¹ä¼¤å®³,è‹¥å…¶å­˜æ´»ï¼Œä½ å¤±å»2-ä¼¤å®³å€¼ç‚¹ä½“åŠ›ã€‚",
            "DIY_xianzhen":"é™·é˜µ",
            "DIY_xianzhen_info":"å‡ºç‰Œé˜¶æ®µï¼Œè‹¥åœºä¸Šæ²¡æœ‰è¢«â€œé™·é˜µâ€ç›®æ ‡ï¼Œä½ å¯ä»¥å¤±å»ä¸€ç‚¹ä½“åŠ›å¹¶é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²ï¼Œä½ æœ¬å›åˆå†…å¯¹å…¶ä½¿ç”¨ç‰Œæ²¡æœ‰æ¬¡æ•°å’Œè·ç¦»é™åˆ¶ä¸”æ— è§†å…¶é˜²å…·ï¼Œå…¶ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œæœ¬å›åˆä½ åªèƒ½å¯¹å…¶ä½¿ç”¨ç‰Œï¼Œä¸”ä½ å¯¹å…¶é€ æˆä¼¤å®³åä¸è§¦å‘å…¶ä½™ä¼¤å®³ç»“ç®—ã€‚",
            "DIY_xianzhen2":"é™·é˜µ",
            "DIY_xianzhen2_info":"",
            "DIY_xianzhen3":"é™·é˜µ",
            "DIY_xianzhen3_info":"",
            "DIY_roulin_juedou":"è‚‰æ—",
            "DIY_roulin_juedou_info":"",
            "DIY_yizan":"ç¿Šèµ",
            "DIY_yizan_info":"ä½ å¯ä»¥å°†ä¸€å¼ åŸºæœ¬ç‰Œå½“åšä»»æ„ä¸€å¼ åŸºæœ¬ç‰Œæ‰“å‡ºæˆ–ä½¿ç”¨ã€‚",
            "DIY_longyuan":"é¾™æ¸Š",
            "DIY_longyuan_info":"é™å®šæŠ€ï¼Œé”å®šæŠ€ï¼Œè‹¥ä½ æœ¬å±€æ¸¸æˆå†…å‘åŠ¨è¿‡ã€–ç¿Šèµã€—çš„æ¬¡æ•°å¤§äºç­‰äº3ï¼Œä½ ä¿®æ”¹ã€–ç¿Šèµã€—å’Œã€–é¾™æ¸Šã€—ã€‚",
            "DIY_yizan_rewrite":"ç¿Šèµ",
            "DIY_yizan_rewrite_info":"ä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“åšä»»æ„ä¸€å¼ åŸºæœ¬ç‰Œæ‰“å‡ºæˆ–ä½¿ç”¨ã€‚",
            "DIY_longyuan_rewrite":"é¾™æ¸Š",
            "DIY_longyuan_rewrite_info":"é”å®šæŠ€ï¼Œå½“ä½ æ‰“å‡ºæˆ–ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘æˆ–ã€é—ªã€‘æˆ–äºå›åˆå¤–æ‰“å‡ºæˆ–ä½¿ç”¨ä¸€å¼ ã€æ¡ƒã€‘æˆ–ã€é…’ã€‘æ—¶ï¼Œä½ è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ºçº¢è‰²ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            shoupai:"å¤±æ•ˆ",
            "shoupai_info":"",
            "DIY_guzheng":"å›ºæ”¿",
            "DIY_guzheng_info":"å…¶ä»–è§’è‰²å› å¼ƒç½®è€Œå¤±å»ç‰Œæ—¶ï¼Œè‹¥å…¶æ­¤æ¬¡å¼ƒç‰Œæ•°ï¼1ï¼Œä½ å¯ä»¥ä»¤å…¶è·å¾—æœ¬æ¬¡è¿›å…¥å¼ƒç‰Œå †çš„ç‰Œä¸­çš„ä¸€å¼ ï¼Œç„¶åä½ è·å¾—å…¶ä½™çš„ç‰Œã€‚",
            "DIY_zhijian":"ç›´è°",
            "DIY_zhijian_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ è£…å¤‡ç‰Œç½®äºä¸€åå…¶ä»–è§’è‰²è£…å¤‡åŒºé‡Œï¼Œç„¶åæ‘¸ä¸€å¼ ç‰Œã€‚å½“ä½ ä½¿ç”¨è£…å¤‡ç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_luanzhan":"ä¹±æˆ˜",
            "DIY_luanzhan_info":"å½“ä½ ä½¿ç”¨ä¸€å¼ ç‰Œæ—¶ï¼Œä½ è·å¾—ä¸€ä¸ªâ€œä¹±â€ã€‚å½“ä½ ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œé€‰æ‹©ç›®æ ‡åï¼Œä½ å¯ä¸ºæ­¤ç‰Œå¢åŠ è‡³å¤šXä¸ªç›®æ ‡ã€‚å½“ä½ ä½¿ç”¨è¿™äº›ç‰ŒæŒ‡å®šç¬¬ä¸€ä¸ªç›®æ ‡åï¼Œè‹¥æ­¤ç‰Œç›®æ ‡æ•°å°äºXï¼Œåˆ™ä½ ç§»å»X/2ï¼ˆå‘ä¸Šå–æ•´ï¼‰ä¸ªâ€œä¹±â€å¹¶æ‘¸ç­‰é‡çš„ç‰Œã€‚ä½ ä½¿ç”¨ã€æ€ã€‘æ¬¡æ•°ä¸Šé™+Xã€‚ï¼ˆXä¸ºâ€œä¹±â€æ•°ï¼‰",
            "DIY_luanzhan_add":"ä¹±æˆ˜",
            "DIY_luanzhan_add_info":"",
            "DIY_luanzhan_remove":"ä¹±æˆ˜",
            "DIY_luanzhan_remove_info":"",
            "DIY_liegong":"çƒˆå¼“",
            "DIY_liegong_info":"é”å®šæŠ€ï¼Œä½ å¯¹æ‰‹ç‰Œæ•°ä¸å¤§äºä½ çš„è§’è‰²ä½¿ç”¨ã€æ€ã€‘æ— è·ç¦»é™åˆ¶ä¸”ä¸å¯å“åº”ã€‚ä½ ä½¿ç”¨ã€æ€ã€‘çš„ä¼¤å®³åŸºæ•°+Xï¼ˆXä¸ºä½ ä¸Šå›åˆé€ æˆçš„ä¼¤å®³æ•°ï¼‰",
            "DIY_liegong2":"çƒˆå¼“",
            "DIY_liegong2_info":"",
            "DIY_zhiyu":"æ™ºæ„š",
            "DIY_zhiyu_info":"é”å®šæŠ€ï¼Œâ‘ å½“ä½ äºå›åˆå†…ä½¿ç”¨ä¸€å¼ è½¬åŒ–é”¦å›Šç‰Œæ—¶ï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼å’Œæ‰‹ç‰Œæ•°å‡å¤§äº1ï¼Œä½ éœ€å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å±•ç¤ºæ‰€æœ‰æ‰‹ç‰Œï¼Œè‹¥é¢œè‰²å‡ç›¸åŒï¼Œä½ å¼ƒç½®ä¸€åè§’è‰²ä¸€å¼ ç‰Œã€‚â‘¡å½“ä½ å—åˆ°ä¸€ç‚¹ä¼¤å®³æˆ–æˆä¸ºå…¶ä»–è§’è‰²é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå¹¶å±•ç¤ºæ‰€æœ‰æ‰‹ç‰Œï¼Œè‹¥é¢œè‰²å‡ç›¸åŒï¼Œä½ å¼ƒç½®ä¸€åè§’è‰²ä¸€å¼ ç‰Œã€‚",
            "DIY_zhiyu2":"æ™ºæ„š",
            "DIY_zhiyu2_info":"",
            "DIY_tuntian":"å±¯ç”°",
            "DIY_tuntian_info":"å½“ä½ äºå›åˆå¤–å¤±å»ä¸€å¼ ç‰Œåï¼Œæˆ–äºå›åˆå†…å¤±å»ä¸€å¼ ã€æ€ã€‘åï¼Œä½ å¯ä»¥å°†ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼Œç§°ä¹‹ä¸ºã€ç”°ã€‘ã€‚é”å®šæŠ€ï¼Œä½ è®¡ç®—ä¸å…¶ä»–è§’è‰²çš„è·ç¦»æ—¶-Xï¼ˆXä¸ºä½ æ­¦å°†ç‰Œä¸Šã€ç”°ã€‘çš„æ•°ç›®ï¼‰",
            "DIY_zaoxian":"å‡¿é™©",
            "DIY_zaoxian_info":"è§‰é†’æŠ€ï¼Œä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œè‹¥ä½ æ­¦å°†ç‰Œä¸Šã€ç”°ã€‘çš„æ•°é‡è¾¾åˆ°3å¼ æˆ–æ›´å¤šï¼Œåˆ™ä½ å‡1ç‚¹ä½“åŠ›ä¸Šé™ï¼Œå¹¶è·å¾—æŠ€èƒ½ã€–æ€¥è¢­ã€—ã€‚ä½ äºå½“å‰å›åˆç»“æŸåè¿›è¡Œä¸€ä¸ªé¢å¤–çš„å›åˆã€‚",
            "DIY_jixi":"æ€¥è¢­",
            "DIY_jixi_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä»»æ„ä¸€å¼ ã€ç”°ã€‘å½“ä½œã€é¡ºæ‰‹ç‰µç¾Šã€‘ä½¿ç”¨ã€‚å½“ä¸€åå…¶ä»–è§’è‰²äºä½ çš„å›åˆå†…å¤±å»æœ€åä¸€å¼ æ‰‹ç‰Œæ—¶ï¼Œä½ å¯ä»¥äºå½“å‰å›åˆç»“æŸåè¿›è¡Œä¸€ä¸ªé¢å¤–çš„å›åˆã€‚",
            "DIY_jixi2":"æ€¥è¢­",
            "DIY_jixi2_info":"",
            "DIY_qiaobian8":"å·§å˜",
            "DIY_qiaobian8_info":"",
            "DIY_qiaobian9":"å·§å˜",
            "DIY_qiaobian9_info":"",
            "DIY_zhendu_dushi":"æ¯’é€",
            "DIY_zhendu_dushi_info":"é”å®šæŠ€ï¼Œä½ ä¸æ˜¯å…¶ä»–è§’è‰²ã€æ¡ƒã€‘çš„åˆæ³•ç›®æ ‡ã€‚",
            "DIY_muzhen":"ç¦é˜µ",
            "DIY_muzhen_info":"å‡ºç‰Œé˜¶æ®µå„é™ä¸€æ¬¡ã€‚â‘ ä½ å¯ä»¥å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åè£…å¤‡åŒºå†…æœ‰ç‰Œçš„å…¶ä»–è§’è‰²ï¼Œç„¶åè·å¾—å…¶è£…å¤‡åŒºå†…çš„ä¸€å¼ ç‰Œã€‚â‘¡ä½ å¯ä»¥å°†è£…å¤‡åŒºå†…çš„ä¸€å¼ ç‰Œç½®äºå…¶ä»–è§’è‰²çš„è£…å¤‡åŒºå†…ï¼Œç„¶åè·å¾—å…¶ä¸€å¼ æ‰‹ç‰Œã€‚",
            "DIY_muzhen1":"",
            "DIY_muzhen1_info":"",
            "DIY_muzhen2":"",
            "DIY_muzhen2_info":"",
            "DIY_muzhen_backup":"ç¦é˜µ",
            "DIY_muzhen_backup_info":"",
            "DIY_kannan":"æˆ¡éš¾",
            "DIY_kannan_info":"å‡ºç‰Œé˜¶æ®µé™ï¼Œä½ å¯ä»¥ä¸ä¸€åå…¶ä»–è§’è‰²æ‹¼ç‚¹ã€‚è‹¥ä½ èµ¢ï¼Œä½ ä½¿ç”¨çš„ä¸‹ä¸€å¼ ã€æ€ã€‘çš„ä¼¤å®³å€¼åŸºæ•°+1ã€‚è‹¥ä½ æ²¡èµ¢ï¼Œä½ è·å¾—å…¶çš„æ‹¼ç‚¹ç‰Œä¸”å…¶ä½¿ç”¨çš„ä¸‹ä¸€å¼ ã€æ€ã€‘çš„ä¼¤å®³å€¼åŸºæ•°+1ã€‚å½“ä½ å› æ‹¼ç‚¹è€Œå¤±å»ç‰Œåä¸”æœ¬æ¬¡æ‹¼ç‚¹ç‰Œäº®å‡ºæ—¶ï¼Œè‹¥ä½ çš„æ‹¼ç‚¹ç‰Œç‚¹æ•°ï¼œå…¶æ‹¼ç‚¹ç‰Œçš„ç‚¹æ•°ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå¹¶é€‰æ‹©ä¸€å¼ ç‰Œä½œä¸ºä½ æ­¤æ¬¡æ‹¼ç‚¹ç‚¹æ•°ã€‚",
            "DIY_kannan_eff":"æˆ¡éš¾",
            "DIY_kannan_eff_info":"",
            "DIY_kannan_compare":"æˆ¡éš¾",
            "DIY_kannan_compare_info":"",
            "DIY_kannan_lose":"æˆ¡éš¾",
            "DIY_kannan_lose_info":"",
            "DIY_rende":"ä»å¾·",
            "DIY_rende_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä»»æ„å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ï¼Œä½ æ¯ä»¥æ­¤æ³•äº¤å‡ºçš„ç‰Œæ•°è¾¾åˆ°2çš„å€æ•°æ—¶ï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä¸€å¼ æ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ä¸”ä¸è®¡å…¥æ¬¡æ•°çš„åŸºæœ¬ç‰Œï¼Œè¾¾åˆ°5çš„ä¸”é2çš„å€æ•°æ—¶ï¼Œä½ æ‘¸5å¼ ç‰Œã€‚",
            "DIY_rende1":"ä»å¾·",
            "DIY_rende1_info":"",
            "DIY_qizhi":"å¥‡åˆ¶",
            "DIY_qizhi_info":"å½“ä½ ä½¿ç”¨ä¸€å¼ ç‰ŒæŒ‡å®šç›®æ ‡æˆ–äºå›åˆå¤–æ‰“å‡ºæˆ–ä½¿ç”¨ä¸€å¼ ç‰Œåï¼Œä½ å¯ä»¥å¼ƒç½®ä¸æ˜¯æ­¤ç‰Œç›®æ ‡çš„ä¸€åè§’è‰²çš„ä¸€å¼ ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œï¼Œè‹¥å¦‚æ­¤åšä¸”å¼ƒç‰Œè§’è‰²ä¸ä¸ºä½ ï¼Œä½ äº¤ç»™å…¶ä¸€å¼ ç‰Œã€‚",
            "DIY_jinqu":"è¿›è¶‹",
            "DIY_jinqu_info":"ä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æœ¬å›åˆå‘åŠ¨è¿‡ã€–å¥‡åˆ¶ã€—ï¼Œä½ å¯ä»¥æ‘¸Xå¼ ç‰Œï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ å°†æ‰‹ç‰Œå¼ƒç½®è‡³Xå¼ ã€‚ï¼ˆXä¸ºä½ äºæ­¤å›åˆå‘åŠ¨è¿‡ã€–å¥‡åˆ¶ã€—çš„æ¬¡æ•°ï¼‰",
            "DIY_quanji":"æƒè®¡",
            "DIY_quanji_info":"å‡ºç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œè‹¥ä½ çš„æ‰‹ç‰Œæ•°å¤§äºä½“åŠ›å€¼ï¼Œæˆ–ä½ çš„ç‰Œè¢«å…¶ä»–è§’è‰²è·å¾—åæˆ–å½“ä½ å—åˆ°1ç‚¹ä¼¤å®³åæˆ–å½“ä½ ä½¿ç”¨ç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡å¹¶å¯¹å…¶é€ æˆä¼¤å®³åï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå°†ä¸€å¼ ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºâ€œæƒâ€ï¼›ä½ çš„æ‰‹ç‰Œä¸Šé™+Xï¼ˆXä¸ºâ€œæƒâ€çš„æ•°é‡ï¼‰ã€‚",
            "DIY_zili":"è‡ªç«‹",
            "DIY_zili_info":"è§‰é†’æŠ€ã€‚ä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œè‹¥ä½ çš„â€œæƒâ€æ•°å¤§äº2ï¼Œåˆ™ä½ å›å¤1ç‚¹ä½“åŠ›å¹¶æ‘¸ä¸¤å¼ ç‰Œï¼Œå‡1ç‚¹ä½“åŠ›ä¸Šé™å¹¶è·å¾—ã€–æ’å¼‚ã€—ã€‚ä½ äºå½“å‰å›åˆç»“æŸåè¿›è¡Œä¸€ä¸ªé¢å¤–çš„å›åˆã€‚ã€‚",
            "DIY_paiyi":"æ’å¼‚",
            "DIY_paiyi_info":"å‡ºç‰Œé˜¶æ®µæ¯é¡¹å„é™ä¸€æ¬¡ï¼Œä½ å¯ç§»å»ä¸€å¼ â€œæƒâ€å¹¶é€‰æ‹©ä¸€é¡¹ï¼šâ‘ ä»¤ä¸€åè§’è‰²æ‘¸Xå¼ ç‰Œã€‚â‘¡å¯¹è‡³å¤šXåè§’è‰²å„é€ æˆ1ç‚¹ä¼¤å®³ã€‚ï¼ˆXä¸ºâ€œæƒâ€æ•°ï¼‰",
            "DIY_paiyi_0":"æ’å¼‚",
            "DIY_paiyi_0_info":"",
            "DIY_paiyi_1":"æ’å¼‚",
            "DIY_paiyi_1_info":"",
            "DIY_paiyi_backup":"æ’å¼‚",
            "DIY_paiyi_backup_info":"",
            "DIY_paiyi_backup0":"æ’å¼‚",
            "DIY_paiyi_backup0_info":"",
            "DIY_paiyi_backup1":"æ’å¼‚",
            "DIY_paiyi_backup1_info":"",
            "DIY_quanji2":"æƒè®¡",
            "DIY_quanji2_info":"",
            "DIY_quanji3":"æƒè®¡",
            "DIY_quanji3_info":"",
            "DIY_shenduan":"æ…æ–­",
            "DIY_shenduan_info":"å½“ä½ çš„é»‘è‰²ç‰Œå› å¼ƒç½®è€Œè¿›å…¥å¼ƒç‰Œå †åï¼Œä½ å¯ä»¥å°†å…¶å½“åšã€å…µç²®å¯¸æ–­ã€‘ä½¿ç”¨ï¼ˆæ— è·ç¦»é™åˆ¶ï¼‰ã€‚",
            "DIY_yonglve":"å‹‡ç•¥",
            "DIY_yonglve_info":"ä¸€åè§’è‰²çš„åˆ¤å®šé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®å…¶åˆ¤å®šåŒºé‡Œçš„ä¸€å¼ ç‰Œã€‚ç„¶åè‹¥è¯¥è§’è‰²ä¸ä¸ºä½ ï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼šæ‘¸ä¸¤å¼ ç‰Œæˆ–å¯¹å…¶é€ æˆä¸€ç‚¹ä¼¤å®³ã€‚",
            "DIY_mingren":"æ˜ä»»",
            "DIY_mingren_info":"é”å®šæŠ€ï¼Œä½ å°†ç‰Œå †é¡¶ä¸€å¼ ç‰Œç§°ä¸ºâ€œä»»â€å¹¶å¯¹æ‰€æœ‰è§’è‰²å¯è§ã€‚å‡ºç‰Œé˜¶æ®µå¼€å§‹/ç»“æŸæ—¶ï¼Œä½ å¯ä»¥ä»ç‰Œå †åº•æ‘¸ä¸€å¼ ç‰Œå¹¶å°†ä¸€å¼ æ‰‹ç‰Œç½®äºç‰Œå †é¡¶ã€‚",
            "DIY_zhenliang":"è´è‰¯",
            "DIY_zhenliang_info":"è½¬æ¢æŠ€ï¼Œé˜´ï¼šå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ä¸â€œä»»â€é¢œè‰²ç›¸åŒçš„ç‰Œå¹¶å¯¹æ”»å‡»èŒƒå›´å†…çš„ä¸€åè§’è‰²é€ æˆ1ç‚¹ä¼¤å®³ã€‚é˜³ï¼šå½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºçš„ç‰Œç»“ç®—å®Œæˆåï¼Œè‹¥æ­¤ç‰Œä¸â€œä»»â€é¢œè‰²ç›¸åŒï¼Œåˆ™ä½ å¯ä»¥ä»¤ä¸€åè§’è‰²æ‘¸ä¸€å¼ ç‰Œã€‚",
            "JX_luzhi_die":"",
            "JX_luzhi_die_info":"",
            "DIY_yilie":"æ¯…çƒˆ",
            "DIY_yilie_info":"é”å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ¨ªç½®ä½ ä¸ä¸€åå…¶ä»–è§’è‰²ã€‚å½“ä¸€åè§’è‰²çš„æ¨ªç½®çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œä½ å›å¤1ç‚¹ä½“åŠ›ã€‚",
            "DIY_fenming":"å¥‹å‘½",
            "DIY_fenming_info":"é”å®šæŠ€ï¼Œè‹¥ä½ å·²æ¨ªç½®ï¼Œä½ ä¸å·²æ¨ªç½®è§’è‰²å½¼æ­¤è·ç¦»è§†ä¸º1ã€‚å½“ä½ å¯¹å·²æ¨ªç½®è§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå¹¶ä»¤æ­¤ã€æ€ã€‘ä¸è®¡å…¥æ¬¡æ•°é™åˆ¶ï¼Œæ­¤ç‰Œç»“ç®—å®Œæˆåï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_boming":"åšå",
            "DIY_boming_info":"ä½ çš„æ‰‹ç‰Œç‚¹æ•°ä¹‹å’Œå¯¹æ‰€æœ‰äººå¯è§ã€‚å‡†å¤‡é˜¶æ®µï¼Œä½ å¯é€‰æ‹©ï¼šæœ¬å›åˆä½ çš„A/2/3ç‚¹ç‰Œè§†ä¸ºJ/Q/Kç‚¹ï¼›æˆ–æœ¬å›åˆä½ çš„J/Q/Kç‚¹ç‰Œè§†ä¸ºA/2/3ç‚¹ã€‚",
            "DIY_xu_pingjian":"è¯„è",
            "DIY_xu_pingjian_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å±•ç¤ºä½ çš„æ‰‹ç‰Œï¼Œç„¶åè‹¥ä½ çš„æ‰‹ç‰Œç‚¹æ•°ä¹‹å’Œï¼š<br>å°äº28ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼›<br>å¤§äº28ï¼Œä½ å¼ƒç½®ä¸€å¼ ç‰Œã€‚<br>ç„¶åè‹¥ä½ çš„æ‰‹ç‰Œç‚¹æ•°ä¹‹å’Œä¸ç­‰äº28ï¼Œåˆ™é‡å¤æ­¤æµç¨‹ã€‚<br>ä½ æ¯ä»¥æ­¤æ³•å¼ƒç½®ä¸€å¼ ç‰Œï¼Œä½ å¯ä»¥å¼ƒç½®å…¶ä»–è§’è‰²ä¸€å¼ ç‰Œã€‚",
            "DIY_ziju":"å§¿é›",
            "DIY_ziju_info":"é”å®šæŠ€ï¼Œå½“ä½ è·å¾—ä¸€å¼ ç‰Œæ—¶ï¼Œè‹¥ä½ æ‰‹ç‰Œé¢œè‰²å‡ç›¸åŒï¼Œä½ å±•ç¤ºæ‰€æœ‰æ‰‹ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_huaiyi":"æ€€å¼‚",
            "DIY_huaiyi_info":"æ¯å›åˆæ¯ç§é¢œè‰²é™ä¸€æ¬¡ï¼Œå‡ºç‰Œé˜¶æ®µæˆ–å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å±•ç¤ºæ‰€æœ‰æ‰‹ç‰Œå¹¶å¼ƒç½®å…¶ä¸­ä¸€ç§é¢œè‰²çš„æ‰€æœ‰ç‰Œï¼Œç„¶åä½ å¯ä»¥è·å¾—è‡³å¤šXåè§’è‰²çš„å„ä¸€å¼ ç‰Œï¼ˆXä¸ºä½ ä»¥æ­¤æ³•å¼ƒç½®çš„æ‰‹ç‰Œæ•°ï¼‰ã€‚",
            "DIY_beizhu":"å¤‡è¯›",
            "DIY_beizhu_info":"æ¯è½®é™ä¸€æ¬¡ï¼Œå…¶ä»–è§’è‰²çš„å‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å±•ç¤ºå…¶æ‰‹ç‰Œï¼Œå¹¶ä»¤å…¶å¯¹ä½ ä¾æ¬¡ä½¿ç”¨å…¶ä¸­é™¤ã€é—ªã€‘å’Œã€æ— æ‡ˆå¯å‡»ã€‘ä»¥å¤–çš„ç‰Œï¼Œä½ æ¯ä»¥æ­¤æ³•æˆä¸ºä¸€å¼ ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_zhenlie":"è´çƒˆ",
            "DIY_zhenlie_info":"â‘ å½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥ä»¤æ­¤ç‰Œå¯¹ä½ æ— æ•ˆï¼Œç„¶åè¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥ä¸ºé»‘è‰²ï¼Œä½ å¼ƒç½®å¯¹æ–¹ä¸€å¼ ç‰Œåä¹‹ä½ å¼ƒå¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚â‘¡å½“ä½ çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥äº®å‡ºç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œä»£æ›¿ä¹‹ã€‚",
            "DIY_zhenlie2":"è´çƒˆ",
            "DIY_zhenlie2_info":"",
            "DIY_miji":"ç§˜è®¡",
            "DIY_miji_info":"å‡†å¤‡/ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥åˆ¤å®šï¼Œè‹¥åˆ¤å®šç»“æœä¸ºé»‘è‰²ï¼Œä½ è§‚çœ‹ç‰Œå †é¡¶çš„Xå¼ ç‰Œï¼ˆXä¸ºä½ å·²æŸå¤±çš„ä½“åŠ›å€¼ä¸”è‡³å°‘ä¸º1ï¼‰ï¼Œç„¶åå°†è¿™äº›ç‰Œäº¤ç»™ä¸€åè§’è‰²ã€‚",
            "DIY_suzhi":"å¤™æ™º",
            "DIY_suzhi_info":"ä½ å¯ä»¥äºä¸€ä¸ªåˆé€‚æ—¶æœºé€‰æ‹©åœºä¸Šä¸€ä¸ªç°å­˜åŠ¿åŠ›ï¼Œç„¶åä»éšæœºYå¼ ï¼ˆYä¸ºåœºä¸ŠåŠ¿åŠ›æ•°ï¼‰ä¸ä½ æ‰€é€‰åŠ¿åŠ›ç›¸åŒçš„ä¸”æ‹¥æœ‰æ­¤æ—¶å¯å‘åŠ¨æŠ€èƒ½çš„æ­¦å°†ç‰Œä¸Šçš„é€‰æ‹©ä¸€ä¸ªå¯ä½¿ç”¨æŠ€èƒ½å¹¶ä½¿ç”¨ä¹‹ã€‚ï¼ˆåˆé€‚æ—¶æœºï¼šæ‘¸ç‰Œ/å‡ºç‰Œ/å¼ƒç‰Œé˜¶æ®µå¼€å§‹æ—¶ã€ä½¿ç”¨/æ‰“å‡ºä¸€å¼ ç‰Œæ—¶ã€å—åˆ°ä¼¤å®³åï¼‰",
            "DIY_zhaoxin":"æ˜­å¿ƒ",
            "DIY_zhaoxin_info":"èº«ä»½æŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ æ˜ç½®ä½ çš„èº«ä»½ç‰Œã€‚<br>æ¯å›åˆé™Xæ¬¡ï¼ˆXä¸ºé˜µè¥ä¸ä½ ç›¸åŒçš„è§’è‰²æ•°ï¼Œä¸”å½“ä½ çš„èº«ä»½ä¸ºâ€œå†…å¥¸â€æ—¶ï¼ŒXä¸ºé˜µè¥ä¸ä½ ä¸åŒçš„è§’è‰²æ•°ï¼‰ï¼Œå½“ä½ å³å°†é€ æˆ/å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œä»¤æ­¤ä¼¤å®³ç¿»å€/å–æ¶ˆï¼ˆå½“ä½ ä»¥æ­¤æ³•å–æ¶ˆä¼¤å®³åï¼Œä½ ä»å¯å‘åŠ¨æ—¶æœºä¸ºâ€œdamageEndâ€çš„å–è¡€æŠ€èƒ½ï¼‰ã€‚",
            "DIY_zhaoxin2":"æ˜­å¿ƒ",
            "DIY_zhaoxin2_info":"",
            "DIY_zhaoxin3":"æ˜­å¿ƒ",
            "DIY_zhaoxin3_info":"",
            "DIY_gangao":"æ”»ç’",
            "DIY_gangao_info":"é”å®šæŠ€ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ å¢åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™ï¼Œå›å¤ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_juyi":"ä¸¾ä¹‰",
            "DIY_juyi_info":"è§‰é†’æŠ€ï¼Œå‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ çš„ä½“åŠ›ä¸Šé™å¤§äºå­˜æ´»è§’è‰²æ•°ï¼Œä½ æ‘¸ç­‰åŒäºä½“åŠ›ä¸Šé™å¼ æ•°çš„ç‰Œï¼Œç„¶åè·å¾—æŠ€èƒ½ã€–ç²®ç»ã€—å’Œã€–å¨é‡ã€—ã€‚",
            "DIY_niangjue":"ç²®ç»",
            "DIY_niangjue_info":"é”å®šæŠ€ï¼Œä½ è·³è¿‡ä½ çš„æ‘¸ç‰Œé˜¶æ®µå’Œå¼ƒç‰Œé˜¶æ®µã€‚ç»“æŸé˜¶æ®µä½ è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºâ™£ï¼Œä½ å‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™ã€‚",
            "DIY_niangjue2":"ç²®ç»",
            "DIY_niangjue2_info":"",
            "DIY_xiansi":"é™·å—£",
            "DIY_xiansi_info":"é”å®šæŠ€ï¼Œâ‘ å‡†å¤‡é˜¶æ®µä½ å°†è‡³å¤šä¸¤åè§’è‰²çš„ç‰Œç½®äºä½ çš„XåŒºç§°ä¸ºâ€œé€†â€ï¼›â‘¡å½“ä½ æˆä¸ºä¸€å¼ éè½¬åŒ–éè™šæ‹Ÿã€æ€ã€‘çš„ç›®æ ‡æ—¶ï¼Œä½ ä»¤æ­¤ã€æ€ã€‘æ— æ•ˆï¼Œå¹¶å°†å…¶åŠ å…¥â€œé€†â€ï¼›â‘¢å…¶ä½™è§’è‰²å¯ä»¥å°†ä¸¤å¼ â€œé€†â€å½“åšä¸€å¼ ã€æ€ã€‘å¯¹ä½ ä½¿ç”¨ï¼›â‘£ä½ æ— æ³•å“åº”è½¬åŒ–ã€æ€ã€‘æˆ–è™šæ‹Ÿã€æ€ã€‘å¹¶è·å¾—æ­¤ã€æ€ã€‘å¯¹åº”æ‰€æœ‰å®ä½“ç‰Œï¼›â‘¤åœºä¸Šä¸å› ã€–é™·å—£â‘ ã€—æˆ–ã€–ç ´å†›ã€—è€Œè¿›å…¥XåŒºå†…çš„ç‰Œæ”¹ä¸ºåŠ å…¥ä½ çš„â€œé€†â€ã€‚",
            "DIY_xiansi2":"é™·å—£",
            "DIY_xiansi2_info":"",
            "DIY_xiansi3":"é™·å—£",
            "DIY_xiansi3_info":"",
            "DIY_xiansi4":"é™·å—£",
            "DIY_xiansi4_info":"",
            "DIY_xiansi5":"é™·å—£",
            "DIY_xiansi5_info":"",
            "DIY_qixi":"å¥‡è¢­",
            "DIY_qixi_info":"â‘ ä½ å¯ä»¥å°†ä¸€å¼ é»‘è‰²ç‰Œå½“åšã€è¿‡æ²³æ‹†æ¡¥ã€‘ä½¿ç”¨ï¼›â‘¡å½“ä½ å¯¹ä¸€åè§’è‰²ä½¿ç”¨çš„ã€è¿‡æ²³æ‹†æ¡¥ã€‘æ—¶ï¼Œä½ å°†æ­¤ç‰Œæ”¹ä¸ºã€é¡ºæ‰‹ç‰µç¾Šã€‘å¹¶éšæœºä¿®æ”¹ä¸€å¼ æ‰‹ç‰Œçš„èŠ±è‰²ã€‚",
            "DIY_qixi2":"å¥‡è¢­",
            "DIY_qixi2_info":"",
            "DIY_kanpo":"çœ‹ç ´",
            "DIY_kanpo_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²å‘åŠ¨æ­¦å°†ç‰Œä¸Šçš„écharlotteédirectéforcedæŠ€æ—¶ï¼Œä½ å¯ä»¥ç»ˆæ­¢å½“å‰ä¸€åˆ‡ç»“ç®—ã€‚",
            "DIY_bazhen":"å…«é˜µ",
            "DIY_bazhen_info":"é”å®šæŠ€ï¼Œä½ è§†ä¸ºè£…å¤‡ç€ã€[]å…«å¦é˜µã€‘ã€‚è‹¥ä½ é˜²å…·æ æœ‰ç‰Œï¼Œåˆ™å°†â€œ[]â€æ”¹ä¸ºâ€œå…ˆå¤©â€ã€‚",
            "DIY_bazhen_bagua":"å…«å¦é˜µ",
            "DIY_bazhen_bagua_info":"å½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€é—ªã€‘æ—¶ï¼Œä½ å¯ä»¥è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥åˆ¤å®šç»“æœä¸ä¸º[é»‘è‰²]ï¼Œè§†ä¸ºä½ ä½¿ç”¨æˆ–æ‰“å‡ºäº†ä¸€å¼ ã€é—ªã€‘ã€‚è‹¥ä½ é˜²å…·æ æœ‰ç‰Œï¼Œåˆ™å°†[é»‘è‰²]æ”¹ä¸º[â™ ]ã€‚",
            "DIY_huoji":"ç«è®¡",
            "DIY_huoji_info":"â‘ ä½ å¯ä»¥å°†ä½ çš„ä»»æ„ä¸€å¼ çº¢è‰²ç‰Œå½“ä½œã€ç«æ”»ã€‘ä½¿ç”¨ï¼›â‘¡ä½ çš„ã€ç«æ”»ã€‘æ•ˆæœåè½¬å¹¶ä¸”æ— æ³•è¢«ã€æ— æ‡ˆå¯å‡»ã€‘å“åº”ã€‚",
            "DIY_huoji2":"ç«è®¡",
            "DIY_huoji2_info":"",
            "DIY_qianxun":"è°¦é€Š",
            "DIY_qianxun_info":"â‘ æ¯å½“ä¸€å¼ å»¶æ—¶ç±»é”¦å›Šç‰Œæˆ–å…¶ä»–è§’è‰²ä½¿ç”¨çš„ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰Œç”Ÿæ•ˆæ—¶ï¼Œè‹¥ä½ æ˜¯æ­¤ç‰Œçš„å”¯ä¸€ç›®æ ‡ï¼Œä½ å¯ä»¥å°†æ‰€æœ‰æ‰‹ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ çš„å›åˆå¼€å§‹æ—¶ï¼Œä½ è·å¾—ä½ æ­¦å°†ç‰Œä¸Šçš„æ‰€æœ‰ç‰Œï¼›â‘¡ä½ å¯ä»¥å°†ä»¥æ­¤æ³•ç½®äºæ­¦å°†ç‰Œä¸Šçš„ä¸€å¼ ç‰Œå½“ä½œã€æ€ã€‘æˆ–ã€é—ªã€‘æ‰“å‡ºæˆ–ä½¿ç”¨ã€‚",
            "DIY_qianxun2":"è°¦é€Š",
            "DIY_qianxun2_info":"",
            "DIY_qianxun_backup":"è°¦é€Š",
            "DIY_qianxun_backup_info":"",
            "DIY_lianying":"è¿è¥",
            "DIY_lianying_info":"å½“ä½ å¤±å»æœ€åçš„æ‰‹ç‰Œæ—¶ï¼Œä½ å¯ä»¥ä»¤è‡³å¤šXåè§’è‰²å„æ‘¸ä¸€å¼ ç‰Œï¼ˆXä¸ºä½ æ­¤æ¬¡å¤±å»çš„æ‰‹ç‰Œæ•°ï¼‰ã€‚",
            "DIY_kannan_storage":"æˆ¡éš¾",
            "DIY_kannan_storage_info":"",
            "DIY_guanxing_zhuge":"è§‚æ˜Ÿ",
            "DIY_guanxing_zhuge_info":"ä¸€åè§’è‰²å³å°†æ‘¸ç‰Œ/åˆ¤å®šæ—¶ï¼Œä½ è§‚çœ‹ç‰Œå †å¹¶å¯ä»¥å°†å…¶ä¸­ç­‰é‡éœ€è¦çš„ç‰Œç½®äºç‰Œå †é¡¶ã€‚",
            "DIY_kongcheng":"ç©ºåŸ",
            "DIY_kongcheng_info":"ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥å°†æ‰€æœ‰æ‰‹ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šç§°ä¸ºâ€œç–‘å…µâ€ç„¶åè·å¾—å¦‚ä¸‹æ•ˆæœç›´åˆ°ä¸‹å›åˆå¼€å§‹ï¼š<br>å½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥çŒœæµ‹å…¶æ‰‹ç‰Œç»“æ„å¹¶ä»¤å…¶çŒœæµ‹â€œç–‘å…µâ€ç‰Œçš„ç»“æ„ï¼›è‹¥å…¶çŒœé”™æˆ–ä½ çŒœå¯¹ï¼Œæ­¤ç‰Œç›®æ ‡ç§»é™¤ä½ ã€‚<br>å‡†å¤‡é˜¶æ®µä½ å¼ƒç½®æ­¦å°†ç‰Œä¸Šæ‰€æœ‰â€œç–‘å…µâ€ã€‚",
            "DIY_kongcheng_yibing":"ç©ºåŸ",
            "DIY_kongcheng_yibing_info":"",
            "DIY_kongcheng2":"ç©ºåŸ",
            "DIY_kongcheng2_info":"",
            "DIY_guizao":"ç‘°è—»",
            "DIY_guizao_info":"å½“ä½ äºå›åˆå†…å› å¼ƒç½®æˆ–äºå›åˆå¤–å› ä½¿ç”¨ã€æ‰“å‡ºæˆ–å¼ƒç½®å¤±å»ä»…ä¸€å¼ ç‰Œæ—¶ï¼Œè‹¥æ­¤ç‰ŒèŠ±è‰²ä¸ä¸Šä¸€æ¬¡è§¦å‘æ­¤æŠ€èƒ½çš„ç‰Œçš„èŠ±è‰²ä¸åŒï¼Œä½ å¯ä»¥å›å¤1ç‚¹ä½“åŠ›æˆ–æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_jiyu":"è®¥è°€",
            "DIY_jiyu_info":"å‡ºç‰Œé˜¶æ®µï¼Œè‹¥ä½ æœ‰æœªå› ã€–è®¥è°€ã€—è€Œé™åˆ¶ä½¿ç”¨çš„æ‰‹ç‰Œï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€åå…¶ä»–è§’è‰²ä¸€å¼ ç‰Œï¼Œè‹¥æ­¤ç‰ŒèŠ±è‰²æœ¬å›åˆæœªå› [è®¥è°€]è€Œå¼ƒç½®è¿‡ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œç„¶åä¸èƒ½ä½¿ç”¨ä¸ä¹‹èŠ±è‰²ç›¸åŒçš„ç‰Œä¸”æ­¤èŠ±è‰²çš„ç‰Œä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ç›´è‡³å›åˆç»“æŸã€‚åä¹‹ï¼Œä½ å¤±å»1ç‚¹ä½“åŠ›å¹¶å¼ƒç½®ä¸€å¼ ç‰Œã€‚",
            "DIY_taoluan":"æ»”ä¹±",
            "DIY_taoluan_info":"è½¬æ¢æŠ€ï¼Œé˜´ï¼šä½ å¯ä»¥å¤±å»1ç‚¹ä½“åŠ›ï¼Œè§†ä¸ºä½¿ç”¨ä¸€å¼ æœ¬å›åˆå†…æœªä»¥æ­¤æ³•ä½¿ç”¨è¿‡çš„æ™®é€šé”¦å›Šç‰Œï¼›é˜³ï¼šä½ å¯ä»¥å‡1ç‚¹ä½“åŠ›ä¸Šé™ï¼Œè§†ä¸ºä½¿ç”¨ä¸€å¼ æœ¬å›åˆå†…æœªä»¥æ­¤æ³•ä½¿ç”¨è¿‡çš„åŸºæœ¬ç‰Œã€‚<br>ä½ çš„æ‰‹ç‰Œä¸Šé™+Xï¼ˆXä¸ºä½ æœ¬å›åˆå†…å‘åŠ¨ã€–æ»”ä¹±ã€—æ¬¡æ•°ï¼‰",
            "DIY_yangzhong":"æ®ƒä¼—",
            "DIY_yangzhong_info":"å½“ä¸€å¼ åŸºæœ¬ç‰Œæˆ–æ™®é€šé”¦å›Šç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶ä»¤åœºä¸Šå…¶ä»–æ‰€æœ‰åˆæ³•è§’è‰²ä¹Ÿæˆä¸ºæ­¤ç‰Œç›®æ ‡ï¼Œç„¶åè‡³æ­¤ç‰Œç»“ç®—å®Œæˆæ—¶ï¼Œå…¶ä»–è§’è‰²ç¬¬ä¸€æ¬¡å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å›å¤1ç‚¹ä½“åŠ›æˆ–åŠ 1ç‚¹ä½“åŠ›ä¸Šé™",
            "DIY_yangzhong2":"",
            "DIY_yangzhong2_info":"",
            "DIY_zhiheng":"åˆ¶è¡¡",
            "DIY_zhiheng_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †å¹¶è·å¾—å…¶ä¸­è‡³å¤šX+1å¼ ç‰Œå†å¼ƒç½®'ä½ ä»¥æ­¤æ³•è·å¾—çš„ç‰Œæ•°Yç­‰äºX+1'?Y-1:Yå¼ ç‰Œï¼ˆXä¸ºä½ å‘åŠ¨æ­¤æŠ€èƒ½æ—¶çš„ç‰Œæ•°ï¼‰ã€‚",
            "DIY_huiwan":"ä¼šç©",
            "DIY_huiwan_info":"",
            "DIY_enyuan":"æ©æ€¨",
            "DIY_enyuan_info":"å½“ä½ æœ¬å›åˆç´¯è®¡ä»ä¸€åå…¶ä»–è§’è‰²æ‰‹ä¸­è·å¾—ç‰Œçš„æ¬¡æ•°ä¸å½“å‰è½®æ•°å‡ä¸º2k+1æˆ–2kæ—¶ï¼ˆkâˆˆNï¼‰ï¼Œä½ å¯ä»¥ä»¤å…¶æ‘¸ä¸€å¼ ç‰Œï¼›<br>å½“ä½ å—åˆ°ä¸€åå…¶ä»–è§’è‰²é€ æˆçš„ä¸€ç‚¹ä¼¤å®³æ—¶æˆ–æœ¬å›åˆç´¯è®¡è¢«ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®/è·å¾—ç‰Œçš„æ¬¡æ•°ä¸å½“å‰è½®æ•°å‡ä¸º2k+1æˆ–2kæ—¶ï¼ˆkâˆˆNï¼‰ï¼Œä½ å¯ä»¥ä»¤å…¶é€‰æ‹©ä¸€é¡¹ï¼šäº¤ç»™ä½ ä¸€å¼ æ‰‹ç‰Œæˆ–å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_enyuan_en":"æ©æ€¨",
            "DIY_enyuan_en_info":"",
            "DIY_enyuan_yuan":"æ©æ€¨",
            "DIY_enyuan_yuan_info":"",
            "DIY_enyuan_damage":"æ©æ€¨",
            "DIY_enyuan_damage_info":"",
            "DIY_xuanhuo":"çœ©æƒ‘",
            "DIY_xuanhuo_info":"å…¶ä»–è§’è‰²çš„å‡†å¤‡é˜¶æ®µå¼€å§‹æ—¶ï¼Œå…¶å¯ä»¥äº¤ç»™ä½ ä¸€å¼ ç‰Œï¼Œç„¶åä½ ä»Xä¸ªæè¿°ä¸­åŒ…å«â€œã€æ€ã€‘â€çš„æŠ€èƒ½ä¸­é€‰æ‹©ä¸€é¡¹æŠ€èƒ½ä»¤å…¶è·å¾—è‡³å›åˆç»“æŸï¼ˆXä¸ºåœºä¸Šè§’è‰²æ•°ï¼Œä¸”Xâˆˆ[4,+âˆ)ï¼‰ã€‚",
            "DIY_qinyin":"ç´éŸ³",
            "DIY_qinyin_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥éšæœºæ¼”å¥ä¸€é¦–éŸ³ä¹ï¼Œå¹¶æ ¹æ®å®Œæˆåº¦æ¥è·å¾—ç›¸åº”çš„åˆ†æ•°å’Œç§¯åˆ†ç‚¹æ•°ã€‚ç„¶åä½ å¯ä»¥æ¶ˆè€—3ç‚¹ç§¯åˆ†æ¥é‡ç½®ä¸€ä¸ªä½ å·²å‘åŠ¨çš„é™å®šæŠ€æˆ–æ¶ˆè€—å‰©ä½™ç§¯åˆ†æ‘¸å–ç­‰é‡çš„ç‰Œï¼ˆç§¯åˆ†å¯¹ç‰Œçš„æ±‡ç‡ä¸º0.5ï¼‰",
            "DIY_yeyan":"ä¸šç‚",
            "DIY_yeyan_info":"é™å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥ä¾æ¬¡åˆ†é…3ç‚¹ç«ç„°ä¼¤å®³ï¼Œä½ æ¯å¯¹ä¸€åè§’è‰²é¢å¤–åˆ†é…ä¸€ç‚¹ï¼Œä½ éœ€å¼ƒç½®ä¸€å¼ ç‰Œã€‚",
            "DIY_yuanchou":"æ€¨ä»‡",
            "DIY_yuanchou_info":"é”å®šæŠ€ï¼Œâ‘ å½“ä½ ä½¿ç”¨çš„ã€æ€ã€‘æŒ‡å®šç›®æ ‡è§’è‰²åæˆ–æˆä¸ºã€æ€ã€‘çš„ç›®æ ‡è§’è‰²åï¼Œä½ ä»¤ç›®æ ‡è§’è‰²çš„é˜²å…·æŠ€èƒ½æ— æ•ˆç›´åˆ°æ­¤ã€æ€ã€‘è¢«æŠµæ¶ˆæˆ–é€ æˆä¼¤å®³;â‘¡å½“ä½ ä½¿ç”¨ã€åˆºæ€ã€‘æŒ‡å®šç›®æ ‡åï¼Œä½ ä»¤æ­¤ç‰Œéœ€è¦ä¾æ¬¡ä½¿ç”¨æˆ–æ‰“å‡ºä¸¤å¼ ã€é—ªã€‘å“åº”ã€‚",
            "DIY_juesheng":"å†³ç”Ÿ",
            "DIY_juesheng_info":"é™å®šæŠ€ã€‚ä¸€åå…¶ä»–è§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥å‡ä¸€ç‚¹ä½“åŠ›ä¸Šé™ï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ æ”¹å˜åŠ¿åŠ›å¹¶è§†ä¸ºå¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€åˆºæ€ã€‘ã€‚å½“ä½ å› æ­¤ã€åˆºæ€ã€‘é€ æˆä¼¤å®³æ—¶ï¼Œä½ å¤±å»ã€–æ€¨ä»‡ã€—å¹¶å°†ä¼¤å®³å€¼æ”¹ä¸ºXï¼ˆXä¸ºç›®æ ‡è§’è‰²çš„ä½“åŠ›ä¸Šé™ï¼‰ã€‚",
            "DIY_keji":"å…‹å·±",
            "DIY_keji_info":"é”å®šæŠ€ï¼Œå½“ä½ ä¸å› è·å¾—åˆå§‹æ‰‹ç‰Œè€Œè·å¾—ç‰Œåï¼Œä½ å°†æ‰€æœ‰æ‰‹ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šã€‚ä½ å¯ä»¥å¦‚æ‰‹ç‰Œèˆ¬ä½¿ç”¨æˆ–æ‰“å‡ºâ€œå…‹â€ã€‚å½“æœ‰â€œå…‹â€ç§»åŠ¨åˆ°å¤„ç†åŒºåï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼šâ‘ è·å¾—ä¸€ç‚¹æŠ¤ç”²ï¼›â‘¡ä»ç‰Œå †ä¸­è·å¾—ä¸â€œå…‹â€èŠ±è‰²ç›¸åŒçš„ä¸€å¼ ç‰Œã€‚",
            "DIY_keji_gain":"å…‹å·±",
            "DIY_keji_gain_info":"",
            "DIY_dujiang":"æ¸¡æ±Ÿ",
            "DIY_dujiang_info":"è§‰é†’æŠ€ï¼Œå‡†å¤‡é˜¶æ®µï¼Œè‹¥ä½ æ‹¥æœ‰çš„â€œå…‹â€ä¸å°äº3ï¼Œä½ è·å¾—æŠ€èƒ½â€œå¤ºè†â€ã€‚",
            "DIY_duojing":"å¤ºè†",
            "DIY_duojing_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡åï¼Œè‹¥ä½ æœ‰æŠ¤ç”²ï¼Œä½ å¯ä»¥å‡1ç‚¹æŠ¤ç”²å¹¶é€‰æ‹©ä¸€é¡¹ï¼šâ‘ æ­¤ã€æ€ã€‘ä¸å¯è¢«å“åº”ï¼›â‘¡æ­¤ã€æ€ã€‘æ— è§†é˜²å…·ï¼›â‘¢æ­¤ã€æ€ã€‘ä¼¤å®³+1ï¼›â‘£æ­¤ã€æ€ã€‘ä¸è®¡å…¥æ¬¡æ•°é™åˆ¶ã€‚",
            "DIY_lveming":"æ å‘½",
            "DIY_lveming_info":"å‡ºç‰Œé˜¶æ®µé™Xæ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åè£…å¤‡åŒºè£…å¤‡ä¸å¤šäºä½ çš„è§’è‰²ï¼Œä»¤å…¶é€‰æ‹©ä¸€ä¸ªç‚¹æ•°ï¼Œç„¶åä½ è¿›è¡Œåˆ¤å®šï¼š<br>è‹¥ç‚¹æ•°ç›¸åŒï¼Œä½ å¯¹å…¶é€ æˆ2ç‚¹ä¼¤å®³ï¼›<br>è‹¥ç‚¹æ•°ä¸åŒï¼Œåˆ™ä½ éšæœºè·å¾—å…¶åŒºåŸŸå†…çš„ä¸€å¼ ç‰Œ(Xä¸ºä½ è£…å¤‡åŒºå†…ç‰Œæ•°ä¸”è‡³å°‘ä¸º1ï¼‰ã€‚",
            "DIY_tunjun":"å±¯å†›",
            "DIY_tunjun_info":"é”å®šæŠ€ï¼Œå½“ä½ å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆä¼¤å®³åï¼Œä½ å°†ç‰Œå †/å¼ƒç‰Œå †ä¸­çš„ä¸€å¼ è£…å¤‡ç‰Œç½®äºä½ çš„ä¸€ä¸ªå¯è£…å¤‡çš„è£…å¤‡æ å†…ã€‚ä½ çš„æ¯ä¸€ç§è£…å¤‡è‡³å¤šå¯ä»¥åŒæ—¶è£…å¤‡ä¸¤ä»¶ã€‚",
            "DIY_tunjun1":"å±¯å†›",
            "DIY_tunjun1_info":"",
            "DIY_tunjun2":"å±¯å†›",
            "DIY_tunjun2_info":"",
            "DIY_tunjun3":"å±¯å†›",
            "DIY_tunjun3_info":"",
            "DIY_tunjun4":"å±¯å†›",
            "DIY_tunjun4_info":"",
            "DIY_tunjun5":"å±¯å†›",
            "DIY_tunjun5_info":"",
            "DIY_tianxiang":"å¤©é¦™",
            "DIY_tianxiang_info":"é”å®šæŠ€ï¼Œâ‘ ä½ è·³è¿‡ä½ çš„åˆ¤å®šé˜¶æ®µï¼›â‘¡ä½ å¯ä»¥å¼ƒç½®åˆ¤å®šåŒºé‡Œçš„ä¸€å¼ ç‰Œå¹¶å°†ä¸€å¼ ç‰Œå½“åšä»»æ„åŸºæœ¬ç‰Œæˆ–é”¦å›Šç‰Œä½¿ç”¨æˆ–æ‰“å‡ºã€‚",
            "DIY_liuli":"æµç¦»",
            "DIY_liuli_info":"å½“ä¸€åå…¶ä»–è§’è‰²æˆä¸ºå»¶æ—¶é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œå…¶å¯å¼ƒç½®ä¸€å¼ ç‰Œï¼Œç„¶åå°†æ­¤ç‰Œè½¬ç§»ç»™ä½ ã€‚",
            "DIY_xingwu":"æ˜Ÿèˆ",
            "DIY_xingwu_info":"è”åŠ¨æŠ€ï¼Œå½“ä¸€åè§’è‰²å‘åŠ¨ã€–å®šæ±Ÿã€—åï¼Œè‹¥å…¶æ­¦å°†ç‰Œä¸ºã€Œâ™‹å­™ç­–å‘¨ç‘œã€ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œã€‚",
            "DIY_shoucheng":"å®ˆæˆ",
            "DIY_shoucheng_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€åè§’è‰²ä¸€å¼ ç‰Œå¹¶ä»¤å…¶è·å¾—â€œå®ˆæˆâ€æ ‡è®°ç›´è‡³å…¶ä¸‹å›åˆç»“æŸã€‚æœ‰â€œå®ˆæˆâ€æ ‡è®°çš„è§’è‰²è·³è¿‡ä¸€ä¸ªé˜¶æ®µï¼ˆå‡†å¤‡å’Œç»“æŸé™¤å¤–ï¼‰æ—¶ï¼Œå…¶å¯ä»¥æ‰§è¡Œä¸€ä¸ªåŒåé˜¶æ®µï¼ˆæ¯å›åˆæ¯ç§é˜¶æ®µé™ä¸€æ¬¡ï¼‰ã€‚",
            "DIY_zhenting":"é•‡åº­",
            "DIY_zhenting_info":"å½“ä¸€åè§’è‰²ä¸å› æ­¤æ³•è€Œå¼€å§‹ä¸€ä¸ªé˜¶æ®µï¼ˆå‡†å¤‡å’Œç»“æŸé™¤å¤–ï¼‰æ—¶ï¼Œè‹¥æ­¤é˜¶æ®µæ˜¯å…¶æ‰§è¡Œçš„ç¬¬å¶æ•°æ¬¡åŒåé˜¶æ®µï¼Œä½ å¯ä»¥è®°å½•è¯¥é˜¶æ®µã€‚ä¸€åè§’è‰²å›åˆå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥ç§»é™¤ä¸€é¡¹è®°å½•å¹¶ä»¤å…¶æ‰§è¡Œä¸€ä¸ªå¯¹åº”çš„åŒåé˜¶æ®µã€‚",
            "DIY_shengxi":"ç”Ÿæ¯",
            "DIY_shengxi_info":"ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œè‹¥å…¶æœ¬å›åˆå†…æœªé€ æˆä¼¤å®³ï¼Œä½ å¯ä»¥ä»¤å…¶æ‘¸ä¸€å¼ ç‰Œã€‚å½“ä½ å‘åŠ¨ã€–å®ˆæˆã€—æˆ–ã€–é•‡åº­ã€—è€Œä»¤ä¸€åè§’è‰²æ‰§è¡Œé˜¶æ®µæ—¶ï¼Œæ­¤æŠ€èƒ½å¤±æ•ˆç›´è‡³ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µç»“æŸã€‚",
            "DIY_shengxi2":"ç”Ÿæ¯",
            "DIY_shengxi2_info":"",
            "DIY_dongcha":"æ´å¯Ÿ",
            "DIY_dongcha_info":"é”å®šæŠ€ï¼Œå½“ä½ å³å°†è¿›è¡Œåˆ¤å®šæ—¶ï¼Œä½ è§‚çœ‹ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œï¼Œç„¶åä½ å¯ä»¥å°†ä¸€å¼ ç‰Œç½®äºç‰Œå †é¡¶ã€‚",
            "DIY_yajun":"é›…ä¿Š",
            "DIY_yajun_info":"å½“ä½ å—åˆ°ä¸€ç‚¹ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥è·å¾—ã€–æ´å¯Ÿã€—ç›´è‡³ä½ çš„ä¸‹å›åˆå¼€å§‹å¹¶é€‰æ‹©ä¸€é¡¹ï¼š<br>â‘ è·å¾—é€ æˆæ­¤ä¼¤å®³çš„ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œï¼›<br>â‘¡æŒ‰ç…§ä½ é€‰æ‹©çš„åŒºåŸŸä¼˜å…ˆåº¦éšæœºè·å¾—æ¯åå…¶ä»–è§’è‰²åŒºåŸŸé‡Œçš„ä¸€å¼ ç‰Œï¼Œç„¶åç¿»é¢ã€‚",
            "DIY_guijian":"è§„è°",
            "DIY_guijian_info":"å½“å…¶ä»–è§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥è¿›è¡Œåˆ¤å®šï¼Œè‹¥ä¸ºçº¢ï¼Œå…¶å›å¤ä¸€ç‚¹ä½“åŠ›ï¼Œè‹¥ä¸ºé»‘ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œå¹¶äº¤ç»™å…¶ä¸€å¼ ç‰Œã€‚",
            "DIY_tiansuan":"å¤©ç®—",
            "DIY_tiansuan_info":"â‘ é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹/ä½ çš„å›åˆå¼€å§‹æ—¶ï¼Œåœºä¸Šæ¯ç¼ºå°‘ä¸€ç§â€œå‘½è¿ç­¾â€ï¼Œä½ è·å¾—ä¹‹ï¼›â‘¡å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ â€œå‘½è¿ç­¾â€ç§»åŠ¨ç»™ä¸€åæ²¡æœ‰â€œå‘½è¿ç­¾â€çš„å…¶ä»–è§’è‰²ï¼›â‘¢æœ‰â€œå‘½è¿ç­¾â€çš„å…¶ä»–è§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ ç§»å»å…¶æ‰€æœ‰â€œå‘½è¿ç­¾â€ã€‚",
            "DIY_tuxi":"çªè¢­",
            "DIY_tuxi_info":"é”å®šæŠ€ï¼Œå½“ä½ æ‘¸ç‰Œæ—¶ï¼Œä½ å¯ä»¥å°‘æ‘¸ä»»æ„å¼ ç‰Œï¼Œç„¶åè·å¾—ç­‰é‡çš„è§’è‰²çš„å„ä¸€å¼ ç‰Œã€‚",
            "DIY_powei":"ç ´å›´",
            "DIY_powei_info":"é”å®šæŠ€ï¼Œå½“ä½ æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„å”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ ä»¤å…¶è·å¾—â€œå›´â€æ ‡è®°ã€‚ä½ å¯¹æœ‰â€œå›´â€æ ‡è®°çš„è§’è‰²ä½¿ç”¨ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ï¼Œä¸”ä½ ä½¿ç”¨ç‰ŒæŒ‡å®šæœ‰â€œå›´â€çš„è§’è‰²ä¸ºå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_xuanfeng":"æ—‹é£",
            "DIY_xuanfeng_info":"å½“ä½ å¤±å»è£…å¤‡åŒºå†…çš„ç‰Œæ—¶ï¼Œæˆ–äºå¼ƒç‰Œé˜¶æ®µå¼ƒç½®äº†è‡³å°‘ä¸¤å¼ ç‰Œåï¼Œä½ å¯ä»¥å¼ƒç½®å…¶ä»–è§’è‰²ä¸¤å¼ ç‰Œï¼Œæˆ–ç§»åŠ¨åœºä¸Šä¸€å¼ è£…å¤‡ç‰Œã€‚ç„¶åä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä¸€å¼ æ— è·ç¦»é™åˆ¶ä¸”ä¸è®¡å…¥æ¬¡æ•°çš„ã€æ€ã€‘æˆ–å¯¹è·ç¦»1ä»¥å†…çš„ä¸€åå…¶ä»–è§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³ã€‚",
            "DIY_yongjin":"å‹‡è¿›",
            "DIY_yongjin_info":"å½“ä½ ä¸äºæ‘¸ç‰Œé˜¶æ®µæ‘¸ç‰Œè€Œè·å¾—ç‰Œæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ è£…å¤‡ç‰Œã€‚",
            "DIY_shicai":"æƒæ‰",
            "DIY_shicai_info":"é”å®šæŠ€ï¼Œç‰Œå †é¡¶çš„ä¸‰å¼ ç‰Œå¯¹ä½ å¯è§ã€‚å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥è·å¾—è·å¾—ç‰Œå †é¡¶ä¸‰å¼ ç‰Œä¸­çš„ä¸€å¼ ï¼Œç„¶åæ­¤æŠ€èƒ½å¤±æ•ˆç›´è‡³æ­¤ç‰Œç¦»å¼€ä½ çš„æ‰‹ç‰ŒåŒºã€‚",
            "DIY_cunmu":"å¯¸ç›®",
            "DIY_cunmu_info":"é”å®šæŠ€ï¼Œå‡†å¤‡é˜¶æ®µæˆ–å½“ä½ ä½¿ç”¨ä¸€å¼ ç‰Œæ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †åº•çš„ä¸‰å¼ ç‰Œå¹¶é€‰æ‹©å…¶ä¸­ä¸€å¼ ç½®äºç‰Œå †é¡¶ã€‚",
            "DIY_chenglve":"æˆç•¥",
            "DIY_chenglve_info":"é”å®šæŠ€ï¼Œè½¬åŒ–æŠ€ï¼Œé˜´ï¼šæ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ”¾å¼ƒæ‘¸ç‰Œï¼Œæ”¹ä¸ºæ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå¼ƒç½®ä¸¤å¼ æ‰‹ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œç›´åˆ°æœ¬å›åˆç»“æŸï¼Œä½ ä½¿ç”¨ä¸å¼ƒç½®ç‰ŒèŠ±è‰²ç›¸åŒçš„ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ï¼›é˜³ï¼šæ‘¸ç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ”¾å¼ƒæ‘¸ç‰Œï¼Œæ”¹ä¸ºæ‘¸ä¸¤å¼ ç‰Œï¼Œç„¶åå¼ƒç½®ä¸€å¼ æ‰‹ç‰Œã€‚è‹¥å¦‚æ­¤åšï¼Œç›´åˆ°æœ¬å›åˆç»“æŸï¼Œä½ ä½¿ç”¨ä¸å¼ƒç½®ç‰ŒèŠ±è‰²ç›¸åŒçš„ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶",
            "DIY_panshi":"å›å¼‘",
            "DIY_panshi_info":"å‡†å¤‡é˜¶æ®µï¼Œè‹¥åœºä¸Šæ²¡æœ‰â€œä¹‰çˆ¶â€æ ‡è®°ï¼Œä½ å¯ä»¤ä¸€åå…¶ä»–è§’è‰²è·å¾—ä¸€ä¸ªâ€œä¹‰çˆ¶â€æ ‡è®°ï¼›è‹¥åœºä¸Šæœ‰â€œä¹‰çˆ¶â€æ ‡è®°ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¯¹æœ‰â€œä¹‰çˆ¶â€æ ‡è®°çš„è§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³å¹¶ç§»åŠ¨â€œä¹‰çˆ¶â€æ ‡è®°ã€‚æ‹¥æœ‰â€œä¹‰çˆ¶â€æ ‡è®°çš„è§’è‰²è·å¾—æŠ€èƒ½â€œæ…ˆå­â€ã€‚",
            "DIY_panshi_damage":"",
            "DIY_panshi_damage_info":"",
            "DIY_cixiao":"æ…ˆå­",
            "DIY_cixiao_info":"é”å®šæŠ€ï¼Œå‡†å¤‡é˜¶æ®µï¼Œä½ ç»™æœ‰â€œå›å¼‘â€æŠ€èƒ½çš„è§’è‰²å‘é›¶èŠ±é’±ï¼›æ‹¥æœ‰æŠ€èƒ½â€œå›å¼‘â€çš„è§’è‰²å¯¹ä½ é€ æˆçš„ä¼¤å®³+1ã€‚",
            "DIY_cixiao_damage":"æ…ˆå­",
            "DIY_cixiao_damage_info":"",
            "DIY_liqu":"åˆ©é©±",
            "DIY_liqu_info":"å…¶ä»–è§’è‰²çš„å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œå…¶å¯ä»¥äº¤ç»™ä½ ä¸€å¼ ç‰Œå¹¶æŒ‡å®šä¸€åå…¶ä»–è§’è‰²ï¼Œç„¶åä½ å¯ä»¥è§†ä¸ºå¯¹å…¶æŒ‡å®šè§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_liqu2":"åˆ©é©±",
            "DIY_liqu2_info":"",
            "DIY_sidao":"ä¼ºç›—",
            "DIY_sidao_info":"å½“ä½ å¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œåï¼Œä½ å¯ä»¥å°†ä¸€å¼ æ‰‹ç‰Œå½“åšã€é¡ºæ‰‹ç‰µç¾Šã€‘å¯¹å…¶ä½¿ç”¨ã€‚",
            "DIY_sidaox":"ä¼ºç›—",
            "DIY_sidaox_info":"",
            "DIY_tanbei":"è´ªç‹ˆ",
            "DIY_tanbei_info":"é”å®šæŠ€ï¼Œå½“ä½ å³å°†é€ æˆä¼¤å®³æ—¶ï¼Œè‹¥ç›®æ ‡æœ‰æ‰‹ç‰Œåˆ™æ”¹ä¸ºå¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€é¡ºæ‰‹ç‰µç¾Šã€‘ï¼Œå¦åˆ™æ­¤ä¼¤å®³+1ã€‚",
            "DIY_fenxin":"ç„šå¿ƒ",
            "DIY_fenxin_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ç§»é™¤ä½ çš„ä¸€ä¸ªæŠ€èƒ½æˆ–éƒ¨åˆ†æŠ€èƒ½ç»™äºˆçš„æ•ˆæœï¼Œç„¶åä»Xå¼ åŠ¿åŠ›ä¸ä½ ç›¸åŒçš„æ­¦å°†ç‰Œä¸­é€‰æ‹©ä¸€ä¸ªæŠ€èƒ½è·å¾—ä¹‹ï¼ˆXä¸ºåœºä¸Šè§’è‰²æ•°ä¸”ä¸å°äº2ï¼‰ï¼Œè‹¥ä½ ä»¥æ­¤æ³•ç§»é™¤äº†ã€–ç„šå¿ƒã€—ï¼Œä½ å¯ä»¥ç§»é™¤ä¸€åå…¶ä»–è§’è‰²æ­¦å°†ç‰Œä¸Šçš„ä¸€ä¸ªæŠ€èƒ½ã€‚",
            "DIY_jieyuan":"ç«­ç¼˜",
            "DIY_jieyuan_info":"å½“ä½ å³å°†é€ æˆ/å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œä»¤æ­¤ä¼¤å®³+/-1",
            "DIY_mengjin":"çŒ›è¿›",
            "DIY_mengjin_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®å…¶Xå¼ ç‰Œï¼ˆXä¸ºä½ çš„æ”»å‡»èŒƒå›´ï¼‰ã€‚",
            "DIY_juesi":"å†³æ­»",
            "DIY_juesi_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ åŸºæœ¬ç‰Œå¹¶å¼ƒç½®æ”»å‡»èŒƒå›´å†…æˆ–æ”»å‡»èŒƒå›´å†…åŒ…å«ä½ çš„å…¶ä»–è§’è‰²ä¸€å¼ ç‰Œï¼Œç„¶åè‹¥å…¶å¼ƒç½®çš„ç‰Œä¸æ˜¯ã€æ€ã€‘ï¼Œä½ è§†ä¸ºå¯¹å…¶ä½¿ç”¨ã€æ€ã€‘ï¼Œæ­¤ã€æ€ã€‘ç»“ç®—å®Œæˆåï¼Œå…¶è§†ä¸ºå¯¹ä½ ä½¿ç”¨ä¸€å¼ çš„ã€æ€ã€‘ï¼ˆä½ æ— æ³•å“åº”æ­¤ã€æ€ã€‘ï¼‰ã€‚",
            "DIY_qianhuan":"åƒå¹»",
            "DIY_qianhuan_info":"ç¾¤åŠ¿åŠ›æŠ€ã€‚å½“ä¸€åè§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œ[å…¶]å¯ä»¥æ‘¸ä¸€å¼ ç‰Œå¹¶å°†ä¸€å¼ ç‰Œç½®äºä½ çš„æ­¦å°†ç‰Œä¸Šï¼ˆè‹¥ä½ å¼€å¯äº†æ‰©å±•ã€åƒå¹»è†éŸ³ã€‘ï¼Œåˆ™å°†[å…¶]æ”¹ä¸º[ä½ ]ï¼‰ã€‚å½“ä¸€åè§’è‰²æˆä¸ºåŸºæœ¬ç‰Œæˆ–é”¦å›Šç‰Œçš„å”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥ç§»å»ä¸€å¼ â€œåƒå¹»â€ç‰Œï¼Œå–æ¶ˆä¹‹ã€‚",
            "DIY_guhuo":"è›Šæƒ‘",
            "DIY_guhuo_info":"å´åŠ¿åŠ›æŠ€ã€‚ä½ å¯ä»¥æ‰£ç½®ä¸€å¼ ç‰Œå½“ä½œä¸€å¼ åŸºæœ¬ç‰Œæˆ–æ™®é€šé”¦å›Šç‰Œä½¿ç”¨æˆ–æ‰“å‡ºã€‚å…¶ä»–è§’è‰²åŒæ—¶é€‰æ‹©æ˜¯å¦è´¨ç–‘ã€‚ç„¶åï¼Œä½ å±•ç¤ºæ­¤ç‰Œã€‚è‹¥æœ‰è´¨ç–‘çš„è§’è‰²ï¼šè‹¥æ­¤ç‰Œä¸ºå‡ï¼Œåˆ™æ­¤ç‰Œä½œåºŸï¼Œä¸”æ‰€æœ‰è´¨ç–‘è€…å„æ‘¸ä¸€å¼ ç‰Œï¼›ä¸ºçœŸï¼Œåˆ™æ‰€æœ‰è´¨ç–‘è§’è‰²äºæ­¤ç‰Œç»“ç®—å®Œæˆåä¾æ¬¡å¼ƒç½®ä¸€å¼ ç‰Œæˆ–å¤±å»1ç‚¹ä½“åŠ›ï¼Œå¹¶è·å¾—æŠ€èƒ½ã€–ç¼ æ€¨ã€—ã€‚",
            "DIY_guhuo_guess":"è›Šæƒ‘",
            "DIY_guhuo_guess_info":"",
            "DIY_yaowu":"è€€æ­¦",
            "DIY_yaowu_info":"é”å®šæŠ€ï¼Œå½“ä½ å—åˆ°ç‰Œé€ æˆçš„ä¼¤å®³æ—¶ï¼Œä½ è·å¾—æ­¤ä¼¤å®³æ¸ é“çš„ç‰Œå¯¹åº”çš„æ‰€æœ‰å®ä½“ç‰Œï¼Œç„¶åè‹¥æ­¤ç‰Œä¸ºçº¢è‰²ï¼Œåˆ™ä¼¤å®³æ¥æºæ‘¸Xå¼ ç‰Œï¼›åä¹‹ä½ æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºä¼¤å®³æ•°ï¼‰ã€‚ä½ çš„ã€Œè€€æ­¦ç‰Œã€ä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ä¸”ä½ ä½¿ç”¨ã€æ€ã€‘çš„æ¬¡æ•°ä¸Šé™ç­‰äºä½ æ‰‹ç‰Œä¸­ã€Œè€€æ­¦ç‰Œã€çš„æ•°+1ã€‚",
            "DIY_daoshu":"ç›—ä¹¦",
            "DIY_daoshu_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åæœ‰æ‰‹ç‰Œçš„å…¶ä»–è§’è‰²å¹¶é€‰æ‹©ä¸€ä¸ªèŠ±è‰²ã€‚è‹¥å…¶æ‰‹ç‰Œä¸­å«æœ‰æ­¤èŠ±è‰²çš„ç‰Œï¼Œåˆ™ä½ è·å¾—å…¶ä¸€å¼ æ‰‹ç‰Œå¹¶å¯¹å…¶é€ æˆ1ç‚¹ä¼¤å®³ï¼Œè‹¥å…¶æœ‰æ‰‹ç‰Œï¼Œåˆ™ä½ å¯¹å…¶é‡å¤æ­¤æµç¨‹ã€‚å¦åˆ™ä½ é¡»äº¤ç»™å…¶ä¸€å¼ ä¸æ‰€é€‰èŠ±è‰²ä¸åŒçš„æ‰‹ç‰Œï¼ˆæ²¡æœ‰åˆ™å±•ç¤ºæ‰‹ç‰Œï¼‰ã€‚",
            "DIY_weicheng":"ä¼ªè¯š",
            "DIY_weicheng_info":"å½“å…¶ä»–è§’è‰²è·å¾—ä½ çš„æ‰‹ç‰Œåï¼Œä½ å¯ä»¥å±•ç¤ºæ‰‹ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_zhengu":"é•‡éª¨",
            "DIY_zhengu_info":"ç»“æŸé˜¶æ®µï¼Œä½ é€‰æ‹©ä¸€åè§’è‰²ï¼Œå¹¶è®°ä½ å½“å‰æ‰‹ç‰Œæ•°ä¸ºXï¼Œç›´è‡³ä½ çš„ä¸‹ä¸ªå‡†å¤‡é˜¶æ®µï¼Œä½ ä¸å…¶æ‰‹ç‰Œæ•°æ’ä¸ºXã€‚",
            "DIY_zhengu2":"é•‡éª¨",
            "DIY_zhengu2_info":"",
            "DIY_qiangwu":"æªèˆ",
            "DIY_qiangwu_info":"é”å®šæŠ€ï¼Œå½“ä½ äºå‡ºç‰Œé˜¶æ®µä½¿ç”¨ç¬¬ä¸€å¼ ç‰Œåï¼Œæœ¬å›åˆä½ ä½¿ç”¨å¤§äºæ­¤ç‰Œç‚¹æ•°çš„ç‰Œæ— æ¬¡æ•°é™åˆ¶ï¼›ä½¿ç”¨å°äºæ­¤ç‰Œç‚¹æ•°çš„ç‰Œæ— è·ç¦»é™åˆ¶ã€‚",
            "DIY_shenxian":"ç”šè´¤",
            "DIY_shenxian_info":"é”å®šæŠ€ï¼Œæ¯è½®é™ä¸€æ¬¡ï¼Œå½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ç‰Œæ—¶ï¼Œä½ æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºæ­¤ç‰Œç‚¹æ•°ï¼‰ã€‚",
            "DIY_qiangwu2":"æªèˆ",
            "DIY_qiangwu2_info":"",
            "DIY_xuehen":"é›ªæ¨",
            "DIY_xuehen_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ çº¢è‰²ç‰Œå¹¶æ¨ªç½®è‡³å¤šX/ä¸€åè§’è‰²ï¼Œç„¶åå¯¹å…¶ä¸­ä¸€åè§’è‰²é€ æˆä¸€/Xç‚¹ç«ç„°ä¼¤å®³ï¼ˆXä¸ºä½ å·²æŸä½“åŠ›å€¼+1ï¼‰ã€‚",
            "DIY_huxiao":"è™å•¸",
            "DIY_huxiao_info":"é”å®šæŠ€ï¼Œå½“ä½ å¯¹ä¸€åè§’è‰²é€ æˆç«å±æ€§ä¼¤å®³æ—¶ï¼Œä½ äºæ­¤å›åˆå†…å¯¹å…¶ä½¿ç”¨ç‰Œæ²¡æœ‰æ¬¡æ•°é™åˆ¶ã€‚",
            "DIY_huxiao2":"è™å•¸",
            "DIY_huxiao2_info":"",
            "DIY_huxiao3":"è™å•¸",
            "DIY_huxiao3_info":"é”å®šæŠ€ï¼Œä½ çš„æ”»å‡»èŒƒå›´æ’ä¸º3ã€‚å½“ä½ ä½¿ç”¨çš„ã€æ€ã€‘è¢«ç›®æ ‡è§’è‰²ä½¿ç”¨çš„ã€é—ªã€‘æŠµæ¶ˆæ—¶ï¼Œä½ è·å¾—æ­¤ã€æ€ã€‘ç„¶åå¯ä»¥å¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼ˆæ— è·ç¦»é™åˆ¶ï¼‰ã€‚",
            "DIY_wuji":"æ­¦ç»§",
            "DIY_wuji_info":"è§‰é†’æŠ€ï¼Œç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ äºæ­¤å›åˆå†…é€ æˆè¿‡3ç‚¹æˆ–æ›´å¤šä¼¤å®³ï¼Œä½ åŠ 1ç‚¹ä½“åŠ›ä¸Šé™å¹¶å›å¤1ç‚¹ä½“åŠ›ï¼Œç„¶åä¿®æ”¹ã€–è™å•¸ã€—ã€‚",
            "DIY_fengpo":"å‡¤é­„",
            "DIY_fengpo_info":"é”å®šæŠ€ï¼Œå½“ä¸€åè§’è‰²ä½¿ç”¨æˆ–æ‰“å‡ºè™šæ‹Ÿæˆ–è½¬åŒ–ç‰Œåï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ å¯ä»¥ä½¿ç”¨ä¸€å¼ ç‰Œã€‚ä½ å¯ä»¥å°†ä¸€å¼ â™¦ç‰Œå½“ä½œã€ç«æ€ã€‘ä½¿ç”¨æˆ–æ‰“å‡ºã€‚",
            "DIY_fengpo2":"å‡¤é­„",
            "DIY_fengpo2_info":"",
            "DIY_zengou":"è°®æ„",
            "DIY_zengou_info":"å½“ä¸€åä½ æ”»å‡»èŒƒå›´å†…çš„è§’è‰²ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œå“åº”å¯¹å…¶ä½¿ç”¨çš„ç‰Œæ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œæˆ–å¤±å»ä¸€ç‚¹ä½“åŠ›ï¼Œè‹¥å¦‚æ­¤åšä½ å–æ¶ˆæ­¤ç‰Œæ‰€æœ‰ç›®æ ‡å¹¶è·å¾—ä¹‹ã€‚",
            "DIY_zhangji":"é•¿å§¬",
            "DIY_zhangji_info":"ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œè‹¥ä½ æ˜¯åœºä¸Šä½“åŠ›å€¼æœ€å¤šçš„è§’è‰²ï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹ä¸€åè§’è‰²ä½¿ç”¨äº†ä¸€å¼ ã€æ€ã€‘ï¼Œè‹¥ä½ æ˜¯åœºä¸Šæ‰‹ç‰Œæ•°æœ€å¤šçš„è§’è‰²ï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹ä¸€åè§’è‰²ä½¿ç”¨äº†ä¸€å¼ ã€å€Ÿåˆ€æ€äººã€‘ã€‚è‹¥å‡æ»¡è¶³ä½ æ‘¸Xå¼ ç‰Œã€‚ï¼ˆXä¸ºä½ æœ¬å›åˆé€ æˆçš„ä¼¤å®³æ€»å€¼ï¼‰",
            "DIY_zenhui":"è°®æ¯",
            "DIY_zenhui_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æˆ–æ™®é€šé”¦å›Šç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²å¹¶ä»¤å…¶é€‰æ‹©ä¸€é¡¹ï¼šâ‘ æˆä¸ºæ­¤ç‰Œçš„ä½¿ç”¨è€…ä¸”æœ¬å›åˆç§»é™¤æ­¤é¡¹é€‰æ‹©ï¼Œæ­¤å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸€ä¸ªé¢å¤–å›åˆï¼›â‘¡æˆä¸ºæ­¤ç‰Œé¢å¤–ç›®æ ‡ã€‚",
            "DIY_zenhui2":"è°®æ¯",
            "DIY_zenhui2_info":"",
            "DIY_jiaojin":"éª„çŸœ",
            "DIY_jiaojin_info":"å½“ä½ æˆä¸ºç”·æ€§è§’è‰²ä½¿ç”¨ã€æ€ã€‘æˆ–é”¦å›Šç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œç„¶åæ‘¸ä¸€å¼ ç‰Œï¼ˆæ­£é¢æœä¸Šç§»åŠ¨ï¼‰ï¼Œè‹¥æ­¤ç‰Œä¸ä¸ºåŸºæœ¬ç‰Œï¼Œä½ ä¸å…¶äº¤æ¢æ­¤ç‰Œç›®æ ‡å’Œä½¿ç”¨è€…èº«ä»½ã€‚",
            "DIY_jiezi":"æˆªè¾",
            "DIY_jiezi_info":"â‘ é”å®šæŠ€ï¼Œå½“æœ‰è§’è‰²è·³è¿‡æ‘¸ç‰Œé˜¶æ®µåï¼Œä½ è·å¾—ä¸€æšâ€œè¾â€ã€‚â‘¡ä¸€åè§’è‰²çš„æ‘¸ç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œè‹¥ä½ æœ‰â€œè¾â€ï¼Œä½ å¯ä»¥ç§»å»ä¸€æšâ€œè¾â€ï¼Œç„¶åä»¤å…¶è·å¾—ä¸€ä¸ªé¢å¤–çš„æ‘¸ç‰Œé˜¶æ®µã€‚",
            "DIY_duanliang":"æ–­ç²®",
            "DIY_duanliang_info":"ä¸€åå…¶ä»–è§’è‰²çš„å›åˆå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ é»‘è‰²ç‰Œå¹¶è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ä¸ºâ™£ï¼Œå…¶è·³è¿‡æ‘¸ç‰Œé˜¶æ®µã€‚",
            "DIY_qimei":"é½çœ‰",
            "DIY_qimei_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²ã€‚ä½ è·å¾—å¦‚ä¸‹æ•ˆæœç›´åˆ°ä¸‹å›åˆå¼€å§‹ï¼šæ¯å›åˆæ¯é¡¹é™ä¸€æ¬¡ï¼Œå½“å…¶ä¸­ä¸€æ–¹çš„æ‰‹ç‰Œæ•°/ä½“åŠ›å€¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè‹¥åŒæ–¹æ‰‹ç‰Œæ•°/ä½“åŠ›å€¼ä¸åŒï¼Œæ‰‹ç‰Œæ•°/ä½“åŠ›å€¼è¾ƒå°çš„ä¸€æ–¹å°†å…¶è°ƒæ•´è‡³ä¸å¦ä¸€æ–¹ç›¸åŒã€‚",
            "DIY_yuqi":"éš…æ³£",
            "DIY_yuqi_info":"å½“ä¸€åè§’è‰²å—åˆ°ä¸€ç‚¹ä¼¤å®³åï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †é¡¶çš„ä¸¤å¼ ç‰Œï¼Œç„¶åå°†å…¶åˆ†é…ç»™ä»»æ„è§’è‰²ã€‚",
            "DIY_shanshen":"å–„èº«",
            "DIY_shanshen_info":"è‹¥åœºä¸Šçº¢è‰²/é»‘è‰²ç‰Œè¾ƒå¤šï¼Œä½ è§†ä¸ºæ‹¥æœ‰æŠ€èƒ½â€œæ˜å“²â€/â€œå¸·å¹•â€ï¼Œå¦åˆ™ä½ è§†ä¸ºæ‹¥æœ‰â€œéš…æ³£â€ã€‚",
            "DIY_shanshen_weimu":"å¸·å¹•",
            "DIY_shanshen_weimu_info":"é”å®šæŠ€ã€‚â‘ ä½ ä¸èƒ½æˆä¸ºé»‘è‰²é”¦å›Šç‰Œçš„ç›®æ ‡ã€‚â‘¡å½“ä½ äºå›åˆå†…æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„ç›®æ ‡æ—¶ï¼Œå–æ¶ˆä¹‹ã€‚",
            "DIY_shanshen_mingzhe":"æ˜å“²",
            "DIY_shanshen_mingzhe_info":"å½“ä½ äºå›åˆå¤–ä½¿ç”¨æˆ–æ‰“å‡ºçº¢è‰²ç‰Œï¼Œæˆ–å› å¼ƒç½®å¤±å»ä¸€å¼ çº¢è‰²ç‰Œåï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_xianya":"å¨´é›…",
            "DIY_xianya_info":"ä¸€åè§’è‰²å›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ æœ¬å›åˆå¤±å»è¿‡ç‰Œï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²æ‘¸ä¸€å¼ ç‰Œï¼›è‹¥ä½ æœ¬å›åˆå—åˆ°è¿‡ä¼¤å®³ï¼Œåˆ™æ”¹ä¸ºæ‘¸ä¸¤å¼ ç‰Œã€‚",
            "DIY_juece":"ç»ç­–",
            "DIY_juece_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ æ‰‹ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ï¼Œè‹¥å…¶æ‰‹ç‰Œæ•°å¤§äºå…¶ä½“åŠ›å€¼ï¼Œä½ å¯¹å…¶é€ æˆ1ç‚¹ä¼¤å®³ä¸”ã€ç»ç­–ã€‘å¤±æ•ˆç›´è‡³ä¸€åè§’è‰²æ­»äº¡æˆ–æœ¬å›åˆç»“æŸã€‚",
            "DIY_juece1":"ç»ç­–",
            "DIY_juece1_info":"",
            "DIY_juece2":"",
            "DIY_juece2_info":"",
            "DIY_mieji":"ç­è®¡",
            "DIY_mieji_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸€å¼ éåŸºæœ¬ç‰Œç½®äºç‰Œå †é¡¶å¹¶é€‰æ‹©ä¸€åå…¶ä»–è§’è‰²ï¼Œç›´è‡³å…¶ä¸‹å›åˆç»“æŸï¼Œå…¶æ‰‹ç‰Œä¸­ä¸æ­¤ç‰Œé¢œè‰²ç›¸åŒçš„ç‰Œå‡è§†ä¸ºã€æ¯’ã€‘ã€‚",
            "DIY_mieji2":"ç­è®¡",
            "DIY_mieji2_info":"",
            "DIY_qiaoshuo":"å·§è¯´",
            "DIY_qiaoshuo_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥ä¸ä¸€åå…¶ä»–è§’è‰²æ‹¼ç‚¹ã€‚è‹¥ä½ ï¼šèµ¢ï¼Œä½ è·å¾—ä¸€æšâ€œå·§è¯´â€æ ‡è®°ï¼›æ²¡èµ¢ï¼Œä½ ç§»å»ä¸€æšâ€œå·§è¯´â€æ ‡è®°ï¼Œè‹¥ä½ æ²¡æœ‰â€œå·§è¯´â€æ ‡è®°åˆ™æ”¹ä¸ºç»“æŸå‡ºç‰Œé˜¶æ®µã€‚å½“ä½ ä½¿ç”¨åŸºæœ¬ç‰Œæˆ–æ™®é€šé”¦å›Šç‰Œæ—¶ï¼Œä½ å¯ä»¥ç§»å»ä¸€æšâ€œå·§è¯´â€æ ‡è®°å¹¶å¢åŠ æˆ–å‡å°‘ä¸€ä¸ªç›®æ ‡ï¼ˆç›®æ ‡æ•°ä¸èƒ½å°äºä¸€ï¼‰ã€‚",
            "DIY_qiaoshuo2":"å·§è¯´",
            "DIY_qiaoshuo2_info":"",
            "DIY_zongshi":"çºµé€‚",
            "DIY_zongshi_info":"å½“ä½ æ‹¼ç‚¹åï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †é¡¶çš„ä¸€å¼ ç‰Œï¼Œç„¶åé€‰æ‹©ä¸€é¡¹ï¼šè·å¾—æ­¤ç‰Œï¼Œæˆ–è·å¾—ä¸¤å¼ æ‹¼ç‚¹ç‰Œä¸­ç‚¹æ•°è¾ƒå°çš„ä¸€å¼ ã€‚",
            "DIY_jiang":"æ¿€æ˜‚",
            "DIY_jiang_info":"é”å®šæŠ€ï¼Œå½“ä½ é€ æˆæˆ–å—åˆ°1ç‚¹ä¼¤å®³æ—¶ï¼Œä½ åŠ 1ç‚¹ä½“åŠ›ä¸Šé™ã€‚",
            "DIY_hunzi":"é­‚å§¿",
            "DIY_hunzi_info":"è§‰é†’æŠ€ï¼Œå‡†å¤‡é˜¶æ®µæˆ–å½“ä½ è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼ä¸å¤§äº1ï¼Œä½ å°†ä½“åŠ›å›å¤è‡³1ç‚¹ï¼Œç„¶åè·å¾—ã€–è‹±éœ¸ã€—ã€ã€–è¦†æµ·ã€—å’Œã€–å†¯æ²³ã€—ã€‚",
            "DIY_lianji":"è¿è®¡",
            "DIY_lianji_info":"å‡ºç‰Œé˜¶æ®µé™ä¸¤æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œä¸ä»¥æ­¤æ³•ä½¿ç”¨è¿‡çš„ã€ç¬‘é‡Œè—åˆ€ã€‘ã€ã€å€Ÿåˆ€æ€äººã€‘æˆ–ã€ç¾äººè®¡ã€‘ä½¿ç”¨ã€‚",
            "DIY_lianji2":"è¿è®¡",
            "DIY_lianji2_info":"",
            "DIY_moucheng":"è°‹é€",
            "DIY_moucheng_info":"é™å®šæŠ€ï¼Œå½“ä½ å‘åŠ¨ã€–è¿è®¡ã€—è‡³æ­¤ç‰Œç»“ç®—å®Œæˆæ—¶ï¼Œè‹¥æœ‰ä¸€åè§’è‰²æ­»äº¡ï¼Œä½ å¯ä»¥åŠ ä¸€ç‚¹ä½“åŠ›ä¸Šé™å¹¶å°†ä½“åŠ›å€¼å’Œæ‰‹ç‰Œè°ƒæ•´è‡³ä½“åŠ›ä¸Šé™ï¼Œç„¶åä½ å¤±å»ã€–è¿è®¡ã€—å¹¶è·å¾—ã€–çŸœåŠŸã€—ã€‚",
            "DIY_jingong":"çŸœåŠŸ",
            "DIY_jingong_info":"å½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ç‰Œæ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹ç‰Œå †é¡¶çš„ä¸‰å¼ ç‰Œï¼Œå¹¶ä½¿ç”¨æˆ–æ‰“å‡ºä¹‹ï¼Œåä¹‹ä½ å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚ï¼ˆã€æ— æ‡ˆå¯å‡»ã€‘é™¤å¤–ï¼‰",
            "DIY_jingong_backup":"çŸœåŠŸ",
            "DIY_jingong_backup_info":"",
            "DIY_lingren":"å‡Œäºº",
            "DIY_lingren_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡æˆ–å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥å±•ç¤ºä½ çš„æ‰€æœ‰æ‰‹ç‰Œï¼Œå¹¶å°†å…¶ä¸­ä¸€ç§é¢œè‰²çš„ç‰Œä¾æ¬¡å½“åšæ— è·ç¦»é™åˆ¶çš„ã€æ€ã€‘ä½¿ç”¨ã€‚",
            "DIY_lingren2":"",
            "DIY_lingren2_info":"",
            "DIY_fujian":"ä¼é—´",
            "DIY_fujian_info":"é”å®šæŠ€ï¼Œæ¯å›åˆé™ä¸€æ¬¡ï¼Œå½“ä½ äºå›åˆå¤–ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œä½ ä»¤å½“å‰å›åˆè§’è‰²éé”å®šæŠ€å¤±æ•ˆï¼Œç„¶åæ‘¸Xå¼ ç‰Œï¼ˆXä¸ºå…¶æ­¦å°†ç‰Œä¸ŠæŠ€èƒ½æ•°ï¼‰",
            "DIY_wuniang":"æ­¦å¨˜",
            "DIY_wuniang_info":"å½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œä½ å¯ä»¥äº¤ç»™å…¶ä»–è§’è‰²ä¸€å¼ æ‰‹ç‰Œå¹¶æ‘¸ä¸€å¼ ç‰Œï¼ˆè‹¥ã€Œé˜³Â·å…³ç´¢ã€åœ¨åœºï¼Œå…¶ä¹Ÿæ‘¸ä¸€å¼ ç‰Œï¼‰ï¼Œè§†ä¸ºä½¿ç”¨æˆ–æ‰“å‡ºäº†ä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_wuniang_use":"æ­¦å¨˜",
            "DIY_wuniang_use_info":"",
            "DIY_zhennan":"é•‡å—",
            "DIY_zhennan_info":"å½“ä¸€åè§’è‰²é€ æˆä¼¤å®³æ—¶ï¼Œè‹¥å…¶æœ¬å›åˆä½¿ç”¨å¸¦æœ‰ã€Œä¼¤å®³ã€æ ‡ç­¾çš„ç‰Œæ•°ä¸å°äº[äºŒ]ï¼Œä½ å¯ä»¥ä¸å…¶å„æ‘¸[ä¸€]å¼ ç‰Œï¼ˆè‹¥å…¶ä¸ºã€äº‘å°†Â·èŠ±é¬˜ã€‘ï¼Œä½ å°†[]å†…æ•°å­—å¯¹è°ƒï¼‰",
            "DIY_shanjia":"ç¼®ç”²",
            "DIY_shanjia_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥æ‘¸Xå¼ ç‰Œå†å¼ƒç½®X-Yå¼ ç‰Œã€‚ä½ æ¯ä»¥æ­¤æ³•å¼ƒç½®ä¸€å¼ è£…å¤‡ç‰Œï¼Œä½ ä¾¿è§†ä¸ºä½¿ç”¨ä¸€å¼ æ— è·ç¦»é™åˆ¶çš„ã€æ€ã€‘ï¼ˆXä¸ºä½ æœ¬å±€æ¸¸æˆä½¿ç”¨è¿‡çš„è£…å¤‡ç‰Œæ•°ä¸”Xâˆˆ[max(3,Y),7]ï¼ŒYä¸ºæœ¬å±€æ¸¸æˆä½ ä»¥æ­¤æ³•å¼ƒç½®çš„è£…å¤‡ç‰Œæ•°ï¼‰ã€‚",
            "DIY_ganglie":"åˆšçƒˆ",
            "DIY_ganglie_info":"å½“ä½ å—åˆ°1ç‚¹ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥ç«–ç½®ä½“åŠ›ç‰Œç„¶åå¯¹ä¼¤å®³æ¥æºé€ æˆ1ç‚¹ä¼¤å®³æˆ–å¼ƒç½®ä¼¤å®³æ¥æºä¸¤å¼ ç‰Œã€‚",
            "DIY_fenyong":"æ„¤å‹‡",
            "DIY_fenyong_info":"é”å®šæŠ€ï¼Œä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ çš„ä½“åŠ›ç‰Œç«–ç½®ï¼Œä½ æ¨ªç½®ä¹‹ï¼Œç„¶åé€‰æ‹©ä¸€é¡¹ï¼šâ‘ æ‘¸Xå¼ ç‰Œï¼›â‘¡å¼ƒç½®å½“å‰å›åˆè§’è‰²Xå¼ ç‰Œï¼ˆXä¸ºä½ çš„å·²æŸä½“åŠ›å€¼ï¼‰ã€‚",
            "DIY_ganglie2":"åˆšçƒˆ",
            "DIY_ganglie2_info":"",
            "DIY_tuifeng":"æ¨é”‹",
            "DIY_tuifeng_info":"å‡ºç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œè‹¥ä½ çš„æ‰‹ç‰Œæ•°å¤§äºä½“åŠ›å€¼ï¼Œæˆ–å½“ä½ å—åˆ°1ç‚¹ä¼¤å®³åæˆ–å½“ä½ ä½¿ç”¨ç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡å¹¶å¯¹å…¶é€ æˆä¼¤å®³åï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åå°†ä¸€å¼ æ‰‹ç‰Œç½®äºæ­¦å°†ç‰Œä¸Šï¼Œç§°ä¸ºâ€œé”‹â€ã€‚å‡†å¤‡é˜¶æ®µï¼Œè‹¥ä½ æœ‰â€œé”‹â€ï¼Œä½ å¯ä»¥ç§»å»ä»»æ„å¼ â€œé”‹â€ï¼Œæ‘¸ç­‰é‡çš„ç‰Œï¼Œç„¶åæœ¬å›åˆä½ å¯ä»¥å¤šä½¿ç”¨Xå¼ ã€æ€ã€‘ã€‚ï¼ˆXä¸ºä½ æœ¬å›åˆç§»å»â€œé”‹â€çš„æ•°é‡ï¼‰",
            "DIY_tuifeng2":"æ¨é”‹",
            "DIY_tuifeng2_info":"",
            "DIY_tuifeng3":"æ¨é”‹",
            "DIY_tuifeng3_info":"",
            "DIY_tuifeng4":"",
            "DIY_tuifeng4_info":"",
            "DIY_longdan":"é¾™èƒ†",
            "DIY_longdan_info":"ä½ å¯ä»¥å°†Xå¼ ç‰Œå½“åšä»»æ„ä¸€å¼ åŸºæœ¬ç‰Œæ‰“å‡ºæˆ–ä½¿ç”¨ï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼ˆXä¸ºä½ æœ¬å±€æ¸¸æˆå‘åŠ¨ã€–é¾™èƒ†ã€—æ¬¡æ•°ä¸”è‡³å¤šä¸º7ï¼‰ã€‚",
            "DIY_jizhu":"ç§¯è‘—",
            "DIY_jizhu_info":"ä½ çš„å›åˆå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥æ‘¸Xå¼ ç‰Œå†å¼ƒç½®Yå¼ ç‰Œï¼Œç„¶åä»¤æœ¬å›åˆä½ ä½¿ç”¨ã€æ€ã€‘/ã€æ¡ƒã€‘çš„ä¼¤å®³å€¼/å›å¤å€¼+Yï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ å°†Xå½’é›¶ï¼ˆY=max(7-X,1)ï¼‰ã€‚",
            "DIY_huaiyuan":"æ€€è¿œ",
            "DIY_huaiyuan_info":"é”å®šæŠ€ï¼Œä½ äºæœ¬å›åˆè·å¾—çš„ç‰Œç§°ä¸ºâ€œç»¥â€ï¼ˆåˆå§‹æ‰‹ç‰Œé™¤å¤–ï¼‰ã€‚ä½ ä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºâ€œç»¥â€ï¼Œä½ çš„â€œç»¥â€ä¸è®¡å…¥æ‰‹ç‰Œä¸Šé™ã€‚",
            "DIY_sui":"ç»¥",
            "DIY_sui_info":"",
            "DIY_dezhang":"å¾·å½°",
            "DIY_dezhang_info":"ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥é‡é“¸æ‰€æœ‰éâ€œç»¥â€ç‰Œï¼Œè‹¥å¦‚æ­¤åšï¼Œå½“å‰å›åˆè§’è‰²çš„æ”»å‡»èŒƒå›´å’Œä½¿ç”¨ã€æ€ã€‘æ¬¡æ•°ä¸Šé™+Xï¼ˆXä¸ºä½ ä»¥æ­¤æ³•é‡é“¸çš„ç‰Œæ•°ï¼‰ï¼Œè‹¥å…¶ä¸æ˜¯ä½ ï¼Œä½ è·å¾—ä¸€ç‚¹æŠ¤ç”²ã€‚",
            "DIY_guowu":"å¸¼æ­¦",
            "DIY_guowu_info":"å½“ä½ ä½¿ç”¨ä¼¤å®³æ€§ç‰ŒæŒ‡å®šä¸€åå…¶ä»–è§’è‰²æ—¶ï¼Œè‹¥Xâ‰®3ï¼ˆXä¸ºä½ ç´¯è®¡å¯¹å…¶ä½¿ç”¨çš„ä¼¤å®³æ€§ç‰Œæ•°ï¼‰ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€é¡¹ï¼šâ‘ è·å¾—å…¶ä¸€å¼ ç‰Œï¼›â‘¡ä»¤æ­¤ç‰Œå¯¹å…¶çš„ä¼¤å®³å€¼+1ï¼›â‘¢èƒŒæ°´ï¼šå°†Xå½’é›¶ã€‚",
            "DIY_zhuangrong":"å¦†æˆ",
            "DIY_zhuangrong_info":"å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®æ‰€æœ‰æ‰‹ç‰Œå¹¶è·å¾—ç­‰é‡çš„æŠ¤ç”²ï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ çš„ä¸‹ä¸ªå›åˆå¼€å§‹æ—¶ï¼Œä½ ç§»é™¤æ‰€æœ‰æŠ¤ç”²å¹¶æ‘¸ç­‰é‡çš„ç‰Œï¼Œç„¶åæœ¬å›åˆä½ è§†ä¸ºæ‹¥æœ‰â€œç¥å¨â€ã€â€œæ— åŒâ€ã€‚",
            "DIY_607shenwei":"ç¥å¨",
            "DIY_607shenwei_info":"é”å®šæŠ€ï¼Œæ‘¸ç‰Œé˜¶æ®µï¼Œä½ å¤šæ‘¸ä¸¤å¼ ç‰Œï¼›ä½ çš„æ‰‹ç‰Œä¸Šé™+2ã€‚",
            "DIY_607wushuang":"æ— åŒ",
            "DIY_607wushuang_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šä¸€ä¸ªç›®æ ‡åï¼Œè¯¥è§’è‰²éœ€ä¾æ¬¡ä½¿ç”¨ä¸¤å¼ ã€é—ªã€‘æ‰èƒ½æŠµæ¶ˆæ­¤ã€æ€ã€‘ï¼›å½“ä½ ä½¿ç”¨ã€å†³æ–—ã€‘æŒ‡å®šä¸€ä¸ªç›®æ ‡åï¼Œæˆ–æˆä¸ºä¸€åè§’è‰²ä½¿ç”¨ã€å†³æ–—ã€‘çš„ç›®æ ‡åï¼Œè¯¥è§’è‰²æ¯æ¬¡å“åº”æ­¤ã€å†³æ–—ã€‘éœ€ä¾æ¬¡æ‰“å‡ºä¸¤å¼ ã€æ€ã€‘ã€‚",
            "DIY_jishe":"æå¥¢",
            "DIY_jishe_info":"å‡ºç‰Œé˜¶æ®µï¼Œè‹¥ä½ çš„æ‰‹ç‰Œä¸Šé™å¤§äº0ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ æœ¬å›åˆçš„æ‰‹ç‰Œä¸Šé™-1ã€‚ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ æ‘¸Xçš„Yæ¬¡æ–¹å¼ ç‰Œï¼ˆXä¸ºä½ æœ¬å›åˆå‘åŠ¨æ­¤æŠ€èƒ½æ¬¡æ•°ï¼ŒYä¸ºä½ çš„æ‰‹ç‰Œæ•°ï¼‰",
            "DIY_qieting":"çªƒå¬",
            "DIY_qieting_info":"å½“ä¸€åå…¶ä»–è§’è‰²å³å°†è·å¾—ç‰Œæ—¶ï¼Œä½ å¯ä»¥è§‚çœ‹è¿™äº›ç‰Œå¹¶ç”¨ä»»æ„å¼ æ‰‹ç‰Œæ›¿æ¢å…¶ä¸­ç­‰é‡çš„ç‰Œï¼Œç„¶åè‹¥è¿™äº›ç‰Œæ•°å¤§äº1ä¸”é¢œè‰²ç›¸åŒï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_antao":"æš—æ¶›",
            "DIY_antao_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œå½“ä¸€åè§’è‰²å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ â™ ç‰Œï¼Œç„¶åå¯¹å…¶æˆ–ä¼¤å®³æ¥æºé€ æˆç­‰é‡ä¼¤å®³ã€‚",
            "DIY_zhuilie":"è¿½çŒ",
            "DIY_zhuilie_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ã€æ€ã€‘æ— è·ç¦»é™åˆ¶ï¼›å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡åï¼Œè‹¥å…¶ä¸åœ¨ä½ çš„æ”»å‡»èŒƒå›´å†…ï¼Œæ­¤ã€æ€ã€‘ä¸è®¡å…¥ä½¿ç”¨æ¬¡æ•°é™åˆ¶ä¸”ä½ åšä¸€é“è¿½åŠç›¸é‡çš„é¢˜ç›®ï¼Œè‹¥ä½ åšå¯¹ï¼Œæ­¤ã€æ€ã€‘çš„ä¼¤å®³åŸºæ•°æ”¹ä¸ºXï¼ˆXä¸ºå…¶ä½“åŠ›å€¼ï¼‰ã€‚å¦åˆ™ä½ å¤±å»1ç‚¹ä½“åŠ›ã€‚",
            "DIY_shefu":"è®¾ä¼",
            "DIY_shefu_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ èŠ±è‰²ä¸ã€Œä¼å…µã€ä¸åŒçš„ç‰Œæ‰£ç½®äºæ­¦å°†ç‰Œä¸Šç§°ä¸ºã€Œä¼å…µã€å¹¶è®°å½•ä¸€ä¸ªç‰Œåï¼ˆé¡»ä¸å…¶ä»–ã€Œä¼å…µã€è®°å½•çš„ç‰Œåä¸åŒï¼‰ã€‚å½“ä¸€åè§’è‰²ä½¿ç”¨ç‰Œæ—¶ï¼Œä½ å¯ä»¥è·å¾—æ­¤ç‰Œå¹¶å¯¹å…¶ä½¿ç”¨è®°å½•æ­¤ç‰Œåçš„ã€Œä¼å…µã€ã€‚",
            "DIY_shefu2":"è®¾ä¼",
            "DIY_shefu2_info":"",
            "DIY_benyu":"è´²è‚²",
            "DIY_benyu_info":"å½“ä½ é€ æˆæˆ–å—åˆ°1ç‚¹ä¼¤å®³åï¼Œä½ å¯ä»¥å°†æ‰‹ç‰Œæ‘¸è‡³5ï¼Œè‹¥æ­¤æ—¶æ˜¯å…¶çš„å›åˆï¼Œå…¶æœ¬å›åˆæŠ€èƒ½å¤±æ•ˆã€‚",
            "DIY_renjie":"å¿æˆ’",
            "DIY_renjie_info":"é”å®šæŠ€ï¼Œå½“ä½ å—åˆ°1ç‚¹ä¼¤å®³åï¼Œä½ è·å¾—ä¸€æšâ€œå¿â€æ ‡è®°ï¼›é”å®šæŠ€ï¼Œå½“ä½ äºå¼ƒç‰Œé˜¶æ®µå†…å¼ƒç½®ç‰Œåï¼Œä½ è·å¾—ç­‰åŒäºå¤±å»çš„ç‰Œæ•°é‡çš„â€œå¿â€æ ‡è®°ã€‚",
            "DIY_baiyin":"æ‹œå°",
            "DIY_baiyin_info":"é™å®šæŠ€ï¼Œå‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥ç§»å»æ‰€æœ‰â€œå¿â€æ ‡è®°ï¼Œå¹¶å°†ä½“åŠ›ä¸Šé™ã€ä½“åŠ›å€¼å’Œæ‰‹ç‰Œæ•°è°ƒæ•´ä¸ºYï¼Œç„¶åä½ å¤±å»â€œå¿æˆ’â€å¹¶å¯ä»¥ä»â€œé¬¼æ‰â€ã€â€œæ”¾é€â€ã€â€œåˆ¶è¡¡â€ã€â€œé›†æ™ºâ€å’Œâ€œå®Œæ€â€ä¸­é€‰æ‹©Yä¸ªè·å¾—ä¹‹ï¼ˆYä¸ºä½ ç§»å»æ‰€æœ‰â€œå¿â€æ ‡è®°çš„æ•°é‡ï¼‰ã€‚",
            "DIY_baiyin_jizhi":"é›†æ™º",
            "DIY_baiyin_jizhi_info":"å½“ä½ ä½¿ç”¨é”¦å›Šç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸ä¸€å¼ ç‰Œã€‚è‹¥æ­¤ç‰Œä¸ºåŸºæœ¬ç‰Œï¼Œåˆ™ä½ å¯ä»¥å¼ƒç½®ä¹‹ï¼Œç„¶åä»¤æœ¬å›åˆæ‰‹ç‰Œä¸Šé™+1ã€‚",
            "DIY_baiyin_zhiheng":"åˆ¶è¡¡",
            "DIY_baiyin_zhiheng_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä»»æ„å¼ ç‰Œå¹¶æ‘¸ç­‰é‡çš„ç‰Œï¼Œè‹¥ä½ åœ¨å‘åŠ¨ã€–åˆ¶è¡¡ã€—æ—¶å¼ƒç½®äº†æ‰€æœ‰æ‰‹ç‰Œï¼Œåˆ™ä½ å¤šæ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_baiyin_wansha":"å®Œæ€",
            "DIY_baiyin_wansha_info":"é”å®šæŠ€ã€‚â‘ ä½ çš„å›åˆå†…ï¼Œä¸å¤„äºæ¿’æ­»çŠ¶æ€çš„è§’è‰²ä¸èƒ½ä½¿ç”¨ã€æ¡ƒã€‘ã€‚â‘¡å½“æœ‰è§’è‰²äºä½ çš„å›åˆå†…è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ ä»¤å…¶ä»¥å¤–çš„æ‰€æœ‰å…¶ä»–è§’è‰²çš„éé”å®šæŠ€å¤±æ•ˆç›´åˆ°æ­¤æ¿’æ­»çŠ¶æ€ç»“ç®—ç»“æŸã€‚",
            "DIY_lianpo":"è¿ç ´",
            "DIY_lianpo_info":"ä¸€åè§’è‰²çš„å›åˆç»“æŸæ—¶ï¼Œè‹¥ä½ æœ¬å›åˆå†…æ€æ­»è¿‡è§’è‰²ï¼Œåˆ™ä½ å¯ä»¥è¿›è¡Œä¸€ä¸ªé¢å¤–çš„å›åˆã€‚",
            "DIY_baiyin_guicai":"é¬¼æ‰",
            "DIY_baiyin_guicai_info":"åœ¨ä»»æ„è§’è‰²çš„åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥æ‰“å‡ºä¸€å¼ ç‰Œä»£æ›¿ä¹‹ã€‚",
            "DIY_baiyin_fangzhu":"æ”¾é€",
            "DIY_baiyin_fangzhu_info":"å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¤ä¸€åå…¶ä»–è§’è‰²æ‘¸Xå¼ ç‰Œï¼ˆXä¸ºä½ å·²æŸå¤±çš„ä½“åŠ›å€¼ï¼‰ï¼Œç„¶åè¯¥è§’è‰²å°†æ­¦å°†ç‰Œç¿»é¢ã€‚",
            "DIY_qingxi":"å€¾è¢­",
            "DIY_qingxi_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æˆ–ã€å†³æ–—ã€‘æŒ‡å®šç›®æ ‡åï¼Œä½ å¯ä»¥ä»¤å…¶å¼ƒç½®Xå¼ æ‰‹ç‰Œï¼ˆXä¸º4-ä½ è‡³å…¶çš„è·ç¦»ä¸”è‡³å°‘ä¸º1ï¼‰ï¼Œç„¶åä»¤æ­¤ç‰Œå¯¹å…¶ä¼¤å®³+1å¹¶è¿›è¡Œåˆ¤å®šï¼Œè‹¥ç»“æœä¸ºçº¢è‰²ï¼Œæ­¤ç‰Œä¸èƒ½è¢«è¯¥è§’è‰²å“åº”ã€‚",
            "DIY_qinguo":"å‹¤å›½",
            "DIY_qinguo_info":"å½“ä½ å› ä½¿ç”¨æˆ–å¤±å»è£…å¤‡ç‰Œå¯¼è‡´è£…å¤‡åŒºå†…ç‰Œçš„æ•°é‡å‘ç”Ÿå˜åŒ–åï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼ˆä¸è®¡å…¥æ¬¡æ•°ï¼‰ï¼Œç„¶åè‹¥ä½ è£…å¤‡åŒºå†…ç‰Œçš„æ•°é‡ç­‰äº/ä¸ç­‰äºä½ çš„ä½“åŠ›å€¼ï¼Œåˆ™ä½ å›å¤1ç‚¹ä½“åŠ›/æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_hengwu":"æ¨ªå©º",
            "DIY_hengwu_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ç‰Œåï¼Œå…¶ä»–è§’è‰²æœ¬å›åˆä¸èƒ½ä½¿ç”¨æˆ–æ‰“å‡ºç‚¹æ•°å¤§äºæ­¤ç‰Œçš„ç‰Œä¸”æœ¬å›åˆä½ ä½¿ç”¨å°äºæ­¤ç‰Œç‚¹æ•°çš„ç‰Œæ— æ¬¡æ•°é™åˆ¶ã€‚",
            "DIY_shouli":"ç‹©éªŠ",
            "DIY_shouli_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºæœ¬å›åˆç¬¬ä¸€å¼ è¯¥èŠ±è‰²çš„ç‰Œæ—¶ï¼Œä½ æ‘¸4-Xå¼ ç‰Œï¼Œç„¶åæœ¬å›åˆä½ çš„ç‰Œç‚¹æ•°-Xï¼ˆXä¸ºæœ¬å›åˆä½ å·²ä½¿ç”¨æˆ–æ‰“å‡ºç‰Œçš„èŠ±è‰²æ•°ï¼‰",
            "DIY_hengwu2":"æ¨ªå©º",
            "DIY_hengwu2_info":"",
            "DIY_hengwu3":"æ¨ªå©º",
            "DIY_hengwu3_info":"",
            "DIY_yanjiao":"ä¸¥æ•™",
            "DIY_yanjiao_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å›ç­”ä¸€é“é¢˜ç›®ï¼Œè‹¥å…¶ç­”å¯¹ï¼Œä½ æ‘¸å››å¼ ç‰Œï¼Œç„¶åå°†ä¸¤å¼ ç‰Œäº¤ç»™å…¶ï¼›åä¹‹ï¼Œä½ å¯¹å…¶é€ æˆä¸€ç‚¹ä¼¤å®³ã€‚",
            "DIY_shengshen":"çœèº«",
            "DIY_shengshen_info":"å½“ä½ å—åˆ°æœ‰ä¼¤å®³æ¥æºçš„ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥å¯¹ä¼¤å®³æ¥æºå‘åŠ¨ä¸€æ¬¡ã€–ä¸¥æ•™ã€—ï¼Œæˆ–æ‘¸ä¸€å¼ ç‰Œç„¶åä»¤ä½ ã€–ä¸¥æ•™ã€—å‘åŠ¨æ¬¡æ•°+1ç›´è‡³ä½ çš„ä¸‹ä¸ªå›åˆç»“æŸé˜¶æ®µã€‚",
            "DIY_jiufa":"ä¹ä¼",
            "DIY_jiufa_info":"é”å®šæŠ€ï¼Œä½ å§‹ç»ˆè·³è¿‡ä½ çš„åˆ¤å®šã€æ‘¸ç‰Œå’Œå¼ƒç‰Œé˜¶æ®µã€‚æ¯å›åˆé™Xæ¬¡ï¼Œä½ å¯ä»¥äºå‡ºç‰Œé˜¶æ®µåæ‰§è¡Œä¸€ä¸ªå‡ºç‰Œé˜¶æ®µï¼ˆXèµ·å§‹ä¸º0ä¸Šé™ä¸º9ï¼Œä½ æ¯äºå›åˆå†…é€ æˆä¸€æ¬¡ä¼¤å®³ï¼ŒX+1ï¼‰",
            "DIY_tianren":"å¤©ä»»",
            "DIY_tianren_info":"é”å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ é¡»é€‰æ‹©ä¸€é¡¹ï¼š1.å°†æ‰‹ç‰Œè°ƒæ•´è‡³å››å¼ ï¼›2.ä¾æ¬¡é‡é“¸å››å¼ ç‰Œã€‚è‹¥ä½ æ˜¯ç¬¬ä¸€æ¬¡é€‰æ‹©æˆ–æ‰€é€‰é¡¹ä¸ä¸Šä¸€æ¬¡æ‰€é€‰æ‹©ä¸åŒï¼Œä½ ä¸‹ä¸ªå‡ºç‰Œé˜¶æ®µæ—¶é€‰é¡¹æ•°å­—+1ï¼›åä¹‹ï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_paoxiao":"å’†å“®",
            "DIY_paoxiao_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ã€æ€ã€‘æ— æ¬¡æ•°é™åˆ¶ã€‚å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘æ—¶ï¼Œè‹¥æ­¤ç‰Œä¸ä½ ä¸Šä¸€å¼ ä½¿ç”¨æˆ–æ‰“å‡ºçš„ã€æ€ã€‘é¢œè‰²ä¸åŒï¼Œä½ ä»ç‰Œå †/å¼ƒç‰Œå †ä¸­è·å¾—ä¸€å¼ ä¸æ­¤ç‰Œé¢œè‰²ä¸åŒçš„ç‰Œï¼Œç„¶åä½ ä½¿ç”¨çš„ä¸‹ä¸€å¼ ã€æ€ã€‘æ— è·ç¦»é™åˆ¶ã€‚",
            "DIY_wusheng":"æ­¦åœ£",
            "DIY_wusheng_info":"ä½ å¯ä»¥å°†ä¸€å¼ ã€æ€ã€‘æˆ–çº¢è‰²ç‰Œå½“åšä»»æ„ç‚¹æ•°ä»»æ„èŠ±è‰²ä»»æ„å±æ€§çš„ã€æ€ã€‘ä½¿ç”¨æˆ–æ‰“å‡ºã€‚ä½ çš„â™¦ï¸/â™¥ï¸ã€æ€ã€‘æ— è·ç¦»/æ¬¡æ•°é™åˆ¶ã€‚",
            "DIY_tianzuo":"å¤©ä½",
            "DIY_tianzuo_info":"é”å®šæŠ€ï¼Œå½“ä½ çš„ç‰Œå› ä½¿ç”¨ï¼Œæ‰“å‡ºæˆ–å¼ƒç½®è€Œè¿›å…¥å¼ƒç‰Œå †æ—¶ï¼Œä½ å°†è¿™äº›ç‰Œæ ‡è®°ä¸ºâ€œç­–â€å¹¶éšæœºæ’å…¥ç‰Œå †ã€‚å½“â€œç­–â€è¢«ä¸€åè§’è‰²è·å¾—æ—¶ï¼Œä½ ç§»é™¤å…¶â€œç­–â€æ ‡è®°å¹¶é€‰æ‹©ä¸€é¡¹ï¼š1.ä»¤ä½ æˆ–å…¶è·å¾—ç‰Œå †ä¸­çš„ä¸€å¼ â€œæ™ºå›Šâ€ï¼›2.è§†ä¸ºå¯¹å…¶ä½¿ç”¨ä¸€å¼ ã€å¥‡æ­£ç›¸ç”Ÿã€‘ã€‚",
            "DIY_lingce":"çµç­–",
            "DIY_lingce_info":"ç‰Œå †ä¸­çš„â€œç­–â€å§‹ç»ˆå¯¹æ‰€æœ‰äººå¯è§ã€‚ç‰Œå †ä¸­çš„â€œç­–â€æ¯æœ‰ä¸€ç§ç‰Œåï¼Œä½ æ‘¸ç‰Œé˜¶æ®µçš„é¢å®šæ‘¸ç‰Œæ•°ä¾¿+1ï¼ˆè‡³å¤š+3ï¼‰ã€‚å½“â€œç­–â€çš„ç‰Œåè¶…è¿‡ä¸‰ç§æ—¶ï¼Œæ¯è¶…è¿‡ä¸€ç§ï¼Œä½ çš„æ‰‹ç‰Œä¸Šé™ä¾¿-1ï¼ˆè‡³å¤š-3ï¼Œä¸”è‡³å¤šå‡è‡³1ï¼‰ã€‚",
            "DIY_dinghan":"å®šæ±‰",
            "DIY_dinghan_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¢åŠ æˆ–ç§»é™¤ä¸€ä¸ªâ€œæ™ºå›Šâ€ã€‚",
            "DIY_qianchong":"è°¦å†²",
            "DIY_qianchong_info":"å½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ å³æ—¶ç‰Œæ—¶ï¼Œä½ å¯ä»¥å£°æ˜æ­¤ç‰Œåï¼Œç„¶åä»¤åœºä¸Šæ‰€æœ‰ç”·æ€§è§’è‰²äº¤ç»™ä½ ä¸€å¼ æ‰‹ç‰Œï¼Œè‹¥ä½ ä»¥æ­¤æ³•è·å¾—äº†å£°æ˜ç‰Œæˆ–è·å¾—ç‰Œæ•°å¤§äºä½ çš„ä½“åŠ›å€¼ï¼Œä½ å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_dulie":"ç¬ƒçƒˆ",
            "DIY_dulie_info":"é”å®šæŠ€ï¼Œå½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šä¸€åå…¶ä»–è§’è‰²ä¸ºç›®æ ‡æˆ–æˆä¸ºå…¶ä»–è§’è‰²ä½¿ç”¨ã€æ€ã€‘çš„ç›®æ ‡æ—¶ï¼Œä½ è¿›è¡Œåˆ¤å®šï¼Œè‹¥ä¸ºâ™¥ï¸ï¼Œæ­¤ã€æ€ã€‘ç›®æ ‡ç§»å»å…¶/ä½ ï¼Œåä¹‹ï¼Œæœ¬å›åˆâ€œè¡é­”â€å¤±æ•ˆï¼Œç„¶åä½ è·å¾—â€œç¥è‘—â€ã€‚",
            "DIY_dangmo":"è¡é­”",
            "DIY_dangmo_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ã€æ€ã€‘å¯ä»¥é¢å¤–æŒ‡å®šä»»æ„ä¸ªåˆæ³•ç›®æ ‡ï¼Œå½“å…¶ä¸­ä¸€ä¸ªè§’è‰²ä½¿ç”¨ã€é—ªã€‘æŠµæ¶ˆäº†æ­¤ã€æ€ã€‘ï¼Œä½ è·å¾—ç›®æ ‡å„ä¸€å¼ ç‰Œï¼Œå¹¶ä»¤æ­¤ã€æ€ã€‘å¯¹å‰©ä½™è§’è‰²æ— æ•ˆã€‚",
            "DIY_dangmo_audio":"",
            "DIY_dangmo_audio_info":"",
            "DIY_dangmo_trigger":"è¡é­”",
            "DIY_dangmo_trigger_info":"",
            "DIY_dangmo_remove":"è¡é­”",
            "DIY_dangmo_remove_info":"",
            "DIY_shenzhu":"ç¥è‘—",
            "DIY_shenzhu_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“åšæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶çš„ã€æ€ã€‘å¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ï¼Œæ­¤ã€æ€ã€‘ç»“ç®—å®Œæˆåï¼Œä½ é€‰æ‹©ä¸€é¡¹ï¼š1.æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åæ­¤æŠ€èƒ½å¤±æ•ˆç›´è‡³ä½ ä¸‹ä¸€æ¬¡ä½¿ç”¨ã€æ€ã€‘æˆ–é€ æˆä¼¤å®³ï¼›2.æ‘¸ä¸‰å¼ ç‰Œï¼Œç„¶åå¤±å»æ­¤æŠ€èƒ½ã€‚",
            "DIY_shenzhu_audio":"",
            "DIY_shenzhu_audio_info":"",
            "DIY_xionghuo":"å‡¶é•¬",
            "DIY_xionghuo_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä»¤ä¸€åè§’è‰²å¯¹è‡ªå·±é€ æˆ1ç‚¹ä¼¤å®³ï¼Œç„¶åå…¶è§†ä¸ºä½¿ç”¨ä¸€å¼ ä¼¤å®³ç±»ç‰Œï¼Œä¸”ä½ å¯ä»¥ä»¤æ­¤ç‰Œï¼š1.ä¼¤å®³+1ï¼›2.é¢å¤–ç»“ç®—ä¸€æ¬¡ï¼›3.èƒŒæ°´ï¼šå…¶å°†æ‰‹ç‰Œæ•°è°ƒæ•´è‡³ä¸€ã€‚",
            "DIY_shajue":"æ€ç»",
            "DIY_shajue_info":"ä½ å¯ä»¥å°†ä¸€åè§’è‰²æ‰‹ç‰Œ/è£…å¤‡åŒºå†…çš„æœ€åä¸€å¼ ç‰Œå½“ä½œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶çš„ã€æ€ã€‘ä½¿ç”¨ï¼Œå½“ä¸€åè§’è‰²åœ¨æ­¤ã€æ€ã€‘ç»“ç®—è¿‡ç¨‹ä¸­è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ é‡ç½®ä½ å›åˆä½¿ç”¨ã€æ€ã€‘çš„æ¬¡æ•°å¹¶è·å¾—ä»¤å…¶è¿›å…¥æ¿’æ­»çŠ¶æ€çš„ç‰Œã€‚",
            "DIY_luoshen":"æ´›ç¥",
            "DIY_luoshen_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥è¿›è¡Œåˆ¤å®šï¼Œå¹¶è·å¾—æ­¤åˆ¤å®šç‰Œï¼Œè‹¥æ‰€æœ‰åˆ¤å®šç»“æœçš„èŠ±è‰²é›†åˆAâ«‹é›†åˆB={â™¥ï¸,â™ ï¸,â™¦ï¸,â™£ï¸}ï¼Œåˆ™å¯é‡å¤æ­¤æµç¨‹ï¼ˆè‹¥ä½ æ‹¥æœ‰ã€–å€¾å›½ã€—ä¸”é¢œè‰²ä¸ºçº¢è‰²ï¼Œä½ ç¿»é¢ï¼‰ã€‚ä½ é€šè¿‡ã€–æ´›ç¥ã€—è·å¾—çš„ç‰Œï¼Œä¸è®¡å…¥å½“å‰å›åˆçš„æ‰‹ç‰Œä¸Šé™ã€‚",
            "DIY_qingguo":"å€¾å›½",
            "DIY_qingguo_info":"å½“ä¸€åè§’è‰²ç¿»é¢æ—¶ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åç”·æ€§è§’è‰²å¹¶é€‰æ‹©ä¸€é¡¹ï¼šä»¤å…¶/ä½ å°†æ‰‹ç‰Œæ•°è°ƒæ•´è‡³ä¸ä½ /å…¶ç›¸åŒã€‚",
            "DIY_yilue":"å¼‚ç•¥",
            "DIY_yilue_info":"é”å®šæŠ€ï¼Œç‰Œå †é¡¶ç­‰äºä½ æ‰‹ç‰Œæ•°çš„ç‰Œå¯¹ä½ å¯è§ã€‚ä½ çš„ç¬¬Xå¼ ç‰Œè§†ä¸ºç‰Œå †ä¸­çš„ç¬¬Xå¼ ç‰Œï¼ˆè£…å¤‡é™¤å¤–ï¼‰ã€‚",
            "DIY_zhaoran":"æ˜­å¿ƒ",
            "DIY_zhaoran_info":"ä¸€åè§’è‰²çš„å‡ºç‰Œé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥å±•ç¤ºæ‰€æœ‰æ‰‹ç‰Œï¼Œç„¶åå½“ä½ äºæ­¤é˜¶æ®µä½¿ç”¨ä¸€å¼ ç‰Œåï¼Œä½ åœç®—Yï¼ˆYä¸ºæ­¤é˜¶æ®µä½ å·²ä½¿ç”¨èŠ±è‰²æ•°ï¼‰ï¼Œè‹¥ä½ æ‰‹ç‰Œä¸­æ²¡æœ‰åŒèŠ±è‰²çš„ç‰Œï¼Œä½ æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_dili":"å¸åŠ›",
            "DIY_dili_info":"é”å®šæŠ€ï¼Œæ¸¸æˆå¼€å§‹æ—¶ï¼Œä½ éšæœºè£…å¤‡ä¸€æŠŠâ€œå´ç‹å…­å‰‘â€ã€‚ä½ ä½¿ç”¨çš„æ­¦å™¨ç‰Œéšæœºå˜æ›´ä¸ºä¸€æŠŠâ€œå´ç‹å…­å‰‘â€ã€‚<br><span style='font-family: yuanli'>â€œå´å¤§çš‡å¸æœ‰å®å‰‘å…­ï¼Œä¸€æ›°â€˜ç™½è™¹â€™ï¼ŒäºŒæ›°â€˜ç´«ç”µâ€™ï¼Œä¸‰æ›°â€˜è¾Ÿé‚ªâ€™ï¼Œå››æ›°â€˜æµæ˜Ÿâ€™ï¼Œäº”æ›°â€˜é’å†¥â€™ï¼Œå…­æ›°â€˜ç™¾é‡Œâ€™ã€‚â€â€”â€”æ™‹Â·å´”è±¹ã€Šå¤ä»Šæ³¨ã€‹</span>",
            "DIY_baihongjian":"ç™½è™¹å‰‘",
            "DIY_baihongjian_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ã€æ€ã€‘ã€‚",
            "DIY_liuxingjian":"æµæ˜Ÿå‰‘",
            "DIY_liuxingjian_info":"é”å®šæŠ€ï¼Œä½ å¯ä»¥å¯¹æ”»å‡»èŒƒå›´å¤–çš„è§’è‰²ä½¿ç”¨ã€æ€ã€‘ï¼›å½“ä½ ä¸ä»¥æ­¤æ³•ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡æ—¶ï¼Œä½ å°†æ‰‹ç‰Œä¸­æ‰€æœ‰çš„ã€æ€ã€‘å¯¹å…¶ä½¿ç”¨ã€‚",
            "DIY_zidianjian":"ç´«ç”µå‰‘",
            "DIY_zidianjian_info":"å½“ä½ å¯¹ä¸€åè§’è‰²é€ æˆä¸€ç‚¹ä¼¤å®³åï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œå½“ä½œã€é›·æ€ã€‘å¯¹è·ç¦»å…¶ä¸€ä»¥å†…çš„è§’è‰²ä½¿ç”¨ã€‚",
            "DIY_bixiejian":"è¾Ÿé‚ªå‰‘",
            "DIY_bixiejian_info":"é”å®šæŠ€ï¼Œå½“ä½ æˆä¸ºä¸€å¼ ã€æ€ã€‘çš„ç›®æ ‡æ—¶ï¼Œä½ é¡»å¯¹æ­¤ã€æ€ã€‘ä½¿ç”¨è€…ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ä»¥æŠµæ¶ˆæ­¤ã€æ€ã€‘ï¼Œå¦åˆ™ä½ ä¸å¯å“åº”æ­¤ã€æ€ã€‘ã€‚",
            "DIY_qingmingjian":"é’å†¥å‰‘",
            "DIY_qingmingjian_info":"å½“ä½ ä½¿ç”¨ã€æ€ã€‘æŒ‡å®šç›®æ ‡åï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œæˆ–å¤±å»1ç‚¹ä½“åŠ›å¹¶æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åæ­¤ã€æ€ã€‘ä¸å¯å“åº”ã€‚",
            "DIY_bailijian":"ç™¾é‡Œå‰‘",
            "DIY_bailijian_info":"æ¯å›åˆé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥æ”¶å›ä¸€åè§’è‰²ä½¿ç”¨çš„æœªé€ æˆä¼¤å®³çš„ä¼¤å®³ç±»ç‰Œã€‚",
            "DIY_quyu":"é©±å¾¡",
            "DIY_quyu_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡/å½“ä½ å‘åŠ¨ä¸€æ¬¡è£…å¤‡æŠ€èƒ½æ—¶ï¼Œä½ å¯ä»¥å°†ä¸€å¼ æŒ‡å®šçš„â€œå´ç‹å…­å‰‘â€ç½®å…¥è£…å¤‡åŒºã€‚",
            "DIY_qingxian":"æ¸…å¼¦",
            "DIY_qingxian_info":"æ¸¸æˆå¼€å§‹æ—¶/å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡/å½“ä½ é€ æˆæˆ–å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥åˆ‡æ¢è‡³â€œæ¸…å¼¦éŸµè°±â€ä¸­çš„ä¸€ä¸ªã€‚<br><span style='font-family: yuanli'>â€»æ¸…å¼¦éŸµè°±<br>å½“ä½ åˆ‡æ¢â€œæ¸…å¼¦éŸµè°±â€çš„å›åˆç»“æŸæ—¶ï¼Œä½ å¯ä»¥æ‰§è¡Œä¸€æ¬¡éŸµè°±çš„æ•ˆæœã€‚</span>",
            "DIY_qingxian_ji":"æ¿€å¼¦",
            "DIY_qingxian_ji_info":"å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å¤±å»1ç‚¹ä½“åŠ›ï¼Œéšæœºä½¿ç”¨ä¸€å¼ è£…å¤‡ã€‚",
            "DIY_qingxian_lie":"çƒˆå¼¦",
            "DIY_qingxian_lie_info":"å½“ä½ å›å¤ä½“åŠ›åï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å¤±å»1ç‚¹ä½“åŠ›ï¼Œéšæœºä½¿ç”¨ä¸€å¼ è£…å¤‡ã€‚",
            "DIY_qingxian_rou":"æŸ”å¼¦",
            "DIY_qingxian_rou_info":"å½“ä½ å—åˆ°ä¼¤å®³åï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å›å¤1ç‚¹ä½“åŠ›ï¼Œå¼ƒç½®ä¸€å¼ è£…å¤‡ã€‚",
            "DIY_qingxian_he":"å’Œå¼¦",
            "DIY_qingxian_he_info":"å½“ä½ å›å¤ä½“åŠ›åï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å›å¤1ç‚¹ä½“åŠ›ï¼Œå¼ƒç½®ä¸€å¼ è£…å¤‡ã€‚",
            "DIY_xiangjian":"ç›¸ç…",
            "DIY_xiangjian_info":"é”å®šæŠ€ï¼Œä½ çš„å›åˆå¼€å§‹æ—¶ï¼Œä½ é¡»å£°æ˜ä¸€ç§ç‰Œçš„ç±»å‹ï¼Œæœ¬å›åˆä½ çš„æ‰‹ç‰Œå‡è§†ä¸ºæ­¤ç±»å‹ã€‚ç„¶åä½ é¡»é€‰æ‹©ä¸€åè§’è‰²ï¼Œå…¶æ— æ³•ä½¿ç”¨åŸºæœ¬ç‰ŒæŒ‡å®šç›®æ ‡ä¸”æ— æ³•æˆä¸ºåŸºæœ¬ç‰Œçš„ç›®æ ‡ç›´è‡³ä½ çš„ä¸‹å›åˆå¼€å§‹æ—¶ã€‚",
            "DIY_xiangjian_audio":"",
            "DIY_xiangjian_audio_info":"",
            "DIY_yicheng":"ç–‘åŸ",
            "DIY_yicheng_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€åæ²¡æœ‰â€œç¯±â€çš„è§’è‰²ï¼Œå¹¶å°†å…¶ä¸€å¼ ç‰Œç½®äºå…¶æ­¦å°†ç‰Œä¸Šæˆä¸ºâ€œç¯±â€ã€‚æœ‰â€œç¯±â€çš„è§’è‰²æˆä¸ºéè£…å¤‡ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å°†å…¶æ­¦å°†ç‰Œä¸Šçš„â€œç¯±â€ç½®å…¥å¼ƒç‰Œå †å¹¶è§†ä¸ºå…¶ä½¿ç”¨ä¸€å¼ ä½ æŒ‡å®šçš„é˜²å…·ç‰Œï¼ˆä»¥æ­¤æ³•è½¬åŒ–çš„é˜²å…·ç‰Œäºæ­¤ç‰Œç»“ç®—å®Œæˆåé”€æ¯ï¼‰ã€‚",
            "DIY_weijiang":"å¨å¼œ",
            "DIY_weijiang_info":"é”å®šæŠ€ï¼Œä½ çš„åˆå§‹æ”»å‡»è·ç¦»ä¸º2å’Œ4ã€‚å½“ä½ ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘æŒ‡å®šå”¯ä¸€ç›®æ ‡åï¼Œä½ ä»¤ç¬¦åˆæ”»å‡»è·ç¦»çš„ä¸”è‡³ä½ è·ç¦»ä¸å…¶ç›¸åŒçš„ä¸€åå…¶ä»–è§’è‰²æˆä¸ºæ­¤ã€æ€ã€‘é¢å¤–ç›®æ ‡ï¼Œè‹¥æ— å¯é€‰è§’è‰²ï¼Œæ­¤ã€æ€ã€‘é¢å¤–ç»“ç®—ä¸€æ¬¡ã€‚",
            "DIY_gongjijuli":"æ”»å‡»è·ç¦»",
            "DIY_gongjijuli_info":"æ”»å‡»è·ç¦»ä¸ºä½ ä½¿ç”¨ã€æ€ã€‘å¯ä»¥æŒ‡å®šè§’è‰²è‡³ä½ çš„è·ç¦»ã€‚",
            "DIY_qili":"è’ºè—œ",
            "DIY_qili_info":"å½“ä½ äºä¸€å›åˆå†…ä½¿ç”¨æˆ–æ‰“å‡ºç¬¬Xå¼ ç‰Œæ—¶ï¼Œä½ å¯ä»¥æ‘¸/å¼ƒç½®ä¸€å¼ ç‰Œä»¤ã€–å¨å¼œã€—ä¸­çš„æ•°å­—-/+1æˆ–ä»¤ä½ å‚ä¸è®¡ç®—çš„è·ç¦»+/-1ï¼ˆXä¸ºä½ çš„æ”»å‡»è·ç¦»ï¼‰ã€‚",
            "DIY_jinglve":"æ™¯ç•¥",
            "DIY_jinglve_info":"å‡ºç‰Œé˜¶æ®µæ¯åè§’è‰²é™ä¸€æ¬¡ï¼Œä½ å¯ä»¥è§‚çœ‹ä¸€åè§’è‰²çš„æ‰‹ç‰Œå¹¶å°†è®°å½•å…¶ä¸­ä¸€å¼ ç§°ä¸ºã€Œæ­»å£«ã€ã€‚å½“ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ã€Œæ­»å£«ã€æŒ‡å®šä½ ä¸ºç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥å–æ¶ˆæ­¤ç‰Œæ‰€æœ‰ç›®æ ‡ï¼Œç„¶åè·å¾—æ­¤ç‰Œå¹¶å¯ä»¥ä½¿ç”¨ä¹‹ï¼Œ",
            "DIY_chebian":"æ£å˜",
            "DIY_chebian_info":"é™å®šæŠ€ï¼Œå‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å±•ç¤ºæ‰€æœ‰ã€Œæ­»å£«ã€ç‰Œå¹¶è·å¾—ä¹‹ï¼Œç„¶åä¾æ¬¡ä½¿ç”¨å…¶ä¸­èƒ½ä½¿ç”¨çš„ç‰Œï¼ˆæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ï¼‰ï¼Œæœ€åä½ ç§»é™¤æ‰€æœ‰ã€Œæ­»å£«ã€è®°å½•ã€‚",
            "DIY_longyin":"é¾™åŸ",
            "DIY_longyin_info":"å½“ä¸€åè§’è‰²äºå…¶å‡ºç‰Œé˜¶æ®µå†…ä½¿ç”¨ã€æ€ã€‘æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œï¼Œä»¤æ­¤ã€æ€ã€‘ä¸è®¡å…¥å‡ºç‰Œé˜¶æ®µçš„ä½¿ç”¨æ¬¡æ•°ï¼Œç„¶åè‹¥æ­¤ã€æ€ã€‘æˆ–ä½ å¼ƒç½®çš„ç‰Œä¸ºçº¢è‰²ï¼Œä½ ä¸å…¶è·å¾—å„è‡ªçš„ç›¸å…³ç‰Œï¼ˆä¸€åè§’è‰²ä»¥æ­¤æ³•åªèƒ½è·å¾—å…¶ä¸­ä¸€å¼ ï¼‰ã€‚",
            "DIY_guanwei":"è§‚å¾®",
            "DIY_guanwei_info":"ä¸€åè§’è‰²çš„å¼ƒç‰Œé˜¶æ®µç»“æŸæ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶é€‰æ‹©ä¸€åæœ¬å›åˆä½¿ç”¨æˆ–æ‰“å‡ºç‰Œæ•°ï¼1ä¸”é¢œè‰²å‡ç›¸åŒçš„è§’è‰²ï¼Œå…¶æ‘¸ä¸¤å¼ ç‰Œå¹¶æ‰§è¡Œä¸€ä¸ªå‡ºç‰Œé˜¶æ®µã€‚",
            "DIY_gongqing":"å…¬æ¸…",
            "DIY_gongqing_info":"é”å®šæŠ€ï¼Œå½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œè‹¥ä¼¤å®³æ¥æºæ‰‹ç‰Œæ•°ï¼/ï¼œä½ ï¼Œæ­¤ä¼¤å®³-/+1ã€‚",
            "DIY_jianxiong":"å¥¸é›„",
            "DIY_jianxiong_info":"å½“ä½ å—åˆ°ä¼¤å®³æ—¶ï¼Œä½ å¯ä»¥è®°å½•åœºä¸Šä¸€åå…¶ä»–è§’è‰²çš„ä¸€ä¸ªè§¦å‘æŠ€ã€‚å½“ä½ æˆ–å…¶å—åˆ°ä¼¤å®³1ç‚¹åï¼Œä½ å¯ä»¥å°è¯•å‘åŠ¨ä¸€ä¸ªä½ è®°å½•çš„è§¦å‘æŠ€ã€‚",
            "DIY_yingzi":"è‹±å§¿",
            "DIY_yingzi_info":"æ‘¸ç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥æ”¾å¼ƒæ‘¸ç‰Œå¹¶å±•ç¤ºç‰Œå †é¡¶çš„ä¸‰å¼ ç‰Œï¼Œå°†å…¶ä¸­ä¸€å¼ äº¤ç»™ä¸€åè§’è‰²ç„¶åè·å¾—å…¶ä½™çš„ç‰Œã€‚ä»¥æ­¤æ³•è·å¾—ç‰Œçš„è§’è‰²è·å¾—ä»¥ä¸‹æ•ˆæœç›´è‡³ä½ ä¸‹æ¬¡å‘åŠ¨æ­¤æŠ€èƒ½ï¼šä½ çš„æ‘¸ç‰Œæ•°+1ï¼›ä½ çš„æ‰‹ç‰Œä¸Šé™ç­‰äºä½ çš„ä½“åŠ›ä¸Šé™ã€‚",
            "DIY_fanjian":"åé—´",
            "DIY_fanjian_info":"â‘ å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å°†ä¸€å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²ï¼›â‘¡é”å®šæŠ€ï¼Œå½“ä¸€åå…¶ä»–è§’è‰²è·å¾—ä½ çš„ä¸€å¼ ç‰Œåï¼Œä½ ä»¤å…¶é€‰æ‹©ä¸€é¡¹ï¼šå±•ç¤ºæ‰‹ç‰Œå¹¶å¼ƒç½®æ‰€æœ‰ä¸ä¹‹ç›¸åŒèŠ±è‰²çš„ç‰Œï¼Œæˆ–å¤±å»1ç‚¹ä½“åŠ›ã€‚",
            "DIY_duanfa":"æ–­å‘",
            "DIY_duanfa_info":"æ¯å›åˆé™Xæ¬¡ï¼Œå½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºã€æ€ã€‘/ã€é—ªã€‘æ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ é»‘è‰²ç‰Œæˆ–ã€æ€ã€‘ï¼Œç„¶åè§†ä¸ºä½¿ç”¨æˆ–æ‰“å‡ºæ­¤ç‰Œï¼ˆXä¸ºä½ çš„ä½“åŠ›ä¸Šé™ï¼‰ã€‚",
            "DIY_youdi":"è¯±æ•Œ",
            "DIY_youdi_info":"ç»“æŸé˜¶æ®µå¼€å§‹æ—¶ï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®ä½ çš„ä¸€å¼ ç‰Œã€‚å½“ä½ çš„ä¸€å¼ ç‰Œå› å¼ƒç½®è€Œè¿›å…¥å¼ƒç‰Œå †æ—¶ï¼Œè‹¥æ­¤ç‰Œï¼šä¸ä¸ºé»‘è‰²ï¼Œä½ æ‘¸ä¸€å¼ ç‰Œï¼›ä¸ä¸ºã€æ€ã€‘ï¼Œä½ å¯ä»¥è·å¾—ä¸€åå…¶ä»–è§’è‰²çš„ä¸€å¼ ç‰Œã€‚",
            "DIY_yili":"é—ç¤¼",
            "DIY_yili_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†ä¸­å¤®åŒºå†…çš„ä¸€å¼ ç‰Œäº¤ç»™ä¸€åå…¶ä»–è§’è‰²å¹¶æ‘¸ä¸€å¼ ç‰Œã€‚",
            "DIY_zhenglun":"æ•´è®º",
            "DIY_zhenglun_info":"å½“ä½ å³å°†æ‘¸ç‰Œæ—¶ï¼Œä½ å¯ä»¥ä»¤è‡³å¤šXåå…¶ä»–è§’è‰²ä¾æ¬¡é‡é“¸ä¸€å¼ ç‰Œï¼Œè‹¥å¦‚æ­¤åšï¼Œä½ å°†æ‘¸ç‰Œæ•°æ”¹ä¸ºä¸­å¤®åŒºå†…ç‰Œçš„èŠ±è‰²æ•°ï¼ˆXä¸ºä½ çš„ä½“åŠ›ä¸Šé™ï¼‰ã€‚",
            "DIY_zhiyi":"æ‰§ä¹‰",
            "DIY_zhiyi_info":"ä¸€åè§’è‰²çš„ç»“æŸé˜¶æ®µï¼Œä½ å¯ä»¥å¾ªç¯æ‰§è¡Œä»¥ä¸‹æµç¨‹Xæ¬¡ï¼šä½¿ç”¨ä¸­å¤®åŒºå†…çš„ä¸€å¼ ç‰Œæˆ–æ‘¸ä¸€å¼ ç‰Œï¼ˆXä¸ºä½ æœ¬å›åˆå¤±å»çš„ç‰Œæ•°ï¼‰ã€‚",
            "DIY_chuhai":"é™¤å®³",
            "DIY_chuhai_info":"å‰©ä½™å¯ç”¨3æ¬¡ã€‚å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€é¡¹ï¼šå¼ƒç½®Xå¼ ç‰Œç„¶åå¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³æˆ–ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®Xå¼ ç‰Œç„¶åå¯¹ä½ é€ æˆä¸€ç‚¹ä¼¤å®³ï¼ˆXä¸ºæ­¤æŠ€èƒ½å‘åŠ¨æ¬¡æ•°+1ï¼‰ã€‚",
            "DIY_chuhai_gai":"é™¤å®³Â·æ”¹",
            "DIY_chuhai_gai_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³æˆ–ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä½ é€ æˆ1ç‚¹ä¼¤å®³ã€‚",
            "DIY_chuhai_gai_skill":"é™¤å®³",
            "DIY_chuhai_gai_skill_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ1ç‚¹ä¼¤å®³æˆ–ä»¤ä¸€åå…¶ä»–è§’è‰²å¼ƒç½®ä¸€å¼ ç‰Œå¹¶å¯¹ä½ é€ æˆ1ç‚¹ä¼¤å®³ã€‚",
            "DIY_xianghai":"ä¹¡å®³",
            "DIY_xianghai_info":"é”å®šæŠ€ï¼Œå…¶ä»–è§’è‰²çš„æ‰‹ç‰Œä¸Šé™-1ã€‚å½“ä½ å‘åŠ¨ã€é™¤å®³ã€‘å¯¹è‡ªå·±é€ æˆä¼¤å®³æ—¶ï¼Œä½ å›æ»¡ä½“åŠ›ï¼Œç„¶åä¿®æ”¹ã€é™¤å®³ã€‘ã€å¤±å»ã€ä¹¡å®³ã€‘å¹¶è·å¾—ã€å½°åã€‘ã€‚",
            "DIY_zhangming":"å½°å",
            "DIY_zhangming_info":"é”å®šæŠ€ï¼Œå½“ä½ é€ æˆ/å—åˆ°ä¼¤å®³åï¼Œè‹¥åœºä¸Šæœ‰å”¯ä¸€æ‰‹ç‰Œæœ€å¤š/å°‘ä¸”ä¸ä¸ºä½ ï¼Œä½ ä»¤å…¶éšæœºå¼ƒç½®/æ‘¸ä¸€å¼ ç‰Œï¼Œç„¶åä½ è·å¾—ä¸¤å¼ ä¸ä¹‹ç±»åˆ«ä¸åŒçš„ç‰Œã€‚",
            "DIY_jingce":"ç²¾ç­–",
            "DIY_jingce_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥é€‰æ‹©ä»»æ„åè§’è‰²å¹¶å±•ç¤ºç‰Œå †é¡¶ç­‰é‡çš„ç‰Œï¼Œç„¶åè¿™äº›è§’è‰²ä¾æ¬¡å¯ä»¥ç”¨ä¸€å¼ æ‰‹ç‰Œæ›¿æ¢å…¶ä¸­ä¸€å¼ ç‰Œï¼Œæœ€åä½ å°†è¿™äº›ç‰ŒæŒ‰ä»»æ„æ¬¡åºæ”¾ç½®äºæ­¦å°†ç‰Œä¸Šç§°ä¸ºâ€œç­–â€ã€‚å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¸€å¼ ç‰Œæ—¶ï¼Œè‹¥ä½ æœ‰â€œç­–â€ï¼Œä½ å±•ç¤ºæœ€ä¸Šæ–¹çš„â€œç­–â€ï¼Œç„¶åè‹¥è¿™ä¸¤å¼ ç‰ŒèŠ±è‰²ç›¸åŒï¼Œä½ è·å¾—æ­¤â€œç­–â€ï¼›åä¹‹ï¼Œåˆ™å¼ƒç½®ä¹‹ï¼Œç„¶åä½ å¯ä»¥è°ƒæ•´â€œç­–â€çš„é¡ºåºã€‚",
            "DIY_langxi":"ç‹¼è¢­",
            "DIY_langxi_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥è¡¨æ¼”ä¸€æ¬¡å°„å‡»ï¼Œç„¶åå¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆå°„å‡»åˆ†æ•°ç‚¹çš„ä¼¤å®³ã€‚",
            "DIY_yisuan":"å¼ˆç®—",
            "DIY_yisuan_info": "å½“ä½ äºå‡ºç‰Œé˜¶æ®µä½¿ç”¨çš„é”¦å›Šç‰Œç»“ç®—ç»“æŸåï¼Œä½ å¯ä»¥å‡1ç‚¹ä½“åŠ›ä¸Šé™å¹¶è·å¾—æ­¤ç‰Œå¯¹åº”çš„æ‰€æœ‰å®ä½“ç‰Œã€‚",
            "DIY_wurong":"æ€ƒæˆ",
            "DIY_wurong_info":'å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å’Œä¸€åå…¶ä»–è§’è‰²åŒæ—¶æ‰“å‡ºä¸€å¼ æ ‡å‡†åŒ…/å†›äº‰åŒ…/é€é¹¿å¤©ä¸‹åŒ…çš„å³æ—¶ç‰Œã€‚è‹¥å…¶æ‰“å‡ºçš„ç‰Œä¸æ˜¯ä½ æ‰“å‡ºç‰Œçš„å…¶ä»–å¯¹åº”å“åº”ç‰Œï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹å…¶æ‰§è¡ŒXæ¬¡ä½ æ‰“å‡ºç‰Œçš„æ•ˆæœæˆ–æ‘¸Xå¼ ç‰Œã€‚<br>ï¼ˆXä¸ºå…¶æ‰“å‡ºç‰Œçš„å…¶ä»–å¯¹åº”å“åº”ç‰Œæ•°ä¸­è¾ƒå¤§ä¸€å€¼ï¼‰<br><img src="'+lib.assetURL+'extension/å¤©ç‰¢ä»¤/biao.png" width="470" height="138">',
            "DIY_shizhi":"çŸ¢å¿—",
            "DIY_shizhi_info":"é”å®šæŠ€ï¼Œè‹¥ä½ çš„ä½“åŠ›å€¼ä¸º1ï¼Œä½ çš„ã€é—ªã€‘è§†ä¸ºã€æ€ã€‘ï¼›ä¸”ä½ çš„å¼ƒç‰Œé˜¶æ®µæ”¹ä¸ºå‡ºç‰Œé˜¶æ®µã€‚",
            "DIY_longhun":"é¾™é­‚",
            "DIY_longhun_info":"å½“ä½ ä¸ä»¥æ­¤æ³•ä½¿ç”¨ä¸€å¼ ç‰ŒæŒ‡å®šå”¯ä¸€ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹å…¶ä½¿ç”¨å¦ä¸€ç§ç‰Œåçš„å³æ—¶ç‰Œï¼Œæˆ–å¯¹ä¸€åå…¶ä»–è§’è‰²ä½¿ç”¨ä¸€å¼ åŒåå³æ—¶ç‰Œã€‚ç„¶åå–æ¶ˆæ­¤ç‰Œç›®æ ‡ã€‚",
            "DIY_juejing":"ç»å¢ƒ",
            "DIY_juejing_info":"å½“ä½ æˆä¸ºä½“åŠ›å€¼ä¸å°äºä½ çš„å…¶ä»–è§’è‰²ä½¿ç”¨ç‰Œçš„ç›®æ ‡æ—¶ï¼Œä½ å¯ä»¥è§†ä¸ºå¯¹ç›®æ ‡ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ï¼Œè‹¥ä½ åœ¨æ­¤ã€æ€ã€‘ç»“ç®—æœŸé—´é€ æˆäº†ä¼¤å®³ï¼Œæ­¤ç‰Œå¯¹ä½ æ— æ•ˆã€‚æ­¤ã€æ€ã€‘ç»“ç®—å®Œæˆåä½ é¡»å¼ƒç½®ä¸€å¼ ç‰Œã€‚",
            "DIY_leiji":"é›·å‡»",
            "DIY_leiji_info":"å½“ä¸€å¼ çº¢è‰²åˆ¤å®šç‰Œç”Ÿæ•ˆåï¼Œä½ å¯ä»¥ä»¤ä¸€åå…¶ä»–è§’è‰²è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥ç»“æœä¸ºâ™ ï¸/â™£ï¸ï¼Œä½ å¯ä»¥å¯¹ä¸€åå…¶ä»–è§’è‰²é€ æˆ2/1ç‚¹é›·å±æ€§ä¼¤å®³ã€‚",
            "DIY_guidao":"é¬¼é“",
            "DIY_guidao_info":"å½“ä½ éœ€è¦ä½¿ç”¨æˆ–æ‰“å‡ºã€æ€ã€‘/ã€é—ªã€‘æ—¶ï¼Œä½ å¯ä»¥ä»¤å½“å‰é˜¶æ®µè§’è‰²è¿›è¡Œä¸€æ¬¡åˆ¤å®šï¼Œè‹¥ç»“æœä¸ºçº¢ï¼Œåˆ™è§†ä¸ºä½ ä½¿ç”¨æˆ–æ‰“å‡ºä¹‹ã€‚",
            "DIY_kuangcai":"ç‹‚æ‰",
            "DIY_kuangcai_info":"é”å®šæŠ€ï¼Œä½ ä½¿ç”¨ç‰Œæ— è·ç¦»å’Œæ¬¡æ•°é™åˆ¶ã€‚å½“ä½ ä½¿ç”¨æˆ–æ‰“å‡ºçš„ä¸€å¼ ç‰Œç»“ç®—å®Œæˆåï¼Œä½ å¼ƒç½®æ‰€æœ‰æ‰‹ç‰Œç„¶åæ‘¸Xå¼ ç‰Œï¼ˆXä¸ºä¸­å¤®åŒºå†…çš„èŠ±è‰²æ•°ï¼‰ã€‚",
            "DIY_kurou":"è‹¦è‚‰",
            "DIY_kurou_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å±•ç¤ºç‰Œå †é¡¶çš„ä¸¤å¼ ç‰Œï¼Œç„¶åä½ å¯ä»¥è·å¾—ä¹‹å¹¶å¤±å»ä¸€ç‚¹ä½“åŠ›ã€‚",
            "DIY_shengan_jieying":"åŠ«è¥",
            "DIY_shengan_jieying_info":"å‡ºç‰Œé˜¶æ®µï¼Œä½ å¯ä»¥å¯¹ä¸€åæ”»å‡»èŒƒå›´å†…çš„å…¶ä»–è§’è‰²ä½¿ç”¨ä¸€å¼ ã€æ€ã€‘ã€‚æ­¤ã€æ€ã€‘å¯ä»¥æ”¹ä¸ºè·å¾—ç›®æ ‡è‡³å¤šXå¼ ç‰Œï¼ˆXä¸ºå…¶ä½“åŠ›å€¼ï¼‰",
            "DIY_poxi":"é­„è¢­",
            "DIY_poxi_info":"å‡†å¤‡é˜¶æ®µï¼Œä½ å¯ä»¥å¤±å»ä¸€ç‚¹ä½“åŠ›å¹¶ä»ç‰Œå †ä¸­è·å¾—ä¸€å¼ ã€æ€ã€‘ï¼Œè‹¥å¦‚æ­¤åšï¼Œæœ¬å›åˆä½ çš„æ”»å‡»èŒƒå›´æ— é™ä¸”ä½ ä½¿ç”¨çš„ã€æ€ã€‘ç»“ç®—å®Œæˆåï¼Œè‹¥æ­¤ã€æ€ã€‘æœªé€ æˆä¼¤å®³ï¼Œä½ æ”¶å›ä¹‹",
            "DIY_xiaojun":"éªéš½",
            "DIY_xiaojun_info":"é”å®šæŠ€ï¼Œä½ å¯è£…å¤‡æ­¦å™¨ç‰Œçš„ä¸Šé™+å·²åºŸé™¤çš„è£…å¤‡æ æ•°ã€‚å½“ä½ è£…å¤‡æˆ–å¤±å»ä¸€å¼ éæ­¦å™¨è£…å¤‡ç‰Œåï¼Œä½ åºŸé™¤æ­¤è£…å¤‡æ ï¼Œç„¶åå±¯å†›1ã€‚",
            "DIY_wangong":"æŒ½å¼“",
            "DIY_wangong_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å°†åŒºåŸŸå†…çš„æ­¦å™¨ç‰Œä¾æ¬¡å½“åšæ— è·ç¦»é™åˆ¶ä¸”ä¼¤å®³åŸºæ•°ä¸ºå¯¹åº”æ­¦å™¨ç‰Œæ”»å‡»èŒƒå›´çš„ã€æ€ã€‘ä½¿ç”¨ã€‚",
			"DIY_tianze":"å¤©åˆ™",
			"DIY_tianze_info":"é”å®šæŠ€ï¼Œå›åˆæŠ€ï¼Œä¸€åè§’è‰²å¤±å»é»‘è‰²é™¤å»¶æ—¶é”¦å›Šç‰Œä»¥å¤–çš„ç‰Œåï¼Œä½ ä»¤å…¶è¿›è¡Œä¸€æ¬¡ã€é—ªç”µã€‘åˆ¤å®šã€‚",
			"DIY_difa":"åœ°æ³•",
			"DIY_difa_info":"ä¸€å¼ åˆ¤å®šç‰Œç”Ÿæ•ˆå‰ï¼Œä½ å¯ä»¥é€‰æ‹©ç‰Œå †é¡¶/åº•çš„ä¸€å¼ ç‰Œä»£æ›¿ä¹‹ï¼›è‹¥åˆ¤å®šç‰Œä¸ºçº¢è‰²ï¼Œä½ äº®å‡ºç‰Œå †åº•çš„ä¸‰å¼ ç‰Œå¹¶å¯ä»¥è·å¾—ç±»åˆ«ä¸åŒçš„ç‰Œå„ä¸€å¼ ã€‚",
			"DIY_dujin":"ç‹¬è¿›",
			"DIY_dujin_info":"é”å®šæŠ€ï¼Œä½ å¯¹å…¶ä»–è§’è‰²å’Œå…¶ä»–è§’è‰²å¯¹ä½ ä½¿ç”¨çš„ç›®æ ‡å”¯ä¸€çš„å³æ—¶ç‰Œå‡é¢å¤–ç»“ç®—ä¸€æ¬¡æ•ˆæœã€‚",
			"DIY_anguo":"å®‰å›½",
			"DIY_anguo_info":"æ¯å›åˆæ¯é¡¹é™ä¸€æ¬¡ï¼Œå½“ä¸€åè§’è‰²çš„<span class=firetext>ä½“åŠ›å€¼</span>/<span class=yellowtext>æ‰‹ç‰Œæ•°</span>/<span class=thundertext>è£…å¤‡åŒºç‰Œæ•°</span>å‘ç”Ÿæ”¹å˜æ—¶ï¼Œè‹¥å…¶ä¸ºå…¨åœº<span class=firetext>ä½“åŠ›å€¼æœ€ä½</span>/<span class=yellowtext>æ‰‹ç‰Œæ•°æœ€å°‘</span>/<span class=thundertext>è£…å¤‡åŒºç‰Œæ•°æœ€å°‘</span>çš„è§’è‰²æ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶<span class=firetext>å›å¤1ç‚¹ä½“åŠ›</span>/<span class=yellowtext>æ‘¸ä¸€å¼ ç‰Œ</span>/<span class=thundertext>éšæœºä½¿ç”¨ä¸€å¼ è£…å¤‡ç‰Œ</span>ã€‚",
			"DIY_zhuifeng":"æ¤é”‹",
			"DIY_zhuifeng_info":"å½“ä½ ä¸€æ¬¡æ€§<span class=thundertext>å‡å°‘</span>/<span class=greentext>å¤±å»</span>å¤§äºX<span class=thundertext>ç‚¹</span>/<span class=greentext>å¼ </span><span class=thundertext>ä½“åŠ›</span>/<span class=greentext>ç‰Œ</span>æ—¶ï¼Œä½ å¯ä»¥è§†ä¸ºä½¿ç”¨ä¸€å¼ ã€å†³æ–—ã€‘ï¼ˆXä¸ºæœ¬å›åˆæ­¤æŠ€èƒ½å‘åŠ¨æ¬¡æ•°+1ï¼‰ã€‚",
			"DIY_chongjian":"å†²åš",
			"DIY_chongjian_info":"å½“ä½ ä½¿ç”¨ä¸€å¼ ä¼¤å®³ç±»ç‰Œæ—¶ï¼Œä½ å¯ä»¥å¼ƒç½®ä»»æ„å¼ ç‰Œå¹¶å¼ƒç½®æ­¤ç‰Œå„ç›®æ ‡è‡³å¤šç­‰é‡çš„ç‰Œï¼Œè‹¥å¦‚æ­¤åšï¼Œæ­¤ç‰Œä¼¤å®³åŸºæ•°+1ã€‚",
			"DIY_quedi":"å´æ•Œ",
			"DIY_quedi_info":"",
			"DIY_pindi":"å“ç¬¬",
			"DIY_pindi_info":"å‡ºç‰Œé˜¶æ®µæ¯åè§’è‰²é™ä¸€æ¬¡ï¼Œä½ å¯ä»¥å¼ƒç½®Xå¼ ç‰Œç„¶åä»¤ä¸€åè§’è‰²æ‘¸æˆ–å¼ƒç½®X+1å¼ ç‰Œï¼ˆXä¸ºæ­¤æŠ€èƒ½æœ¬å›åˆå‘åŠ¨æ¬¡æ•°ï¼‰ã€‚",
            "DIY_faen":"æ³•æ©",
			"DIY_faen_info":"å½“ä¸€åè§’è‰²å¤±å»æœ€åä¸€å¼ æ‰‹ç‰Œæˆ–è¿›å…¥æ¿’æ­»çŠ¶æ€æ—¶ï¼Œä½ å¯ä»¥ä»¤å…¶æ‘¸ä¸€å¼ ç‰Œã€‚",
			"DIY_shangyi":"å°šä¹‰",
			"DIY_shangyi_info":"å‡ºç‰Œé˜¶æ®µé™ä¸€æ¬¡ï¼Œä½ å¯ä»¥ä¸ä¸€åæœ‰æ‰‹ç‰Œçš„å…¶ä»–è§’è‰²äº’ç›¸è§‚çœ‹å¯¹æ–¹çš„æ‰‹ç‰Œï¼Œç„¶åä½ å¯ä»¥ç”¨ä¸€ç§é¢œè‰²çš„æ‰€æœ‰æ‰‹ç‰Œäº¤æ¢å…¶åŒºåŸŸå†…é¢œè‰²ä¸åŒçš„ä»»æ„å¼ ç‰Œã€‚",
			"DIY_xiangyu":"ç¿”ç¾½",
			"DIY_xiangyu_info":"é”å®šæŠ€ï¼Œä½ çš„ç›¸é‚»è§’è‰²æ¯æœ‰ä»¥ä¸‹ä¸€é¡¹ä¸å¤§äºä½ ï¼Œä½ çš„æ”»å‡»èŒƒå›´å’Œä½¿ç”¨ã€æ€ã€‘æŠµæ¶ˆéœ€ä½¿ç”¨ã€é—ªã€‘çš„æ•°é‡+1ï¼š1.ä½“åŠ›å€¼ï¼›2.æ‰‹ç‰Œæ•°ï¼›3.åœºä¸Šç‰Œæ•°ã€‚",
			"DIY_fuhai":"æµ®æµ·",
			"DIY_fuhai_info":"å‡ºç‰Œé˜¶æ®µæ¯åè§’è‰²é™ä¸¤æ¬¡ï¼Œä½ å¯ä»¥ç”¨ä¸€å¼ ç‰Œä¸ä½ çš„ç›¸é‚»è§’è‰²æ‹¼ç‚¹ï¼Œä½ ä¸æ‹¼ç‚¹ç‰Œç‚¹æ•°æœ€å°çš„è§’è‰²äº¤æ¢åº§æ¬¡å¹¶è·å¾—å…¶çš„æ‹¼ç‚¹ç‰Œï¼›è‹¥è¯¥è§’è‰²ä¸ºä½ ï¼Œä½ æ”¹ä¸ºæ‘¸Xå¼ ç‰Œï¼ˆXä¸ºæœ¬å›åˆä½ å‘åŠ¨ã€–æµ®æµ·ã€—çš„æ¬¡æ•°ï¼‰ã€‚å½“ä½ çš„æ‹¼ç‚¹ç‰Œäº®å‡ºåï¼Œè‹¥ä½ ä¸å…¶æ‹¼ç‚¹ç‰Œç‚¹æ•°ç›¸åŒï¼Œå…¶ç‚¹æ•°+1æˆ–ä½ çš„ç‚¹æ•°-1ã€‚",
		    "DIY_yinghun":"è‹±é­‚",
			"DIY_yinghun_info":"æ³•åˆ™æŠ€ï¼Œæ¯è½®é™ä¸€æ¬¡ï¼Œå‡†å¤‡é˜¶æ®µ/å½“ä½ å—åˆ°ä¼¤å®³æ—¶/éé¦–è½®æ¬¡å¼€å§‹æ—¶ï¼Œä½ å¯ä»¥<u>å¤±å»1ç‚¹ä½“åŠ›</u>å¹¶ä»¤ä¸€åå…¶ä»–è§’è‰²æ‰§è¡Œä¸€é¡¹ï¼š<br>â‘ æ‘¸ä¸€å¼ ç‰Œå¹¶å¼ƒç½®Xå¼ ç‰Œï¼›â‘¡æ‘¸Xå¼ ç‰Œå¹¶å¼ƒç½®ä¸€å¼ ç‰Œã€‚ï¼ˆXä¸ºä½ çš„å·²æŸä½“åŠ›å€¼ï¼‰<br>ä½ æ­»äº¡åï¼Œåˆ’çº¿å¥æ”¹ä¸ºï¼š<u>å‡1ç‚¹ä½“åŠ›ä¸Šé™</u>",
		},
    },
    intro:"<img style=width:238px src=extension/å¤©ç‰¢ä»¤/å¤©ç‰¢ä»¤.jpg><div></img><ul><span style='font-family: yuanli'><li>å½“å‰ç‰ˆæœ¬ï¼šv10.20</span><li>ğŸ‘‡ç‚¹å‡»æœ€ä¸‹æ–¹æ–‡å­—å¯ä»¥åé¦ˆbugå“¦</ul></div>",
    author:"Alâ‚‚Oâ‚ƒÂ·3Hâ‚‚Oà¸…à¸…*ï¼ˆ2HAlOâ‚‚Â·Hâ‚‚Oà¸…à¸…*ï¼‰<br><span style='font-family: yuanli'>æ‰©å±•äº¤æµç¾¤ï¼š644189851</span><br>ç‰¹åˆ«é¸£è°¢ä»¥ä¸‹äººå‘˜çš„å¸®åŠ©ï¼ˆåŒ…æ‹¬ä½†ä¸é™äºè®¾è®¡ã€ä»£ç ã€å›¾ç‰‡ã€ç²¾ç¥â€¦â€¦ä¸Šçš„æ”¯æŒï¼‰<br>èŠ±å®ã€åƒé¢çŒ«ã€å•Šå©Šã€Rintimã€æŸšå­ã€å¤œæ­ã€æ¸…èŒ¶ã€cycã€é›·â€¦â€¦",
    diskURL:"",
    forumURL:"",
    version:"10.20",
},files:{"character":["JX_zhouyu.jpg"],"card":["DIY_bailijian.png"],"skill":[]}}})